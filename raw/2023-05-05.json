[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 202517, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3791, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 387475, "username": "oceanquake", "url": "https://www.v2ex.com/u/oceanquake", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/335e/3fb8/387475_mini.png?m=1683183788", "avatar_normal": "https://cdn.v2ex.com/avatar/335e/3fb8/387475_normal.png?m=1683183788", "avatar_large": "https://cdn.v2ex.com/avatar/335e/3fb8/387475_large.png?m=1683183788", "avatar_xlarge": "https://cdn.v2ex.com/avatar/335e/3fb8/387475_xlarge.png?m=1683183788", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/335e/3fb8/387475_xlarge.png?m=1683183788", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/335e/3fb8/387475_xlarge.png?m=1683183788", "created": 1551180009, "last_modified": 1683183788}, "last_reply_by": "www5070504", "last_touched": 1683253034, "title": "说出三部推荐给想入二次元世界新人的动漫（多多益善）", "url": "https://www.v2ex.com/t/937247", "created": 1683183523, "deleted": 0, "content": "本人程序员一只，之前没咋接触过二次元的世界，动漫也很少看。五一陪女朋友去了上海的 CP29 。第一天我早上 6 点多到的那里，已经人山人海，各种 cosplayer 。有被震撼到，想着 V2 大佬多，就来问问各位都看啥动漫", "content_rendered": "<p>本人程序员一只，之前没咋接触过二次元的世界，动漫也很少看。五一陪女朋友去了上海的 CP29 。第一天我早上 6 点多到的那里，已经人山人海，各种 cosplayer 。有被震撼到，想着 V2 大佬多，就来问问各位都看啥动漫</p>\n", "last_modified": 1683183523, "replies": 180, "id": 937247}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 202517, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3791, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 476119, "username": "hzjseasea", "url": "https://www.v2ex.com/u/hzjseasea", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "塔上没有神，只有爬塔的人", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/08a6/bf2e/476119_mini.png?m=1649670010", "avatar_normal": "https://cdn.v2ex.com/avatar/08a6/bf2e/476119_normal.png?m=1649670010", "avatar_large": "https://cdn.v2ex.com/avatar/08a6/bf2e/476119_large.png?m=1649670010", "avatar_xlarge": "https://cdn.v2ex.com/avatar/08a6/bf2e/476119_xlarge.png?m=1649670010", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/08a6/bf2e/476119_xlarge.png?m=1649670010", "created": 1583984240, "last_modified": 1649670010}, "last_reply_by": "AmberTest", "last_touched": 1683253006, "title": "老大哥们，相机来点推荐～", "url": "https://www.v2ex.com/t/937144", "created": 1683166946, "deleted": 0, "content": "最近想上手一下相机，周末可以出去拍拍照什么的不用在家里打游戏刷剧(ps 有点厌倦这样过完一天了)\r\n\r\n五一去上海的玩的时候，顺便逛了一下相机店 也问了一下周边的朋友，有下面几种选择\r\n\r\n- a6400 + 18135 最近溢价很严重，8800 左右的相机京东 10100 左右\r\n- a6400 + 1650 套机 8000 出头点，听朋友说狗头相机不如 iphone13 所以我的选择倾向于上面这个\r\n- 佳能 90d + 18135\r\n- 索尼 zve10 + 1650\r\n- 尼康 z30 or z50\r\n\r\n\r\n其实一开始我同学给我推荐的是索尼和尼康，但我偏爱大法一点，之前学校买的 mdr1000x 到现在还屹立不倒....所以对他家的电子产品有好感，但是最近线下直营店的体验对我来说很不好，上海回杭州以后我去了 in77 那边的索尼店，店员有一种傲娇感(相对于上海来说) 然后我咨询了一下 a6400 的价格以及预约的条件和等待的时间，他看我很犹豫的样子就开始给我推荐 zve10 ，说这个和 a6400 一摸一样还便宜 2000 后面就是我跟他在争两个相机的区别了....我就感觉实事求是有差别就说出来，对他来说就是卖出去就行了...很是不解，包括我也看了一下大众点评 美团 上对杭州索尼店的评价..差评居多 上海 4.5 的平均分， 杭州 4.3 是最高的了。这玩意也有地区差别？\r\n\r\n\r\n能不能从售后和性价比上推荐推荐入门的相机，风景 > 人像。静态 > 动态 \r\n\r\n3q~", "content_rendered": "<p>最近想上手一下相机，周末可以出去拍拍照什么的不用在家里打游戏刷剧(ps 有点厌倦这样过完一天了)</p>\n<p>五一去上海的玩的时候，顺便逛了一下相机店 也问了一下周边的朋友，有下面几种选择</p>\n<ul>\n<li>a6400 + 18135 最近溢价很严重，8800 左右的相机京东 10100 左右</li>\n<li>a6400 + 1650 套机 8000 出头点，听朋友说狗头相机不如 iphone13 所以我的选择倾向于上面这个</li>\n<li>佳能 90d + 18135</li>\n<li>索尼 zve10 + 1650</li>\n<li>尼康 z30 or z50</li>\n</ul>\n<p>其实一开始我同学给我推荐的是索尼和尼康，但我偏爱大法一点，之前学校买的 mdr1000x 到现在还屹立不倒....所以对他家的电子产品有好感，但是最近线下直营店的体验对我来说很不好，上海回杭州以后我去了 in77 那边的索尼店，店员有一种傲娇感(相对于上海来说) 然后我咨询了一下 a6400 的价格以及预约的条件和等待的时间，他看我很犹豫的样子就开始给我推荐 zve10 ，说这个和 a6400 一摸一样还便宜 2000 后面就是我跟他在争两个相机的区别了....我就感觉实事求是有差别就说出来，对他来说就是卖出去就行了...很是不解，包括我也看了一下大众点评 美团 上对杭州索尼店的评价..差评居多 上海 4.5 的平均分， 杭州 4.3 是最高的了。这玩意也有地区差别？</p>\n<p>能不能从售后和性价比上推荐推荐入门的相机，风景 &gt; 人像。静态 &gt; 动态 </p>\n<p>3q~</p>\n", "last_modified": 1683166946, "replies": 111, "id": 937144}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913", "name": "apple", "avatar_normal": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913", "title": "Apple", "url": "https://www.v2ex.com/go/apple", "topics": 22128, "footer": "", "header": "设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。", "title_alternative": "Apple", "avatar_mini": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913", "stars": 2571, "aliases": [], "root": false, "id": 184, "parent_node_name": "hardware"}, "member": {"id": 626591, "username": "ravoxzou", "url": "https://www.v2ex.com/u/ravoxzou", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/f294c650bd638733a165aceceb24e27d?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/f294c650bd638733a165aceceb24e27d?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/f294c650bd638733a165aceceb24e27d?s=73&d=retro", "created": 1682912155, "last_modified": 1682912155}, "last_reply_by": "gzxworknb", "last_touched": 1683251649, "title": "macbook 怎么解决玩游戏的问题", "url": "https://www.v2ex.com/t/937208", "created": 1683177267, "deleted": 0, "content": "断断续续用过三台 macbook ，第一台是 2015 款的 MBA ，第二台是 2019 款的 MBP16 ，第三台是目前在用的 2023 款的 MBP16 ，中间换过 win 本，主要是为了打游戏，先后用过外星人 m15 、灵刃 14 、灵刃 15 精英版。为了解决打游戏的问题，在考虑以下两个方案：\r\n\r\n1 、带掌机，有 switch ，但是不能玩很多 pc 游戏，像老头环、生化 4 重置版等，steamdeck 考虑过，另外 ROG 的新掌机也在关注；\r\n\r\n2 、再买一台 windows 全能本做备用机，想打游戏的时候带 win 本，比掌机的优势是屏幕大。\r\n\r\n大家都是怎么解决玩游戏需求的？\r\n\r\n另外，关于备用 win 本有没有好的推荐？需求：\r\n\r\n（ 1 ）颜值、做工、细节是第一位的需求，对标 MBP16 ，金属外壳，游戏本造型暂不考虑；\r\n\r\n（ 2 ）屏幕，15-16 寸 OLED 或 MiniLED 屏，2k 或 1k 高刷电竞屏暂不考虑；\r\n\r\n（ 3 ）发热、续航，日常办公、上网情况下，不烫手、没有明显的噪音，续航 5 小时以上，不插电使用流畅；\r\n\r\n（ 4 ）便携性，以 MBP16 为参照（ 2.16kg 重量、16.8mm 厚度），重量 2.5kg 、厚度 20mm 是底线；\r\n\r\n（ 5 ）性能，能满足 1080p 分辨率、中等画质下老头环达到 60 帧。", "content_rendered": "<p>断断续续用过三台 macbook ，第一台是 2015 款的 MBA ，第二台是 2019 款的 MBP16 ，第三台是目前在用的 2023 款的 MBP16 ，中间换过 win 本，主要是为了打游戏，先后用过外星人 m15 、灵刃 14 、灵刃 15 精英版。为了解决打游戏的问题，在考虑以下两个方案：</p>\n<p>1 、带掌机，有 switch ，但是不能玩很多 pc 游戏，像老头环、生化 4 重置版等，steamdeck 考虑过，另外 ROG 的新掌机也在关注；</p>\n<p>2 、再买一台 windows 全能本做备用机，想打游戏的时候带 win 本，比掌机的优势是屏幕大。</p>\n<p>大家都是怎么解决玩游戏需求的？</p>\n<p>另外，关于备用 win 本有没有好的推荐？需求：</p>\n<p>（ 1 ）颜值、做工、细节是第一位的需求，对标 MBP16 ，金属外壳，游戏本造型暂不考虑；</p>\n<p>（ 2 ）屏幕，15-16 寸 OLED 或 MiniLED 屏，2k 或 1k 高刷电竞屏暂不考虑；</p>\n<p>（ 3 ）发热、续航，日常办公、上网情况下，不烫手、没有明显的噪音，续航 5 小时以上，不插电使用流畅；</p>\n<p>（ 4 ）便携性，以 MBP16 为参照（ 2.16kg 重量、16.8mm 厚度），重量 2.5kg 、厚度 20mm 是底线；</p>\n<p>（ 5 ）性能，能满足 1080p 分辨率、中等画质下老头环达到 60 帧。</p>\n", "last_modified": 1683177395, "replies": 74, "id": 937208}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1677911181", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1677911181", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 55561, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1677911181", "stars": 8363, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 37926, "username": "anson0370", "url": "https://www.v2ex.com/u/anson0370", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/0b18/4af4/37926_mini.png?m=1681798693", "avatar_normal": "https://cdn.v2ex.com/avatar/0b18/4af4/37926_normal.png?m=1681798693", "avatar_large": "https://cdn.v2ex.com/avatar/0b18/4af4/37926_large.png?m=1681798693", "created": 1366595905, "last_modified": 1681798693}, "last_reply_by": "zhuisui", "last_touched": 1683252752, "title": "做了个 IntelliJ 主题，让我再也不想用 JetBrains 的 IDE 了", "url": "https://www.v2ex.com/t/937267", "created": 1683186296, "deleted": 0, "content": "大家好，前不久分享了下我们的 [HardHacker 的主题]( https://v2ex.com/t/933474)，有些朋友表示想要 JetBrains 的版本。讲道理我也是写了十几年 Java 的，那还有什么好说的，整💪。\r\n\r\n目前已经整了一个算是可用的版本了，大家可以在 Marketplace 里搜索 HardHacker 找到。\r\n\r\n这里也丢个图：\r\n\r\n![https://github.com/hardhackerlabs/theme-jetbrains/raw/master/preview.png]( https://github.com/hardhackerlabs/theme-jetbrains/raw/master/preview.png)\r\n\r\n只能说真的是**无知者无畏**，下次谁再让我给 IntelliJ 做主题，我谢谢他🙏。以下都是吐槽，也算是我踩到的坑，分享出来给也想要做 IntelliJ 主题的勇士参考一下，不感兴趣的朋友就可以直接略过了。\r\n\r\n---\r\n\r\n## 出师不利，官方教程跑不通\r\n\r\n首先我们打开官方文档，找到 Theme 的部分。IntelliJ 的 Theme 也是 plugin 的一种，JetBrains 专门为 Theme 做了一个简化的工程和创建流程。看起来很简单，next 、next 、run ，喜提 `ClassNotFoundException` 。经过亿点点研究之后，我发现是 IDEA 在 run Theme plugin 的时候 classpath 里少了个 IDEA 自己的 jar ，但是没找到办法自定义 run Theme plugin 的时候的 classpath 。\r\n\r\n于是又经过亿点点搜索之后，我找到了这个：\r\n\r\n![https://i.imgur.com/UEOjTnZ.png]( https://i.imgur.com/UEOjTnZ.png)\r\n\r\n相关 issue 在这：[https://youtrack.jetbrains.com/issue/IDEA-302414]( https://youtrack.jetbrains.com/issue/IDEA-302414) 。好嘛，7 months ago 。不过 JB 家 bug 常年不修也是传统了🤷🏻‍♂️，只要有 workaround 那也行。\r\n\r\n---\r\n\r\n## Schema 困惑之旅\r\n\r\n把我的 theme 切换成 gradle 工程之后，总算可以跑起来了。\r\n\r\n众所周知，IntelliJ 的样式分成 theme 和 schema 两部分，theme 控制 UI ，而 schema 则控制 editor 的内容。（这里就要给 vscode 磕一个了，它就不分，开发 theme 的体验非常舒爽）\r\n\r\n由于我之前在 Github 上找到一个 JB 官方的 schema converter：[JetBrains/colorSchemeTool (github.com)]( https://github.com/JetBrains/colorSchemeTool) 。用它可以把 vscode 的 theme 转换成 IntelliJ 的 schema ，我决定从它的转换结果开始。然后困惑之旅就开始了。\r\n\r\n### 不知道 key 值是什么\r\n\r\nIntelliJ 的 schema 是个 XML 文件，大概长这样：\r\n\r\n```xml\r\n<scheme name=\"Hard Hacker\" parent_scheme=\"Darcula\" version=\"142\">\r\n  <colors>\r\n    <option name=\"SELECTION_BACKGROUND\" value=\"3f3951\"/>\r\n\t</colors>\r\n\t<attributes>\r\n    <option name=\"HYPERLINK_ATTRIBUTES\">\r\n      <value>\r\n        <option name=\"FOREGROUND\" value=\"e192ef\"/>\r\n        <option name=\"EFFECT_TYPE\" value=\"1\"/>\r\n        <option name=\"EFFECT_COLOR\" value=\"e192ef\"/>\r\n      </value>\r\n    </option>\r\n  </attributes>\r\n</scheme>\r\n```\r\n\r\n看起来挺清晰的，但问题是这个 option 的 name 是完全没有文档的。官方的意思是你看着我们内置的主题文件自己猜吧：[intellij-community/highContrastScheme.xml at idea/231.8109.175 · JetBrains/intellij-community · GitHub]( https://github.com/JetBrains/intellij-community/blob/idea/231.8109.175/platform/platform-resources/src/themes/highContrastScheme.xml) 。\r\n\r\n这些 name 命名毫无规律，比如：\r\n\r\n- HYPERLINK_ATTRIBUTES：这有个 _ATTRIBUTES 后缀。\r\n- RUNTIME_ERROR：这就没有。\r\n- DEFAULT_LABEL：这是 default scope 下的，有个 DEFAULT_ 前缀。\r\n- BAD_CHARACTER：这也是 default scope 下的，没前缀。\r\n- TODO_DEFAULT_ATTRIBUTES：这也是 default scope 下的，跑中间去了，而且为什么你又有 _ATTRIBUTES 后缀了？\r\n- ANNOTATION_NAME_ATTRIBUTES：这是 Java scope 下的，从命名上根本看不出是 Java 。\r\n- Class：这是 Groovy 的，好家伙原来是用大小写来区分 Java 和 Grovvy 的吗？\r\n- KOTLIN_DYNAMIC_PROPERTY_CALL：这个能看出来了，是 kotlin 的。\r\n- REGEXP.CHAR_CLASS：等等，为什么你不是下划线？为什么你特别？\r\n- Clojure Keyword：好嘛……\r\n\r\n你想从中找到规律？主打的就是一个没有规律。✌️🤬\r\n\r\n那么怎么才能准确找到你想改的 option 呢？特别是上面提到的那个 JB 官方转换工具的转换结果还缺斤少两的情况下？就此事**我和 ChatGPT 探讨了一下**，它给了我一个建议：**你直接在 IDE 的 settings 里改，然后导出，再查找**。你别说还真管用……我只需要找到那个配置，然后把颜色改成比如 334554 ，123456 ，然后导出来打开，cmd + f 即可……\r\n\r\n### 默认值逻辑乱七八糟\r\n\r\nIntelliJ 的 schema 里，不同 scope 之间是有继承关系的。比如 Java 的 keyword 会继承 default 的 keyword 。这很方便，但同样的，这部分也没规律。简单来说就是有时候你直接不管，它自动就继承了，而有时候你又必须显式声明，否则它就会有一个默认的💩一样的配色：\r\n\r\n```xml\r\n<option name=\"XPATH.KEYWORD\" baseAttributes=\"DEFAULT_KEYWORD\"/>\r\n```\r\n\r\n### 魔法数字\r\n\r\n注意看我刚才贴的 schema 文件的内容第一行：\r\n\r\n```xml\r\n<scheme name=\"Hard Hacker\" parent_scheme=\"Darcula\" version=\"142\">\r\n```\r\n\r\nversion 是 142 ，但别问我为什么是 142 ，我只知道我改成 143 不行，但我改成 143 再改回 142 似乎可以刷新某种 cache 🧙‍♂️！因为你会发现当你在 devkit 的 IDEA 中改了 schema 并保存后，有一定概率你再改 schema 文件它不生效！此时就可以用这个 143/142 大法。\r\n\r\n然后这个 parent_scheme 是 Darcula （ IntelliJ 自己有个 Darcula 主题，并不是那个 Dracula themes ），你改成别的比如 Dark 也是没用的。还有这 Darcula 拼错了吧喂？\r\n\r\n### 不能 hotreload\r\n\r\n这就不得不再提一下 vscode 了，保存实时生效，简直太方便了🧎🏻‍♂️。但 IntelliJ 这个你要么重新手动 import 一下，要么直接 rerun plugin ，然后等它重新启动一个 devkit 的 IDEA 。\r\n\r\n搞了几次之后我就学乖了，我在 notion 里列了一个 TODO list ，一次改一批然后列进去。重启一次之后对着这个 TODO list 再一个一个检查……\r\n\r\n### 不支持透明度\r\n\r\n都 2023 年了。唯一支持透明度的是 editor 里的滚动条。\r\n\r\n---\r\n\r\n## 困惑加倍，快乐归零\r\n\r\n说完 schema ，我们来看看 theme 部分。基本上 schema 部分的槽点，theme 部分都占了。比如找不到 key （官方给了一个 LaF 工具，但也只能看到 key 值，并不知道具体对应哪里，得不断修改来尝试）；比如不能 hotreload 等等。此外因为 2023 的 New UI 还在 beta 阶段，所以有些 UI 样式改不了，所以如果你安装了主题之后发现有些地方不协调，那很可能就是因为……改不了。\r\n\r\n但最让我**抓狂**的是 code suggestion 的弹出框，就是这个东西：\r\n\r\n![https://i.imgur.com/MnYtwaN.png]( https://i.imgur.com/MnYtwaN.png)\r\n\r\n为了调这个东西，花了我大半天时间。因为……这东西别的都归 theme 管，唯独背景色归 schema 管！我 TM 带着无比的困惑在 LaF 和别人的主题文件里找它的背景色找了两个小时！两个小时！🤬🤬🤬\r\n\r\n---\r\n\r\n经过两天的折腾，我算是知道为什么 IntelliJ 的主题这么少了，就这开发体验没点共产主义吃苦耐劳的优良品质都坚持不下去。\r\n\r\n写到这里的时候我突然想起来自己以前在 youtrack 上 star 过的一些 issues ，我就去翻了一下。好家伙 **9 years ago** 的 issue 还开着呢，7 months 简直不值一提。\r\n\r\n说实话就 schema 里那些 attribute names 的混乱情况，让我很难相信 IntelliJ 里面的代码不是一坨💩⛰️……\r\n\r\n年年更新大版本，就不能解决一下这些历史遗留问题吗？突出一个能跑就行。这么想想好像拿 Fleet 来彻底解决一下是个合理的思路，虽然 JB 说的挺好听的 Fleet 和 IntelliJ 不存在竞争关系，但这不是明摆着前浪后浪的事？\r\n\r\n想想自己从 09 年开始用 IntelliJ IDEA ，到今天 IDEA 也显出老态了。Anyway ，欢迎大家试用主题。", "content_rendered": "<p>大家好，前不久分享了下我们的 <a href=\"https://v2ex.com/t/933474\" rel=\"nofollow\">HardHacker 的主题</a>，有些朋友表示想要 JetBrains 的版本。讲道理我也是写了十几年 Java 的，那还有什么好说的，整💪。</p>\n<p>目前已经整了一个算是可用的版本了，大家可以在 Marketplace 里搜索 HardHacker 找到。</p>\n<p>这里也丢个图：</p>\n<p><img alt=\"https://github.com/hardhackerlabs/theme-jetbrains/raw/master/preview.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://github.com/hardhackerlabs/theme-jetbrains/raw/master/preview.png\"/></p>\n<p>只能说真的是<strong>无知者无畏</strong>，下次谁再让我给 IntelliJ 做主题，我谢谢他🙏。以下都是吐槽，也算是我踩到的坑，分享出来给也想要做 IntelliJ 主题的勇士参考一下，不感兴趣的朋友就可以直接略过了。</p>\n<hr/>\n<h2>出师不利，官方教程跑不通</h2>\n<p>首先我们打开官方文档，找到 Theme 的部分。IntelliJ 的 Theme 也是 plugin 的一种，JetBrains 专门为 Theme 做了一个简化的工程和创建流程。看起来很简单，next 、next 、run ，喜提 <code>ClassNotFoundException</code> 。经过亿点点研究之后，我发现是 IDEA 在 run Theme plugin 的时候 classpath 里少了个 IDEA 自己的 jar ，但是没找到办法自定义 run Theme plugin 的时候的 classpath 。</p>\n<p>于是又经过亿点点搜索之后，我找到了这个：</p>\n<p><img alt=\"https://i.imgur.com/UEOjTnZ.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/UEOjTnZ.png\"/></p>\n<p>相关 issue 在这：<a href=\"https://youtrack.jetbrains.com/issue/IDEA-302414\" rel=\"nofollow\">https://youtrack.jetbrains.com/issue/IDEA-302414</a> 。好嘛，7 months ago 。不过 JB 家 bug 常年不修也是传统了🤷🏻‍♂️，只要有 workaround 那也行。</p>\n<hr/>\n<h2>Schema 困惑之旅</h2>\n<p>把我的 theme 切换成 gradle 工程之后，总算可以跑起来了。</p>\n<p>众所周知，IntelliJ 的样式分成 theme 和 schema 两部分，theme 控制 UI ，而 schema 则控制 editor 的内容。（这里就要给 vscode 磕一个了，它就不分，开发 theme 的体验非常舒爽）</p>\n<p>由于我之前在 Github 上找到一个 JB 官方的 schema converter：<a href=\"https://github.com/JetBrains/colorSchemeTool\" rel=\"nofollow\">JetBrains/colorSchemeTool (github.com)</a> 。用它可以把 vscode 的 theme 转换成 IntelliJ 的 schema ，我决定从它的转换结果开始。然后困惑之旅就开始了。</p>\n<h3>不知道 key 值是什么</h3>\n<p>IntelliJ 的 schema 是个 XML 文件，大概长这样：</p>\n<pre><code class=\"language-xml\">&lt;scheme name=\"Hard Hacker\" parent_scheme=\"Darcula\" version=\"142\"&gt;\n  &lt;colors&gt;\n    &lt;option name=\"SELECTION_BACKGROUND\" value=\"3f3951\"/&gt;\n\t&lt;/colors&gt;\n\t&lt;attributes&gt;\n    &lt;option name=\"HYPERLINK_ATTRIBUTES\"&gt;\n      &lt;value&gt;\n        &lt;option name=\"FOREGROUND\" value=\"e192ef\"/&gt;\n        &lt;option name=\"EFFECT_TYPE\" value=\"1\"/&gt;\n        &lt;option name=\"EFFECT_COLOR\" value=\"e192ef\"/&gt;\n      &lt;/value&gt;\n    &lt;/option&gt;\n  &lt;/attributes&gt;\n&lt;/scheme&gt;\n</code></pre>\n<p>看起来挺清晰的，但问题是这个 option 的 name 是完全没有文档的。官方的意思是你看着我们内置的主题文件自己猜吧：<a href=\"https://github.com/JetBrains/intellij-community/blob/idea/231.8109.175/platform/platform-resources/src/themes/highContrastScheme.xml\" rel=\"nofollow\">intellij-community/highContrastScheme.xml at idea/231.8109.175 · JetBrains/intellij-community · GitHub</a> 。</p>\n<p>这些 name 命名毫无规律，比如：</p>\n<ul>\n<li>HYPERLINK_ATTRIBUTES：这有个 _ATTRIBUTES 后缀。</li>\n<li>RUNTIME_ERROR：这就没有。</li>\n<li>DEFAULT_LABEL：这是 default scope 下的，有个 DEFAULT_ 前缀。</li>\n<li>BAD_CHARACTER：这也是 default scope 下的，没前缀。</li>\n<li>TODO_DEFAULT_ATTRIBUTES：这也是 default scope 下的，跑中间去了，而且为什么你又有 _ATTRIBUTES 后缀了？</li>\n<li>ANNOTATION_NAME_ATTRIBUTES：这是 Java scope 下的，从命名上根本看不出是 Java 。</li>\n<li>Class：这是 Groovy 的，好家伙原来是用大小写来区分 Java 和 Grovvy 的吗？</li>\n<li>KOTLIN_DYNAMIC_PROPERTY_CALL：这个能看出来了，是 kotlin 的。</li>\n<li>REGEXP.CHAR_CLASS：等等，为什么你不是下划线？为什么你特别？</li>\n<li>Clojure Keyword：好嘛……</li>\n</ul>\n<p>你想从中找到规律？主打的就是一个没有规律。✌️🤬</p>\n<p>那么怎么才能准确找到你想改的 option 呢？特别是上面提到的那个 JB 官方转换工具的转换结果还缺斤少两的情况下？就此事<strong>我和 ChatGPT 探讨了一下</strong>，它给了我一个建议：<strong>你直接在 IDE 的 settings 里改，然后导出，再查找</strong>。你别说还真管用……我只需要找到那个配置，然后把颜色改成比如 334554 ，123456 ，然后导出来打开，cmd + f 即可……</p>\n<h3>默认值逻辑乱七八糟</h3>\n<p>IntelliJ 的 schema 里，不同 scope 之间是有继承关系的。比如 Java 的 keyword 会继承 default 的 keyword 。这很方便，但同样的，这部分也没规律。简单来说就是有时候你直接不管，它自动就继承了，而有时候你又必须显式声明，否则它就会有一个默认的💩一样的配色：</p>\n<pre><code class=\"language-xml\">&lt;option name=\"XPATH.KEYWORD\" baseAttributes=\"DEFAULT_KEYWORD\"/&gt;\n</code></pre>\n<h3>魔法数字</h3>\n<p>注意看我刚才贴的 schema 文件的内容第一行：</p>\n<pre><code class=\"language-xml\">&lt;scheme name=\"Hard Hacker\" parent_scheme=\"Darcula\" version=\"142\"&gt;\n</code></pre>\n<p>version 是 142 ，但别问我为什么是 142 ，我只知道我改成 143 不行，但我改成 143 再改回 142 似乎可以刷新某种 cache 🧙‍♂️！因为你会发现当你在 devkit 的 IDEA 中改了 schema 并保存后，有一定概率你再改 schema 文件它不生效！此时就可以用这个 143/142 大法。</p>\n<p>然后这个 parent_scheme 是 Darcula （ IntelliJ 自己有个 Darcula 主题，并不是那个 Dracula themes ），你改成别的比如 Dark 也是没用的。还有这 Darcula 拼错了吧喂？</p>\n<h3>不能 hotreload</h3>\n<p>这就不得不再提一下 vscode 了，保存实时生效，简直太方便了🧎🏻‍♂️。但 IntelliJ 这个你要么重新手动 import 一下，要么直接 rerun plugin ，然后等它重新启动一个 devkit 的 IDEA 。</p>\n<p>搞了几次之后我就学乖了，我在 notion 里列了一个 TODO list ，一次改一批然后列进去。重启一次之后对着这个 TODO list 再一个一个检查……</p>\n<h3>不支持透明度</h3>\n<p>都 2023 年了。唯一支持透明度的是 editor 里的滚动条。</p>\n<hr/>\n<h2>困惑加倍，快乐归零</h2>\n<p>说完 schema ，我们来看看 theme 部分。基本上 schema 部分的槽点，theme 部分都占了。比如找不到 key （官方给了一个 LaF 工具，但也只能看到 key 值，并不知道具体对应哪里，得不断修改来尝试）；比如不能 hotreload 等等。此外因为 2023 的 New UI 还在 beta 阶段，所以有些 UI 样式改不了，所以如果你安装了主题之后发现有些地方不协调，那很可能就是因为……改不了。</p>\n<p>但最让我<strong>抓狂</strong>的是 code suggestion 的弹出框，就是这个东西：</p>\n<p><img alt=\"https://i.imgur.com/MnYtwaN.png\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/MnYtwaN.png\"/></p>\n<p>为了调这个东西，花了我大半天时间。因为……这东西别的都归 theme 管，唯独背景色归 schema 管！我 TM 带着无比的困惑在 LaF 和别人的主题文件里找它的背景色找了两个小时！两个小时！🤬🤬🤬</p>\n<hr/>\n<p>经过两天的折腾，我算是知道为什么 IntelliJ 的主题这么少了，就这开发体验没点共产主义吃苦耐劳的优良品质都坚持不下去。</p>\n<p>写到这里的时候我突然想起来自己以前在 youtrack 上 star 过的一些 issues ，我就去翻了一下。好家伙 <strong>9 years ago</strong> 的 issue 还开着呢，7 months 简直不值一提。</p>\n<p>说实话就 schema 里那些 attribute names 的混乱情况，让我很难相信 IntelliJ 里面的代码不是一坨💩⛰️……</p>\n<p>年年更新大版本，就不能解决一下这些历史遗留问题吗？突出一个能跑就行。这么想想好像拿 Fleet 来彻底解决一下是个合理的思路，虽然 JB 说的挺好听的 Fleet 和 IntelliJ 不存在竞争关系，但这不是明摆着前浪后浪的事？</p>\n<p>想想自己从 09 年开始用 IntelliJ IDEA ，到今天 IDEA 也显出老态了。Anyway ，欢迎大家试用主题。</p>\n", "last_modified": 1683186296, "replies": 61, "id": 937267}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 202517, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3791, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 543008, "username": "luobo2021", "url": "https://www.v2ex.com/u/luobo2021", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/7498/2fb1/543008_mini.png?m=1676513588", "avatar_normal": "https://cdn.v2ex.com/avatar/7498/2fb1/543008_normal.png?m=1676513588", "avatar_large": "https://cdn.v2ex.com/avatar/7498/2fb1/543008_large.png?m=1676513588", "avatar_xlarge": "https://cdn.v2ex.com/avatar/7498/2fb1/543008_xlarge.png?m=1676513588", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/7498/2fb1/543008_xlarge.png?m=1676513588", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/7498/2fb1/543008_xlarge.png?m=1676513588", "created": 1618818986, "last_modified": 1676513588}, "last_reply_by": "cloudzhou", "last_touched": 1683172671, "title": "半夜楼道门口总有人来回踱步抽烟，还对着我家的猫眼摄像头晃脑袋，女友很害怕，怎么办", "url": "https://www.v2ex.com/t/937246", "created": 1683183268, "deleted": 0, "content": "## 起因\r\n\r\n昨夜女友睡不着觉，总觉得有声音，查看了猫眼摄像头，看到有人在楼道里面来回走动，走到我家门口还时不时对着摄像头摇头晃脑，还对着隔壁住户吐烟，女友看到很害怕，睡不着觉，一晚上没睡着，早上上班不敢出门，说以后要和我一起出门\r\n\r\n## 之前\r\n\r\n上个月其实我就发现了这个人，因为我定期会查看摄像头，当时没有告诉女友，担心她害怕（女友属于很害怕的那种，平时家里都是反锁门，每天睡觉都会去检查门是否反锁，有一点声音都很害怕），当时我观察了几天，晚上十一二点左右在外面抽烟，但喜欢在楼道里面来回走动，还时不时对着摄像头摇头晃脑，也想着下次再看到他，我出门去问一下这个人，但摄像头推送有延迟，等我发现后，人就不见了，因为对面是合租房住着好几户吧，也没有直接去找，所以也就不了了之了\r\n\r\n## 想法\r\n\r\n昨夜想了些办法，找居委会或者物业，让他们去找这个人说一下，感觉报警没有用，别人也没做什么，或者我去找那个人，但女友又害怕，说只有我们家有摄像头，害怕被报复，有了想搬家的想法，但房子还没有到期，而且刚缴了房租，不知道怎么办好了，请教下各位朋友，怎么处理这种情况，挺头疼的\r\n\r\n## 视频\r\n链接：<https://streamable.com/ztytdu>      <https://streamable.com/rvuxjr>", "content_rendered": "<h2>起因</h2>\n<p>昨夜女友睡不着觉，总觉得有声音，查看了猫眼摄像头，看到有人在楼道里面来回走动，走到我家门口还时不时对着摄像头摇头晃脑，还对着隔壁住户吐烟，女友看到很害怕，睡不着觉，一晚上没睡着，早上上班不敢出门，说以后要和我一起出门</p>\n<h2>之前</h2>\n<p>上个月其实我就发现了这个人，因为我定期会查看摄像头，当时没有告诉女友，担心她害怕（女友属于很害怕的那种，平时家里都是反锁门，每天睡觉都会去检查门是否反锁，有一点声音都很害怕），当时我观察了几天，晚上十一二点左右在外面抽烟，但喜欢在楼道里面来回走动，还时不时对着摄像头摇头晃脑，也想着下次再看到他，我出门去问一下这个人，但摄像头推送有延迟，等我发现后，人就不见了，因为对面是合租房住着好几户吧，也没有直接去找，所以也就不了了之了</p>\n<h2>想法</h2>\n<p>昨夜想了些办法，找居委会或者物业，让他们去找这个人说一下，感觉报警没有用，别人也没做什么，或者我去找那个人，但女友又害怕，说只有我们家有摄像头，害怕被报复，有了想搬家的想法，但房子还没有到期，而且刚缴了房租，不知道怎么办好了，请教下各位朋友，怎么处理这种情况，挺头疼的</p>\n<h2>视频</h2>\n<p>链接：<a href=\"https://streamable.com/ztytdu\" rel=\"nofollow\">https://streamable.com/ztytdu</a> <a href=\"https://streamable.com/rvuxjr\" rel=\"nofollow\">https://streamable.com/rvuxjr</a></p>\n", "last_modified": 1683183268, "replies": 54, "id": 937246}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1677911181", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1677911181", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 55561, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1677911181", "stars": 8363, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 366760, "username": "utfs8889", "url": "https://www.v2ex.com/u/utfs8889", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/c67a/2e65/366760_mini.png?m=1683175564", "avatar_normal": "https://cdn.v2ex.com/avatar/c67a/2e65/366760_normal.png?m=1683175564", "avatar_large": "https://cdn.v2ex.com/avatar/c67a/2e65/366760_large.png?m=1683175564", "avatar_xlarge": "https://cdn.v2ex.com/avatar/c67a/2e65/366760_xlarge.png?m=1683175564", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/c67a/2e65/366760_xlarge.png?m=1683175564", "created": 1543506228, "last_modified": 1683175564}, "last_reply_by": "standchan", "last_touched": 1683218991, "title": "学生创业团队求教如何推广引流、市场开拓？", "url": "https://www.v2ex.com/t/937198", "created": 1683175512, "deleted": 0, "content": "我们是一个由在校学生组成的创业团队（偏技术），产品（ WRITE-BUG 数字空间，www.writebug.com ，一站式内容管理和交流工具平台）上线一个多月了，受到大部分用户好评。\r\n\r\n但是技术之外的事情（特别是推广引流、市场开拓）不是很懂，目前产品也想对接进入国内高校，但是不清楚如何做？团队同学都没有这方面经验！\r\n\r\n所以请教下熟悉推广引流、市场开拓这块工作的前辈！也真心欢迎有经验的学长、学姐、前辈们能一起合作！\r\n\r\n联系邮箱： demongwc@gmail.com", "content_rendered": "<p>我们是一个由在校学生组成的创业团队（偏技术），产品（ WRITE-BUG 数字空间，<a href=\"http://www.writebug.com\" rel=\"nofollow\">www.writebug.com</a> ，一站式内容管理和交流工具平台）上线一个多月了，受到大部分用户好评。</p>\n<p>但是技术之外的事情（特别是推广引流、市场开拓）不是很懂，目前产品也想对接进入国内高校，但是不清楚如何做？团队同学都没有这方面经验！</p>\n<p>所以请教下熟悉推广引流、市场开拓这块工作的前辈！也真心欢迎有经验的学长、学姐、前辈们能一起合作！</p>\n<p>联系邮箱： <a href=\"mailto:demongwc@gmail.com\">demongwc@gmail.com</a></p>\n", "last_modified": 1683175704, "replies": 53, "id": 937198}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/3cef/96dc/949_large.png?m=1614702882", "name": "nas", "avatar_normal": "https://cdn.v2ex.com/navatar/3cef/96dc/949_normal.png?m=1614702882", "title": "NAS", "url": "https://www.v2ex.com/go/nas", "topics": 1110, "footer": "", "header": "关于网络存储设备的讨论", "title_alternative": "NAS", "avatar_mini": "https://cdn.v2ex.com/navatar/3cef/96dc/949_mini.png?m=1614702882", "stars": 1544, "aliases": [], "root": false, "id": 949, "parent_node_name": "hardware"}, "member": {"id": 523373, "username": "reallittoma", "url": "https://www.v2ex.com/u/reallittoma", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/7dd5f45b84e616b2680cedd87d3838fc?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/7dd5f45b84e616b2680cedd87d3838fc?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/7dd5f45b84e616b2680cedd87d3838fc?s=73&d=retro", "created": 1607670874, "last_modified": 1639707689}, "last_reply_by": "LXGMAX", "last_touched": 1683222475, "title": "自驾车长途搬家怎样运输 NAS？", "url": "https://www.v2ex.com/t/937297", "created": 1683190725, "deleted": 0, "content": "", "content_rendered": "", "last_modified": 1683190725, "replies": 47, "id": 937297}]