[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 197451, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3702, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 407836, "username": "holydancer", "url": "https://www.v2ex.com/u/holydancer", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/0b6e/99c5/407836_mini.png?m=1664529752", "avatar_normal": "https://cdn.v2ex.com/avatar/0b6e/99c5/407836_normal.png?m=1664529752", "avatar_large": "https://cdn.v2ex.com/avatar/0b6e/99c5/407836_large.png?m=1664529752", "avatar_xlarge": "https://cdn.v2ex.com/avatar/0b6e/99c5/407836_xlarge.png?m=1664529752", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/0b6e/99c5/407836_xlarge.png?m=1664529752", "created": 1556595819, "last_modified": 1664529752}, "last_reply_by": "Tdy95", "last_touched": 1676728391, "title": "今天还在刷 V2EX 的，是不是都是周六还要工作的可怜虫", "url": "https://www.v2ex.com/t/917154", "created": 1676698666, "deleted": 0, "content": "我承认，我是。", "content_rendered": "<p>我承认，我是。</p>\n", "last_modified": 1676698666, "replies": 98, "id": 917154}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1673261684", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1673261684", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 53415, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1673261684", "stars": 8194, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 292387, "username": "INCerry", "url": "https://www.v2ex.com/u/INCerry", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/8ef2ea2725ee123c4b6969dab2d7e492?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/8ef2ea2725ee123c4b6969dab2d7e492?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/8ef2ea2725ee123c4b6969dab2d7e492?s=73&d=retro", "created": 1518852501, "last_modified": 1518852501}, "last_reply_by": "nothingistrue", "last_touched": 1676715961, "title": "求各位推荐一款高性能轻薄本", "url": "https://www.v2ex.com/t/917060", "created": 1676643428, "deleted": 0, "content": "我的 I7 8750H 感觉越来越不行了，多开几个项目就开始卡了，想整一个高性能的轻薄本，看 v 友们有没有推荐的。其实就三个要求。\r\n\r\n* 需要 windows 系统，暂不考虑 mac\r\n* 希望重量越轻越好 1.5KG 左右，因为要经常背着跑，现在电脑 2.3KG 太重了\r\n* 内存 64G ，现在的电脑就是 64G 的，经常能用个 45G 左右\r\n\r\n感谢各位！！！", "content_rendered": "<p>我的 I7 8750H 感觉越来越不行了，多开几个项目就开始卡了，想整一个高性能的轻薄本，看 v 友们有没有推荐的。其实就三个要求。</p>\n<ul>\n<li>需要 windows 系统，暂不考虑 mac</li>\n<li>希望重量越轻越好 1.5KG 左右，因为要经常背着跑，现在电脑 2.3KG 太重了</li>\n<li>内存 64G ，现在的电脑就是 64G 的，经常能用个 45G 左右</li>\n</ul>\n<p>感谢各位！！！</p>\n", "last_modified": 1676643428, "replies": 51, "id": 917060}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 197451, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3702, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 606504, "username": "freepoint", "url": "https://www.v2ex.com/u/freepoint", "website": "https://freepoint-jsj.github.io/freepoint.GitHub.io/", "twitter": "rotkaka13", "psn": "", "github": "", "btc": "", "location": "", "tagline": "凡所有相 皆为虚妄", "bio": "爱生活，爱写作。", "avatar_mini": "https://cdn.v2ex.com/gravatar/67c7b69d75806df289428ef5e7ec3b1e?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/67c7b69d75806df289428ef5e7ec3b1e?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/67c7b69d75806df289428ef5e7ec3b1e?s=73&d=retro", "created": 1670917744, "last_modified": 1673927615}, "last_reply_by": "bjzhush", "last_touched": 1676729052, "title": "打算建立一个博客写点文章，有推荐的么", "url": "https://www.v2ex.com/t/917124", "created": 1676688153, "deleted": 0, "content": "- 某宝有代为部署的，100 手工费，域名服务器自己买！\n\n- 关于服务器: 境内第一年 128 ，续费 510/年；国外 /年 46 美金（固定费用以后不涨价），也有更好的 93 美金一年的。\n\n__有建站的朋友欢迎聊一聊。__", "content_rendered": "<ul>\n<li>\n<p>某宝有代为部署的，100 手工费，域名服务器自己买！</p>\n</li>\n<li>\n<p>关于服务器: 境内第一年 128 ，续费 510/年；国外 /年 46 美金（固定费用以后不涨价），也有更好的 93 美金一年的。</p>\n</li>\n</ul>\n<p><strong>有建站的朋友欢迎聊一聊。</strong></p>\n", "last_modified": 1676688153, "replies": 44, "id": 917124}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1650127281", "name": "share", "avatar_normal": "https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1650127281", "title": "分享发现", "url": "https://www.v2ex.com/go/share", "topics": 37437, "footer": "", "header": "分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。", "title_alternative": "Share", "avatar_mini": "https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1650127281", "stars": 5191, "aliases": [], "root": false, "id": 16, "parent_node_name": "v2ex"}, "member": {"id": 550728, "username": "zbzzh", "url": "https://www.v2ex.com/u/zbzzh", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/a9af/f784/550728_mini.png?m=1664281762", "avatar_normal": "https://cdn.v2ex.com/avatar/a9af/f784/550728_normal.png?m=1664281762", "avatar_large": "https://cdn.v2ex.com/avatar/a9af/f784/550728_large.png?m=1664281762", "avatar_xlarge": "https://cdn.v2ex.com/avatar/a9af/f784/550728_xlarge.png?m=1664281762", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/a9af/f784/550728_xlarge.png?m=1664281762", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/a9af/f784/550728_xlarge.png?m=1664281762", "created": 1626135032, "last_modified": 1664281762}, "last_reply_by": "Ericcccccccc", "last_touched": 1676727727, "title": "GitHub 疑似解封", "url": "https://www.v2ex.com/t/917108", "created": 1676679719, "deleted": 0, "content": "gfw 似乎临时关闭了对 github, steam 的 sni 阻断，目前测试非常丝滑", "content_rendered": "<p>gfw 似乎临时关闭了对 github, steam 的 sni 阻断，目前测试非常丝滑</p>\n", "last_modified": 1676679900, "replies": 36, "id": 917108}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1650127281", "name": "share", "avatar_normal": "https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1650127281", "title": "分享发现", "url": "https://www.v2ex.com/go/share", "topics": 37437, "footer": "", "header": "分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。", "title_alternative": "Share", "avatar_mini": "https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1650127281", "stars": 5191, "aliases": [], "root": false, "id": 16, "parent_node_name": "v2ex"}, "member": {"id": 568332, "username": "privater", "url": "https://www.v2ex.com/u/privater", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/88ec9b167e0455b97086f89a84625724?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/88ec9b167e0455b97086f89a84625724?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/88ec9b167e0455b97086f89a84625724?s=73&d=retro", "created": 1641602749, "last_modified": 1676680475}, "last_reply_by": "tianshilei1992", "last_touched": 1676728971, "title": "把双显示器升级成单显示器 LG C2，太舒服了", "url": "https://www.v2ex.com/t/917110", "created": 1676680818, "deleted": 0, "content": "按照 Reddit 的教程，通过 hammerspoon 开启了系统内自动休眠和开启，不用再折腾 TV 遥控器。\r\n\r\n买了 USB-C 转 HDMI 2.1 转接头，按照最新教程顺利开启 4K@100hz 刷新。\r\n\r\n[![pSqgByF.jpg]( https://s1.ax1x.com/2023/02/17/pSqgByF.jpg)]( https://imgse.com/i/pSqgByF)\r\n\r\n[![pSqgDL4.jpg]( https://s1.ax1x.com/2023/02/17/pSqgDL4.jpg)]( https://imgse.com/i/pSqgDL4)", "content_rendered": "<p>按照 Reddit 的教程，通过 hammerspoon 开启了系统内自动休眠和开启，不用再折腾 TV 遥控器。</p>\n<p>买了 USB-C 转 HDMI 2.1 转接头，按照最新教程顺利开启 4K@100hz 刷新。</p>\n<p><a href=\"https://imgse.com/i/pSqgByF\" rel=\"nofollow\"><img alt=\"pSqgByF.jpg\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s1.ax1x.com/2023/02/17/pSqgByF.jpg\"/></a></p>\n<p><a href=\"https://imgse.com/i/pSqgDL4\" rel=\"nofollow\"><img alt=\"pSqgDL4.jpg\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://s1.ax1x.com/2023/02/17/pSqgDL4.jpg\"/></a></p>\n", "last_modified": 1676680818, "replies": 34, "id": 917110}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/fd2c/5e46/1135_large.png?m=1670310953", "name": "openai", "avatar_normal": "https://cdn.v2ex.com/navatar/fd2c/5e46/1135_normal.png?m=1670310953", "title": "OpenAI", "url": "https://www.v2ex.com/go/openai", "topics": 144, "footer": "", "header": "关于 OpenAI 旗下产品 GPT，DALL·E，和 ChatGPT 的讨论。请不要在 V2EX 的回复中粘贴复制来自 AI 生成的文本。", "title_alternative": "OpenAI", "avatar_mini": "https://cdn.v2ex.com/navatar/fd2c/5e46/1135_mini.png?m=1670310953", "stars": 264, "aliases": [], "root": false, "id": 1135, "parent_node_name": "geek"}, "member": {"id": 363007, "username": "vsitebon", "url": "https://www.v2ex.com/u/vsitebon", "website": "https://github.com/quorafind", "twitter": "", "psn": "", "github": "Quorafind", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/f358/8cc3/363007_mini.png?m=1556063713", "avatar_normal": "https://cdn.v2ex.com/avatar/f358/8cc3/363007_normal.png?m=1556063713", "avatar_large": "https://cdn.v2ex.com/avatar/f358/8cc3/363007_large.png?m=1556063713", "created": 1542161524, "last_modified": 1556063713}, "last_reply_by": "jianny", "last_touched": 1676709985, "title": "时隔十天，终于拿到了 New Bing 体验资格", "url": "https://www.v2ex.com/t/917107", "created": 1676678759, "deleted": 0, "content": "那天，New Bing 开始排队后，我几乎第一时间就预约了，想不到等到今天才排上；前几天就已经借过别人的 New Bing 来使用了，确实很惊艳，不过也会出现参考文献乱编的情况，感觉还是要再修炼一下提问的艺术。\r\n\r\n之前的预约帖子： https://v2ex.com/t/914134#reply81", "content_rendered": "<p>那天，New Bing 开始排队后，我几乎第一时间就预约了，想不到等到今天才排上；前几天就已经借过别人的 New Bing 来使用了，确实很惊艳，不过也会出现参考文献乱编的情况，感觉还是要再修炼一下提问的艺术。</p>\n<p>之前的预约帖子： <a href=\"https://v2ex.com/t/914134#reply81\" rel=\"nofollow\">https://v2ex.com/t/914134#reply81</a></p>\n", "last_modified": 1676678809, "replies": 33, "id": 917107}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1673261684", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1673261684", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 53415, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1673261684", "stars": 8194, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 360675, "username": "Nazz", "url": "https://www.v2ex.com/u/Nazz", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/f09f/f559/360675_mini.png?m=1676530115", "avatar_normal": "https://cdn.v2ex.com/avatar/f09f/f559/360675_normal.png?m=1676530115", "avatar_large": "https://cdn.v2ex.com/avatar/f09f/f559/360675_large.png?m=1676530115", "avatar_xlarge": "https://cdn.v2ex.com/avatar/f09f/f559/360675_xlarge.png?m=1676530115", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/f09f/f559/360675_xlarge.png?m=1676530115", "created": 1541253692, "last_modified": 1676530115}, "last_reply_by": "lesismal", "last_touched": 1676716341, "title": "go websocket rps, cpu, latency 全面测评", "url": "https://www.v2ex.com/t/917122", "created": 1676687686, "deleted": 0, "content": "本来想测试四款`websocket package`的, 但是`gobwas/ws`数据太异常还是不放了. 今天测试的三个库分别是\r\n\r\n- [gorilla/websocket]( https://github.com/gorilla/websocket)\r\n- [nhooyr/websocket]( https://github.com/nhooyr/websocket)\r\n- [lxzan/gws]( https://github.com/lxzan/gws)\r\n\r\n测试代码地址: [github]( https://github.com/lxzan/go-websocket-testing)\r\n\r\n### Env\r\n\r\n![env]( https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/env.png)\r\n\r\n### WebSocket Protocol\r\n\r\n正确性高于性能, 首先测试一下`WebSocket`协议. 每个包基本都是用的默认配置，为了节省时间，本项测试关闭了压缩.\r\n可以看到，尽管 gorilla/websocket 和 nhooyr/websocket 宣称通过了所有 autobahn-testsuite 测试，但可能还需要开发者额外写一些代码.\r\n\r\n- 命令\r\n\r\n```bash\r\ndocker run -it --rm \\\r\n  -v ${PWD}/config:/config \\\r\n  -v ${PWD}/reports:/reports \\\r\n  crossbario/autobahn-testsuite \\\r\n  wstest -m fuzzingclient -s /config/fuzzingclient.json\r\n```\r\n\r\n- 结果\r\n  \r\n| package           | Pass | Info | Non-Strict | Unclean | Failed |\r\n| ----------------- | ---- | ---- | ---------- | ------- | ------ |\r\n| lxzan/gws         | 294  | 3    | 4          | 0       | 0      |\r\n| gorilla/websocket | 223  | 3    | 0          | 85      | 75     |\r\n| nhooyr/websocket  | 173  | 3    | 0          | 0       | 125    |\r\n\r\n![testsuite]( https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/testsuite.png)\r\n\r\n### RPS\r\n\r\n```bash\r\n// 1000 connections, 500 messages/second, 1000 Byte Payload\r\ntcpkali -c 1000 --connect-rate 500 -r 500 -T 30s -f assets/1K.txt --ws 127.0.0.1:${port}/connect\r\n```\r\n\r\n- gws\r\n  \r\n```\r\nDestination: [127.0.0.1]:8000\r\nInterface lo address [127.0.0.1]:0\r\nUsing interface lo to connect to [127.0.0.1]:8000\r\nRamped up to 1000 connections.\r\nTotal data sent:     12919.8 MiB (13547411965 bytes)\r\nTotal data received: 12854.5 MiB (13478908970 bytes)\r\nBandwidth per channel: 7.178⇅ Mbps (897.2 kBps)\r\nAggregate bandwidth: 3594.175↓, 3612.441↑ Mbps\r\nPacket rate estimate: 316194.9↓, 581166.7↑ (3↓, 2↑ TCP MSS/op)\r\nTest duration: 30.0017 s.\r\n```\r\n\r\n- gorilla\r\n  \r\n```\r\nDestination: [127.0.0.1]:8001\r\nInterface lo address [127.0.0.1]:0\r\nUsing interface lo to connect to [127.0.0.1]:8001\r\nRamped up to 1000 connections.\r\nTotal data sent:     7077.0 MiB (7420776528 bytes)\r\nTotal data received: 7089.8 MiB (7434174595 bytes)\r\nBandwidth per channel: 3.961⇅ Mbps (495.1 kBps)\r\nAggregate bandwidth: 1982.319↓, 1978.746↑ Mbps\r\nPacket rate estimate: 272613.9↓, 173441.2↑ (2↓, 12↑ TCP MSS/op)\r\nTest duration: 30.0019 s.\r\n```\r\n\r\n- nhooyr\r\n\r\n```\r\nDestination: [127.0.0.1]:8002\r\nInterface lo address [127.0.0.1]:0\r\nUsing interface lo to connect to [127.0.0.1]:8002\r\nRamped up to 1000 connections.\r\nTotal data sent:     5103.5 MiB (5351431830 bytes)\r\nTotal data received: 5140.6 MiB (5390317539 bytes)\r\nBandwidth per channel: 2.856⇅ Mbps (357.0 kBps)\r\nAggregate bandwidth: 1437.359↓, 1426.990↑ Mbps\r\nPacket rate estimate: 135048.1↓, 124004.1↑ (1↓, 14↑ TCP MSS/op)\r\nTest duration: 30.0012 s.\r\n```\r\n\r\n### Latency\r\n\r\n- 1000 connections, 100 messages/second, 1000 Byte Payload\r\n \r\n![gorilla]( https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/1K/gorilla.png)\r\n\r\n![nhooyr]( https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/1K/nhooyr.png)\r\n\r\n![gws]( https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/1K/gws.png)\r\n\r\n```\r\n  PID   USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND\r\n  18305 caster    20   0  720780  38116   7332 S 248.8   1.0  24:29.55 gorilla-linux-amd64\r\n  18325 caster    20   0  720952  52544   7180 S 161.1   1.3  15:57.80 gws-linux-amd64\r\n  18346 caster    20   0  721460  50064   7364 R 311.3   1.3  20:49.94 nhooyr-linux-amd64\r\n```\r\n\r\n- 10000 connections, 10 messages/second, 1000 Byte Payload\r\n \r\n![gorilla]( https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/10K/gorilla.png)\r\n\r\n![nhooyr]( https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/10K/nhooyr.png)\r\n\r\n![gws]( https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/10K/gws.png)\r\n\r\n```\r\n  PID   USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND\r\n  19430 caster    20   0 1070196 395408   6924 S 294.0   9.9   3:44.56 gws-linux-amd64\r\n  19618 caster    20   0  930480 267108   7268 S 313.0   6.7   9:01.10 gorilla-linux-amd64\r\n  20939 caster    20   0 1067980 372916   7236 R 455.8   9.3  12:12.72 nhooyr-linux-amd64\r\n```\r\n\r\n### Final Result\r\n\r\n可以看到, 除了内存, 每一项都是\r\n```\r\ngws > gorilla >> nhooyr\r\n```", "content_rendered": "<p>本来想测试四款<code>websocket package</code>的, 但是<code>gobwas/ws</code>数据太异常还是不放了. 今天测试的三个库分别是</p>\n<ul>\n<li><a href=\"https://github.com/gorilla/websocket\" rel=\"nofollow\">gorilla/websocket</a></li>\n<li><a href=\"https://github.com/nhooyr/websocket\" rel=\"nofollow\">nhooyr/websocket</a></li>\n<li><a href=\"https://github.com/lxzan/gws\" rel=\"nofollow\">lxzan/gws</a></li>\n</ul>\n<p>测试代码地址: <a href=\"https://github.com/lxzan/go-websocket-testing\" rel=\"nofollow\">github</a></p>\n<h3>Env</h3>\n<p><img alt=\"env\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/env.png\"/></p>\n<h3>WebSocket Protocol</h3>\n<p>正确性高于性能, 首先测试一下<code>WebSocket</code>协议. 每个包基本都是用的默认配置，为了节省时间，本项测试关闭了压缩.\n可以看到，尽管 gorilla/websocket 和 nhooyr/websocket 宣称通过了所有 autobahn-testsuite 测试，但可能还需要开发者额外写一些代码.</p>\n<ul>\n<li>命令</li>\n</ul>\n<pre><code class=\"language-bash\">docker run -it --rm \\\n  -v ${PWD}/config:/config \\\n  -v ${PWD}/reports:/reports \\\n  crossbario/autobahn-testsuite \\\n  wstest -m fuzzingclient -s /config/fuzzingclient.json\n</code></pre>\n<ul>\n<li>结果</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>package</th>\n<th>Pass</th>\n<th>Info</th>\n<th>Non-Strict</th>\n<th>Unclean</th>\n<th>Failed</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>lxzan/gws</td>\n<td>294</td>\n<td>3</td>\n<td>4</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>gorilla/websocket</td>\n<td>223</td>\n<td>3</td>\n<td>0</td>\n<td>85</td>\n<td>75</td>\n</tr>\n<tr>\n<td>nhooyr/websocket</td>\n<td>173</td>\n<td>3</td>\n<td>0</td>\n<td>0</td>\n<td>125</td>\n</tr>\n</tbody></table><p><img alt=\"testsuite\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/testsuite.png\"/></p>\n<h3>RPS</h3>\n<pre><code class=\"language-bash\">// 1000 connections, 500 messages/second, 1000 Byte Payload\ntcpkali -c 1000 --connect-rate 500 -r 500 -T 30s -f assets/1K.txt --ws 127.0.0.1:${port}/connect\n</code></pre>\n<ul>\n<li>gws</li>\n</ul>\n<pre><code>Destination: [127.0.0.1]:8000\nInterface lo address [127.0.0.1]:0\nUsing interface lo to connect to [127.0.0.1]:8000\nRamped up to 1000 connections.\nTotal data sent:     12919.8 MiB (13547411965 bytes)\nTotal data received: 12854.5 MiB (13478908970 bytes)\nBandwidth per channel: 7.178⇅ Mbps (897.2 kBps)\nAggregate bandwidth: 3594.175↓, 3612.441↑ Mbps\nPacket rate estimate: 316194.9↓, 581166.7↑ (3↓, 2↑ TCP MSS/op)\nTest duration: 30.0017 s.\n</code></pre>\n<ul>\n<li>gorilla</li>\n</ul>\n<pre><code>Destination: [127.0.0.1]:8001\nInterface lo address [127.0.0.1]:0\nUsing interface lo to connect to [127.0.0.1]:8001\nRamped up to 1000 connections.\nTotal data sent:     7077.0 MiB (7420776528 bytes)\nTotal data received: 7089.8 MiB (7434174595 bytes)\nBandwidth per channel: 3.961⇅ Mbps (495.1 kBps)\nAggregate bandwidth: 1982.319↓, 1978.746↑ Mbps\nPacket rate estimate: 272613.9↓, 173441.2↑ (2↓, 12↑ TCP MSS/op)\nTest duration: 30.0019 s.\n</code></pre>\n<ul>\n<li>nhooyr</li>\n</ul>\n<pre><code>Destination: [127.0.0.1]:8002\nInterface lo address [127.0.0.1]:0\nUsing interface lo to connect to [127.0.0.1]:8002\nRamped up to 1000 connections.\nTotal data sent:     5103.5 MiB (5351431830 bytes)\nTotal data received: 5140.6 MiB (5390317539 bytes)\nBandwidth per channel: 2.856⇅ Mbps (357.0 kBps)\nAggregate bandwidth: 1437.359↓, 1426.990↑ Mbps\nPacket rate estimate: 135048.1↓, 124004.1↑ (1↓, 14↑ TCP MSS/op)\nTest duration: 30.0012 s.\n</code></pre>\n<h3>Latency</h3>\n<ul>\n<li>1000 connections, 100 messages/second, 1000 Byte Payload</li>\n</ul>\n<p><img alt=\"gorilla\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/1K/gorilla.png\"/></p>\n<p><img alt=\"nhooyr\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/1K/nhooyr.png\"/></p>\n<p><img alt=\"gws\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/1K/gws.png\"/></p>\n<pre><code>  PID   USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND\n  18305 caster    20   0  720780  38116   7332 S 248.8   1.0  24:29.55 gorilla-linux-amd64\n  18325 caster    20   0  720952  52544   7180 S 161.1   1.3  15:57.80 gws-linux-amd64\n  18346 caster    20   0  721460  50064   7364 R 311.3   1.3  20:49.94 nhooyr-linux-amd64\n</code></pre>\n<ul>\n<li>10000 connections, 10 messages/second, 1000 Byte Payload</li>\n</ul>\n<p><img alt=\"gorilla\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/10K/gorilla.png\"/></p>\n<p><img alt=\"nhooyr\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/10K/nhooyr.png\"/></p>\n<p><img alt=\"gws\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://raw.githubusercontent.com/lxzan/go-websocket-testing/main/assets/pictures/10K/gws.png\"/></p>\n<pre><code>  PID   USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND\n  19430 caster    20   0 1070196 395408   6924 S 294.0   9.9   3:44.56 gws-linux-amd64\n  19618 caster    20   0  930480 267108   7268 S 313.0   6.7   9:01.10 gorilla-linux-amd64\n  20939 caster    20   0 1067980 372916   7236 R 455.8   9.3  12:12.72 nhooyr-linux-amd64\n</code></pre>\n<h3>Final Result</h3>\n<p>可以看到, 除了内存, 每一项都是</p>\n<pre><code>gws &gt; gorilla &gt;&gt; nhooyr\n</code></pre>\n", "last_modified": 1676687686, "replies": 31, "id": 917122}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/a4a0/42cf/171_large.png?m=1630576706", "name": "invest", "avatar_normal": "https://cdn.v2ex.com/navatar/a4a0/42cf/171_normal.png?m=1630576706", "title": "投资", "url": "https://www.v2ex.com/go/invest", "topics": 1113, "footer": "", "header": "Can you make money with money?", "title_alternative": "Invest", "avatar_mini": "https://cdn.v2ex.com/navatar/a4a0/42cf/171_mini.png?m=1630576706", "stars": 2212, "aliases": [], "root": false, "id": 171, "parent_node_name": "money"}, "member": {"id": 68154, "username": "iyaozhen", "url": "https://www.v2ex.com/u/iyaozhen", "website": "https://iyaozhen.com/", "twitter": "", "psn": "", "github": "iyaozhen", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/6406/09f6/68154_mini.png?m=1646119426", "avatar_normal": "https://cdn.v2ex.com/avatar/6406/09f6/68154_normal.png?m=1646119426", "avatar_large": "https://cdn.v2ex.com/avatar/6406/09f6/68154_large.png?m=1646119426", "created": 1405512207, "last_modified": 1646119426}, "last_reply_by": "xpect", "last_touched": 1676722155, "title": "如何正确理解通货膨胀？", "url": "https://www.v2ex.com/t/917150", "created": 1676697307, "deleted": 0, "content": "直观上，现在的 100 块，能买 100 个馒头，再过 10 年，只能买 50 个馒头了。这就是说的钱放着不动就会贬值（通货膨胀）\r\n\r\n所以很多人说要拿着钱去投资，去买一些资产（房子、商铺）。但我做了这些操作通货膨胀就消失了？那我买沪深 300 、房子就一定会赚嘛？\r\n\r\n或者说作为普通人是不是可以不关心什么通货膨胀。如果你想钱生钱就是要去投资，就有可能亏（ 100 块变 90 块），和通货膨胀本身没啥关系？我不操作 100 块还是 100 块？", "content_rendered": "直观上，现在的 100 块，能买 100 个馒头，再过 10 年，只能买 50 个馒头了。这就是说的钱放着不动就会贬值（通货膨胀）<br /><br />所以很多人说要拿着钱去投资，去买一些资产（房子、商铺）。但我做了这些操作通货膨胀就消失了？那我买沪深 300 、房子就一定会赚嘛？<br /><br />或者说作为普通人是不是可以不关心什么通货膨胀。如果你想钱生钱就是要去投资，就有可能亏（ 100 块变 90 块），和通货膨胀本身没啥关系？我不操作 100 块还是 100 块？", "last_modified": 1676697307, "replies": 29, "id": 917150}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1673261684", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1673261684", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 53415, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1673261684", "stars": 8194, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 535086, "username": "skrbug", "url": "https://www.v2ex.com/u/skrbug", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/0781/ce4c/535086_mini.png?m=1665763629", "avatar_normal": "https://cdn.v2ex.com/avatar/0781/ce4c/535086_normal.png?m=1665763629", "avatar_large": "https://cdn.v2ex.com/avatar/0781/ce4c/535086_large.png?m=1665763629", "created": 1614421438, "last_modified": 1665763629}, "last_reply_by": "gdfsjunjun", "last_touched": 1676728956, "title": "笔记本选购求助", "url": "https://www.v2ex.com/t/917128", "created": 1676689609, "deleted": 0, "content": "> 现在手上用的是 2019 年联想小新 pro （ i5 10200U 16GiB)，替换网卡后，刷的 macOS 用起来还不错，一直陪了我三年多，不过经常能感觉到卡顿，不知道是积灰还是硬件跟不上了。最近在看轻薄本\r\n\r\n#### 需求\r\n- windows 本，目前不打算 mac\r\n- 内存 32GiB ，后端开发\r\n- Linux 友好型\r\n- 预算 7k 内都可以接受\r\n\r\n#### 候选\r\n- thinkbook 14pro 2023 (amd 7735H 32GiB 512GB 90Hz) 拓展性要比下面的好，能多装一块硬盘吧\r\n- 小新 14 pro  2023 (intel i13 13500H 32GiB 1TB 120Hz) 性价比楼上的好，同价格多 512G 硬盘，多 30hz 的高刷,无法加装硬盘\r\n- 大佬们推荐下\r\n\r\n\r\n#### 纠结的点\r\n- 续航能力，我手上的电脑现在开会开的长的话（ 2h ）基本上就没电了，所以这次会想着考虑用 amd\r\n- 是否要等 7000 zen4 的笔记本，手头上的还可以继续用着。挺期待 7840HS 笔记本的，但又怕后面 zen4 会捆绑着独显一起卖。\r\n- 联想最近的低温锡影响挺差的\r\n- linux 现在大小核调度之前听说有点问题？ \r\n有没有懂哥给点建议", "content_rendered": "<blockquote>\n<p>现在手上用的是 2019 年联想小新 pro （ i5 10200U 16GiB)，替换网卡后，刷的 macOS 用起来还不错，一直陪了我三年多，不过经常能感觉到卡顿，不知道是积灰还是硬件跟不上了。最近在看轻薄本</p>\n</blockquote>\n<h4>需求</h4>\n<ul>\n<li>windows 本，目前不打算 mac</li>\n<li>内存 32GiB ，后端开发</li>\n<li>Linux 友好型</li>\n<li>预算 7k 内都可以接受</li>\n</ul>\n<h4>候选</h4>\n<ul>\n<li>thinkbook 14pro 2023 (amd 7735H 32GiB 512GB 90Hz) 拓展性要比下面的好，能多装一块硬盘吧</li>\n<li>小新 14 pro  2023 (intel i13 13500H 32GiB 1TB 120Hz) 性价比楼上的好，同价格多 512G 硬盘，多 30hz 的高刷,无法加装硬盘</li>\n<li>大佬们推荐下</li>\n</ul>\n<h4>纠结的点</h4>\n<ul>\n<li>续航能力，我手上的电脑现在开会开的长的话（ 2h ）基本上就没电了，所以这次会想着考虑用 amd</li>\n<li>是否要等 7000 zen4 的笔记本，手头上的还可以继续用着。挺期待 7840HS 笔记本的，但又怕后面 zen4 会捆绑着独显一起卖。</li>\n<li>联想最近的低温锡影响挺差的</li>\n<li>linux 现在大小核调度之前听说有点问题？\n有没有懂哥给点建议</li>\n</ul>\n", "last_modified": 1676689609, "replies": 28, "id": 917128}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/d3d9/4468/10_large.png?m=1630643933", "name": "mbp", "avatar_normal": "https://cdn.v2ex.com/navatar/d3d9/4468/10_normal.png?m=1630643933", "title": "MacBook Pro", "url": "https://www.v2ex.com/go/mbp", "topics": 8421, "footer": "", "header": "State-of-the-art processors. All-new graphics. Breakthrough high-speed I/O. Three very big leaps forward.", "title_alternative": "MacBook Pro", "avatar_mini": "https://cdn.v2ex.com/navatar/d3d9/4468/10_mini.png?m=1630643933", "stars": 3206, "aliases": [], "root": false, "id": 10, "parent_node_name": "apple"}, "member": {"id": 268586, "username": "LunarG", "url": "https://www.v2ex.com/u/LunarG", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/64fb/163d/268586_mini.png?m=1611074116", "avatar_normal": "https://cdn.v2ex.com/avatar/64fb/163d/268586_normal.png?m=1611074116", "avatar_large": "https://cdn.v2ex.com/avatar/64fb/163d/268586_large.png?m=1611074116", "created": 1511166876, "last_modified": 1611074116}, "last_reply_by": "matt81", "last_touched": 1676723551, "title": "有没有和我一样觉得 trackpad 第三代触摸有延迟的？", "url": "https://www.v2ex.com/t/917081", "created": 1676648676, "deleted": 0, "content": "官网买了个 trackpad 第三代，对比 16 寸 MBP 自带的 trackpad ，在 120hz 的屏幕上感受比较明显，外接的触控板存在轻微的延迟，直观感觉就是不跟手。", "content_rendered": "<p>官网买了个 trackpad 第三代，对比 16 寸 MBP 自带的 trackpad ，在 120hz 的屏幕上感受比较明显，外接的触控板存在轻微的延迟，直观感觉就是不跟手。</p>\n", "last_modified": 1676648676, "replies": 25, "id": 917081}]