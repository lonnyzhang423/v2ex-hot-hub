[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1747623425", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1747623425", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 8922, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1747623425", "stars": 1990, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 433137, "username": "calyiw", "url": "https://www.v2ex.com/u/calyiw", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/f82d4d6412665127cc7696dbaa1bc114?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/f82d4d6412665127cc7696dbaa1bc114?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/f82d4d6412665127cc7696dbaa1bc114?s=73&d=retro", "created": 1564545298, "last_modified": 1736244662, "pro": 0}, "last_reply_by": "calyiw", "last_touched": 1759732247, "title": "只有我一个人觉得有的男的也会让我怦然心动吗？", "url": "https://www.v2ex.com/t/1163443", "created": 1759664629, "deleted": 0, "content": "好吧，我只有在这种平台才能大方承认，其实生活会有一些男的让我怦然心动，\r\n就是那种：我靠，他好帅啊，多看几眼，甚至羡慕为什么我没有那么帅？\r\n我疯了。。。", "content_rendered": "<p>好吧，我只有在这种平台才能大方承认，其实生活会有一些男的让我怦然心动，\n就是那种：我靠，他好帅啊，多看几眼，甚至羡慕为什么我没有那么帅？\n我疯了。。。</p>\n", "last_modified": 1759664629, "replies": 54, "id": 1163443}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/38af/8613/176_large.png?m=1644885960", "name": "car", "avatar_normal": "https://cdn.v2ex.com/navatar/38af/8613/176_normal.png?m=1644885960", "title": "汽车", "url": "https://www.v2ex.com/go/car", "topics": 2982, "footer": "", "header": "关于买车、开车及汽车文化的技术讨论", "title_alternative": "Car", "avatar_mini": "https://cdn.v2ex.com/navatar/38af/8613/176_mini.png?m=1644885960", "stars": 2195, "aliases": [], "root": false, "id": 176, "parent_node_name": "life"}, "member": {"id": 487715, "username": "goodhellonice", "url": "https://www.v2ex.com/u/goodhellonice", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/a66b/6c3e/487715_mini.png?m=1725432489", "avatar_normal": "https://cdn.v2ex.com/avatar/a66b/6c3e/487715_normal.png?m=1725432489", "avatar_large": "https://cdn.v2ex.com/avatar/a66b/6c3e/487715_large.png?m=1725432489", "created": 1588595775, "last_modified": 1725432489, "pro": 0}, "last_reply_by": "an1710", "last_touched": 1758849108, "title": "有开领克的 v 友么，看中了新发布的 08 车型。。。领克的车靠谱不。。。", "url": "https://www.v2ex.com/t/1163436", "created": 1759658657, "deleted": 0, "content": "", "content_rendered": "", "last_modified": 1759658657, "replies": 44, "id": 1163436}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1747623425", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1747623425", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 8922, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1747623425", "stars": 1990, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 635077, "username": "sakurawzt", "url": "https://www.v2ex.com/u/sakurawzt", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/0be8224f07591453aa9ca0afdac1d0c1?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/0be8224f07591453aa9ca0afdac1d0c1?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/0be8224f07591453aa9ca0afdac1d0c1?s=73&d=retro", "created": 1687328143, "last_modified": 1687328143, "pro": 0}, "last_reply_by": "hammy", "last_touched": 1759734205, "title": "小县城好像在时代的洪流中在急速衰败", "url": "https://www.v2ex.com/t/1163479", "created": 1759716245, "deleted": 0, "content": "自从上了大学之后就是寒暑假回来一下，上了班之后一年就回来三次，五一、十一、国庆加起来都不够一个月，这次国庆节回来之后带着对象到处转转，发现之前住的那些地方还是那样也没有翻修什么的，路面更破了比起来当初，坑坑洼洼破破烂烂，基本上是没有完整的地方，积水严重，就像是要被淘汰的一样，而且随着近几年结婚人数越来越多，家家户户买车，本来就不宽敞的路面更加的堵了，之前只是学校门口上下学的时候堵，现在只要不是睡觉时间都堵的七七八八的，对象说是我们县城更像是他们镇上，加上县里面的支柱性产业都是重污染的（排放可能有优化吧）大部分时间县城都是灰蒙蒙的。拥堵的车辆狭窄的道路加上破破烂烂的路面还有年纪比我都大的平房造成的视觉感官冲击就是小县城在时代的洪流中急速衰败，不知道各位所在的县城是个什么情况。", "content_rendered": "<p>自从上了大学之后就是寒暑假回来一下，上了班之后一年就回来三次，五一、十一、国庆加起来都不够一个月，这次国庆节回来之后带着对象到处转转，发现之前住的那些地方还是那样也没有翻修什么的，路面更破了比起来当初，坑坑洼洼破破烂烂，基本上是没有完整的地方，积水严重，就像是要被淘汰的一样，而且随着近几年结婚人数越来越多，家家户户买车，本来就不宽敞的路面更加的堵了，之前只是学校门口上下学的时候堵，现在只要不是睡觉时间都堵的七七八八的，对象说是我们县城更像是他们镇上，加上县里面的支柱性产业都是重污染的（排放可能有优化吧）大部分时间县城都是灰蒙蒙的。拥堵的车辆狭窄的道路加上破破烂烂的路面还有年纪比我都大的平房造成的视觉感官冲击就是小县城在时代的洪流中急速衰败，不知道各位所在的县城是个什么情况。</p>\n", "last_modified": 1759716245, "replies": 33, "id": 1163479}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1733731195", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1733731195", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 68256, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1733731195", "stars": 9415, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 400625, "username": "guin", "url": "https://www.v2ex.com/u/guin", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/038b/d442/400625_mini.png?m=1728535864", "avatar_normal": "https://cdn.v2ex.com/avatar/038b/d442/400625_normal.png?m=1728535864", "avatar_large": "https://cdn.v2ex.com/avatar/038b/d442/400625_large.png?m=1728535864", "created": 1554957630, "last_modified": 1728535864, "pro": 0}, "last_reply_by": "SchwarzeR", "last_touched": 1759723171, "title": "感觉前端自学后端是不是还是从 Java 开始学比较好？", "url": "https://www.v2ex.com/t/1163440", "created": 1759660695, "deleted": 0, "content": "逛了一圈各种课程的相关网站感觉还是 java 的课体系全，实战多，看了下慕课等网站也就 java 的课程涵盖的多 深度比较广，各种类型的什么直播平台、充电桩、AI 、网约车，从基础到微服务，物联网，高并发什么类型的课都有，后端最重要的除了基础是不是就是积累业务能力？如果学其他语言的话感觉业务实战不足 没那么多类型的实战课可以学，除非进公司，大家的意见呢？", "content_rendered": "<p>逛了一圈各种课程的相关网站感觉还是 java 的课体系全，实战多，看了下慕课等网站也就 java 的课程涵盖的多 深度比较广，各种类型的什么直播平台、充电桩、AI 、网约车，从基础到微服务，物联网，高并发什么类型的课都有，后端最重要的除了基础是不是就是积累业务能力？如果学其他语言的话感觉业务实战不足 没那么多类型的实战课可以学，除非进公司，大家的意见呢？</p>\n", "last_modified": 1759667959, "replies": 28, "id": 1163440}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/d67d/8ab4/39_large.png?m=1754172750", "name": "android", "avatar_normal": "https://cdn.v2ex.com/navatar/d67d/8ab4/39_normal.png?m=1754172750", "title": "Android", "url": "https://www.v2ex.com/go/android", "topics": 12538, "footer": "", "header": "来自 <a href=\"/go/google\">Google</a> 的开放源代码智能手机平台。", "title_alternative": "Android", "avatar_mini": "https://cdn.v2ex.com/navatar/d67d/8ab4/39_mini.png?m=1754172750", "stars": 6111, "aliases": [], "root": false, "id": 39, "parent_node_name": "hardware"}, "member": {"id": 750816, "username": "Lucy2025", "url": "https://www.v2ex.com/u/Lucy2025", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/0f9c/83ad/750816_mini.png?m=1759712697", "avatar_normal": "https://cdn.v2ex.com/avatar/0f9c/83ad/750816_normal.png?m=1759712697", "avatar_large": "https://cdn.v2ex.com/avatar/0f9c/83ad/750816_large.png?m=1759712697", "avatar_xlarge": "https://cdn.v2ex.com/avatar/0f9c/83ad/750816_xlarge.png?m=1759712697", "created": 1748740786, "last_modified": 1759712697, "pro": 0}, "last_reply_by": "Aixtuz", "last_touched": 1759731468, "title": "有啥安卓手机重度使用电池能撑 3 天的吗?", "url": "https://www.v2ex.com/t/1163475", "created": 1759712439, "deleted": 0, "content": "有啥安卓手机重度使用,电池能撑 3 天的吗?\r\n\r\n谢谢", "content_rendered": "<p>有啥安卓手机重度使用,电池能撑 3 天的吗?</p>\n<p>谢谢</p>\n", "last_modified": 1759712439, "replies": 28, "id": 1163475}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/3cef/96dc/949_large.png?m=1730363795", "name": "nas", "avatar_normal": "https://cdn.v2ex.com/navatar/3cef/96dc/949_normal.png?m=1730363795", "title": "NAS", "url": "https://www.v2ex.com/go/nas", "topics": 2974, "footer": "", "header": "关于网络存储设备的讨论", "title_alternative": "NAS", "avatar_mini": "https://cdn.v2ex.com/navatar/3cef/96dc/949_mini.png?m=1730363795", "stars": 2929, "aliases": [], "root": false, "id": 949, "parent_node_name": "hardware"}, "member": {"id": 284528, "username": "MiKing233", "url": "https://www.v2ex.com/u/MiKing233", "website": "mknetwork.net", "twitter": "", "psn": "", "github": "", "btc": "", "location": "Kunshan, Suzhou, Jiangsu, PROC", "tagline": "好吃懶做", "bio": "miking233@mknetwork.net", "avatar_mini": "https://cdn.v2ex.com/avatar/2350/455e/284528_mini.png?m=1746227607", "avatar_normal": "https://cdn.v2ex.com/avatar/2350/455e/284528_normal.png?m=1746227607", "avatar_large": "https://cdn.v2ex.com/avatar/2350/455e/284528_large.png?m=1746227607", "avatar_xlarge": "https://cdn.v2ex.com/avatar/2350/455e/284528_xlarge.png?m=1746227607", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/2350/455e/284528_xxlarge.png?m=1746227607", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/2350/455e/284528_xxxlarge.png?m=1746227607", "created": 1516357041, "last_modified": 1746227607, "pro": 0}, "last_reply_by": "jinlong", "last_touched": 1759591009, "title": "给 PVE 概要页面做了一个添加硬件监控信息的脚本工具", "url": "https://www.v2ex.com/t/1163417", "created": 1759648609, "deleted": 0, "content": "https://i.imgur.com/bTaROpA.png\r\n先上图😁\r\n\r\n\r\n\r\n下面是我最近的心路历程, 写的有点啰嗦:\r\n\r\n事情的起因是之前一直依赖的 pve_source ( https://bbs.x86pi.com/thread?topicId=20) 已经好几年没再更新, 忘记从 ProxmoxVE 8.4.x 的哪个版本开始, 包括现在的 9.0, 应该是 pve-manager 改了什么东西, 导致用 pve_source 添加的监控信息变成了左对齐, 强迫症看着实在是受不了, 如图\r\nhttps://i.imgur.com/mHFK0I7.png\r\n\r\n如果只是用来看温度功耗风扇转速这些那还好, 起码看着怪了点功能至少是正常的, 但是新版本导致 pve_source 完全破坏了存储信息页面, 正常显示页面如下\r\nhttps://i.imgur.com/U2UfCGY.png\r\n\r\n使用 pve_source 修改后无法正常显示\r\nhttps://i.imgur.com/7WYtk4H.png\r\n\r\n\r\n但是由于这么些年, 早已习惯透过 PVE 管理页面来 review 一些硬件状态, 尤其是集群多节点的场景, 鼠标点点就能看到各个 Server 的状态, 而不需要 ssh 上去敲命令, 这个现状让我沮丧了很长一段时间, 包括后来基于 Debian13 的 PVE9 发布, 测试 pve_source 仍然是不能正常使用的, 但由于 pve_source 是不开源的, 原作者不更新你也没办法, 并且看论坛下面的留言也有不少人反馈新版本无法正常工作了, 但是看了一眼最后更新日期还是在 23 年 12 月, 无奈... 那段时间甚至都有打算 apt-mark hold pve-manager 永远钉在旧版本再也不升级\r\n\r\n转机在九月初到来... 那天我和往常一样上班时间摸鱼逛逛 GitHub, 偶然发现一个项目 xiangfeidexiaohuo/pve-diy ( https://github.com/xiangfeidexiaohuo/pve-diy), 看了一下该项目修改自 shidahuilang/pve ( https://github.com/shidahuilang/pve) 并做了一些改进和优化, 最让我兴奋的当然还是开源, 但我实际使用了一下发现功能上相比 pve_source 还是欠缺太多, 并且很多功能甚至不能正常工作, 例如代码中注释掉的风扇转速部分, 删掉注释 PVE 的界面直接崩溃了, 其他的一些功能在我手上几台不同的小主机上测试也都有不同程度的问题, 并且坦白讲代码内部也有大量需要修复的逻辑错误, 不过好在他是开源的, 至少已经写好了一个不算太差的底子, 于是乎接下来的几周工作摸鱼时间, 基本都在一边测一边改\r\n\r\n其实最开始我的想法其实也只是想把功能方面改到能正常自用就行, 不过这个脚本给了我一个启发, 它里面使用<strong>来加粗显示</strong>, 不过坦白讲我没感觉到变得有多粗, 于是乎我想看看这个加粗是不是真的生效了便改成了字体用红色渲染, 那会也不知道怎么了突然灵光乍现, 想着能不能用不同的颜色动态的渲染传感器输出的值, 这样温度高低, CPU 频率高低这些不就一眼扫过去看颜色就知道 loading 高低了吗, 说干就干后面的几周基本都在修 BUG 加功能, 到 9 月末基本已经实现了预期的所有功能, 回想这几周还挺兴奋的, 至少扫清了我升级到 PVE9 的障碍, 不过玩 PVE 的圈子我感觉还是太小, 想着 V 站应该会有不少用 PVE 的, 也许有和我一样最近被这个问题困扰的, 索性最后整理了一下决定开源到 Github 上\r\n\r\n不过最近一周直到我发这篇帖子之前, 项目才最终上传到 Github 上, 因为过去的一周我发现一个, 社区约定俗成, 但是在安全上存在巨大隐性风险的问题...\r\n由于 PVE 的前端页面是通过 pveproxy.service 这个服务运行的, 运行的用户不是 root 而是 www-data, 但想要前端显示这些监控项目, 例如硬盘的项目, 实际是使用 iostat 和 smartctl 这些命令输出的, wwww-data 没有 root 权限, 于是乎包含 pve_source 在内的这一票添加概览页监控的脚本, 直接简单粗暴的使用 chmod +s /usr/sbin/smartctl 这样的方式, 来让 www-data 用户可以用 root 权限运行这些命令, 但这也代表任何用户, 都可以用 root 来执行这些命令, 我个人感觉这埋下了一个巨大的坑, 如果这些程序包含潜在漏洞, 普通用户则可以借此提权到 root, 除非你保证这台 server 只有 root 一个用户\r\n于是乎过去一周一直在处理这个问题, 不过好在算是想了一个比较完美的方案, 通过向/etc/sudoers.d 中为 www-data 添加特定几个监控用到的特定命令, 再让 www-data 以 sudo 来执行它们来减小风险影响范围, 不至于任何用户都可以 root 去执行这些命令\r\n\r\n\r\n鉴于本人充其量最多算一个\"系统管理员\", 并不是专业的程序员, 而且手上也没有各种各样的设备用于测试, 项目刚刚起步, 如果可以请提 issue 帮助我继续完善, 如果这个项目能够帮到你我也倍感荣幸, 请不要吝啬你的 Star🤩\r\n\r\n辛苦你看完我的絮絮叨叨😁", "content_rendered": "<a target=\"_blank\" href=\"https://i.imgur.com/bTaROpA.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/bTaROpA.png\" class=\"embedded_image\" rel=\"noreferrer\"></a><br />先上图😁<br /><br /><br /><br />下面是我最近的心路历程, 写的有点啰嗦:<br /><br />事情的起因是之前一直依赖的 pve_source ( <a target=\"_blank\" href=\"https://bbs.x86pi.com/thread?topicId=20\" rel=\"nofollow noopener\">https://bbs.x86pi.com/thread?topicId=20</a>) 已经好几年没再更新, 忘记从 ProxmoxVE 8.4.x 的哪个版本开始, 包括现在的 9.0, 应该是 pve-manager 改了什么东西, 导致用 pve_source 添加的监控信息变成了左对齐, 强迫症看着实在是受不了, 如图<br /><a target=\"_blank\" href=\"https://i.imgur.com/mHFK0I7.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/mHFK0I7.png\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><br />如果只是用来看温度功耗风扇转速这些那还好, 起码看着怪了点功能至少是正常的, 但是新版本导致 pve_source 完全破坏了存储信息页面, 正常显示页面如下<br /><a target=\"_blank\" href=\"https://i.imgur.com/U2UfCGY.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/U2UfCGY.png\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><br />使用 pve_source 修改后无法正常显示<br /><a target=\"_blank\" href=\"https://i.imgur.com/7WYtk4H.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/7WYtk4H.png\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><br /><br />但是由于这么些年, 早已习惯透过 PVE 管理页面来 review 一些硬件状态, 尤其是集群多节点的场景, 鼠标点点就能看到各个 Server 的状态, 而不需要 ssh 上去敲命令, 这个现状让我沮丧了很长一段时间, 包括后来基于 Debian13 的 PVE9 发布, 测试 pve_source 仍然是不能正常使用的, 但由于 pve_source 是不开源的, 原作者不更新你也没办法, 并且看论坛下面的留言也有不少人反馈新版本无法正常工作了, 但是看了一眼最后更新日期还是在 23 年 12 月, 无奈... 那段时间甚至都有打算 apt-mark hold pve-manager 永远钉在旧版本再也不升级<br /><br />转机在九月初到来... 那天我和往常一样上班时间摸鱼逛逛 GitHub, 偶然发现一个项目 xiangfeidexiaohuo/pve-diy ( <a target=\"_blank\" href=\"https://github.com/xiangfeidexiaohuo/pve-diy\" rel=\"nofollow noopener\">https://github.com/xiangfeidexiaohuo/pve-diy</a>), 看了一下该项目修改自 shidahuilang/pve ( <a target=\"_blank\" href=\"https://github.com/shidahuilang/pve\" rel=\"nofollow noopener\">https://github.com/shidahuilang/pve</a>) 并做了一些改进和优化, 最让我兴奋的当然还是开源, 但我实际使用了一下发现功能上相比 pve_source 还是欠缺太多, 并且很多功能甚至不能正常工作, 例如代码中注释掉的风扇转速部分, 删掉注释 PVE 的界面直接崩溃了, 其他的一些功能在我手上几台不同的小主机上测试也都有不同程度的问题, 并且坦白讲代码内部也有大量需要修复的逻辑错误, 不过好在他是开源的, 至少已经写好了一个不算太差的底子, 于是乎接下来的几周工作摸鱼时间, 基本都在一边测一边改<br /><br />其实最开始我的想法其实也只是想把功能方面改到能正常自用就行, 不过这个脚本给了我一个启发, 它里面使用&lt;strong&gt;来加粗显示&lt;/strong&gt;, 不过坦白讲我没感觉到变得有多粗, 于是乎我想看看这个加粗是不是真的生效了便改成了字体用红色渲染, 那会也不知道怎么了突然灵光乍现, 想着能不能用不同的颜色动态的渲染传感器输出的值, 这样温度高低, CPU 频率高低这些不就一眼扫过去看颜色就知道 loading 高低了吗, 说干就干后面的几周基本都在修 BUG 加功能, 到 9 月末基本已经实现了预期的所有功能, 回想这几周还挺兴奋的, 至少扫清了我升级到 PVE9 的障碍, 不过玩 PVE 的圈子我感觉还是太小, 想着 V 站应该会有不少用 PVE 的, 也许有和我一样最近被这个问题困扰的, 索性最后整理了一下决定开源到 Github 上<br /><br />不过最近一周直到我发这篇帖子之前, 项目才最终上传到 Github 上, 因为过去的一周我发现一个, 社区约定俗成, 但是在安全上存在巨大隐性风险的问题...<br />由于 PVE 的前端页面是通过 pveproxy.service 这个服务运行的, 运行的用户不是 root 而是 www-data, 但想要前端显示这些监控项目, 例如硬盘的项目, 实际是使用 iostat 和 smartctl 这些命令输出的, wwww-data 没有 root 权限, 于是乎包含 pve_source 在内的这一票添加概览页监控的脚本, 直接简单粗暴的使用 chmod +s /usr/sbin/smartctl 这样的方式, 来让 www-data 用户可以用 root 权限运行这些命令, 但这也代表任何用户, 都可以用 root 来执行这些命令, 我个人感觉这埋下了一个巨大的坑, 如果这些程序包含潜在漏洞, 普通用户则可以借此提权到 root, 除非你保证这台 server 只有 root 一个用户<br />于是乎过去一周一直在处理这个问题, 不过好在算是想了一个比较完美的方案, 通过向/etc/sudoers.d 中为 www-data 添加特定几个监控用到的特定命令, 再让 www-data 以 sudo 来执行它们来减小风险影响范围, 不至于任何用户都可以 root 去执行这些命令<br /><br /><br />鉴于本人充其量最多算一个\"系统管理员\", 并不是专业的程序员, 而且手上也没有各种各样的设备用于测试, 项目刚刚起步, 如果可以请提 issue 帮助我继续完善, 如果这个项目能够帮到你我也倍感荣幸, 请不要吝啬你的 Star🤩<br /><br />辛苦你看完我的絮絮叨叨😁", "last_modified": 1759648609, "replies": 22, "id": 1163417}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1751718333", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1751718333", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 234125, "footer": "", "header": "<!--\r\n一个更好的世界需要你持续地提出好问题。\r\n-->", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1751718333", "stars": 4410, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 256843, "username": "tuding", "url": "https://www.v2ex.com/u/tuding", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/c422/8a8a/256843_mini.png?m=1670597285", "avatar_normal": "https://cdn.v2ex.com/avatar/c422/8a8a/256843_normal.png?m=1670597285", "avatar_large": "https://cdn.v2ex.com/avatar/c422/8a8a/256843_large.png?m=1670597285", "created": 1506568042, "last_modified": 1670597285, "pro": 0}, "last_reply_by": "ludan110", "last_touched": 1759707776, "title": "以前的手机造型百花齐放，现在的手机造型都一个样，是为什么呢？", "url": "https://www.v2ex.com/t/1163442", "created": 1759663878, "deleted": 0, "content": "https://m.weibo.cn/detail/5218401436042886\r\n刚才网上闲逛看到的，挺有感触，所以想问一下是操作系统的限制还是其他什么原因呢？", "content_rendered": "<p><a href=\"https://m.weibo.cn/detail/5218401436042886\" rel=\"nofollow\">https://m.weibo.cn/detail/5218401436042886</a>\n刚才网上闲逛看到的，挺有感触，所以想问一下是操作系统的限制还是其他什么原因呢？</p>\n", "last_modified": 1759663878, "replies": 21, "id": 1163442}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1751718333", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1751718333", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 234125, "footer": "", "header": "<!--\r\n一个更好的世界需要你持续地提出好问题。\r\n-->", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1751718333", "stars": 4410, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 558261, "username": "jeffords", "url": "https://www.v2ex.com/u/jeffords", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/7b35/e4df/558261_mini.png?m=1759672676", "avatar_normal": "https://cdn.v2ex.com/avatar/7b35/e4df/558261_normal.png?m=1759672676", "avatar_large": "https://cdn.v2ex.com/avatar/7b35/e4df/558261_large.png?m=1759672676", "avatar_xlarge": "https://cdn.v2ex.com/avatar/7b35/e4df/558261_xlarge.png?m=1759672676", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/7b35/e4df/558261_xxlarge.png?m=1759672676", "created": 1634020131, "last_modified": 1759672676, "pro": 0}, "last_reply_by": "Rokaki", "last_touched": 1759708354, "title": "闲鱼严选到底是不是闲鱼官方的？", "url": "https://www.v2ex.com/t/1163461", "created": 1759675747, "deleted": 0, "content": "最近想买一台老 iphone 刷地铁，因为苹果有优惠，就想买台 se3 ，lcd ，16：9 ，看起来很好的备用机\r\n\r\n在闲鱼看了又看，发现二手 iphone 水真的很深，一直都不太敢下手。\r\n\r\n闲鱼又经常推荐他的严选，我就在严选买了台，结果下单后，想了想还是怕中招，就点了退款，结果闲鱼严选卖家不像其他贩子和其他个人卖家。\r\n\r\n他说“机器都是一机一拍一检测，所见即所得的”，再配上这个闲鱼严选的头像，又有不一样的检测报告界面，就感觉是闲鱼官方背书的感觉。\r\n\r\nhttps://i.imgur.com/4kMtBnH.jpeg\r\n\r\nhttps://i.imgur.com/JVE9YUX.jpeg\r\n\r\n于是我就想试试，结果就是，我度过了一个史上最糟糕的假期，并且打算把闲鱼加入到不通知不允许后台运行的列表，除了买虚拟商品和只有闲鱼的 DIY 产品，不会再打开闲鱼，卖东西也给回收算了。\r\n\r\n因为**个人用户在闲鱼省的每一分钱，都会通过闲鱼严选这样的方式赔进去**\r\n\r\n虽然最后扯皮了半天，暂时客服判定同意退款，但是不保证闲鱼严选卖家会继续扯皮，继续胡说八道，消耗更多时间。最重要的是，我付出的心力，整个假期没有心情做事情，比我在闲鱼买卖东西省下的要多得多。\r\n\r\n首先是物流，物流状态没有任何更新，卖家和买家看到的不一样，好像严选卖家可以控制物流信息的显示，因为 9.28 他就催促我收货，但是订单状态一直是发货地，我根本不知道包裹在哪里，所以直到 9.30 ，我问了闲鱼严选卖家，才更新了信息。\r\n\r\n然后是手机，我拿到手机，按照网上看到的验机流程验机，全程录像，结果发现，有一处长约 5 毫米的明显亮斑\r\n\r\nhttps://i.imgur.com/7bOTctx.jpeg\r\n\r\n结果在平台选择“质量问题”退货后，闲鱼严选卖家，进行了长时间的扯皮和狡辩，先说图片看不到。\r\n\r\n拍摄多张图片和视频后，又辩解说这个程度的可以不标注，他知道该怎么出报告。由于我也第一次买二手手机，于是我就去闲鱼回收线下门店，虽然他们不能给出任何报告，但是给哪个工作人员看了之后，他说是有亮点的。\r\n\r\n所以我就问闲鱼严选卖家，“是谁定的这种程度可以不标注，因为我在闲鱼回收看，说是需要标注的，需要按有亮点算的”\r\n\r\n结果他不知道哪儿来的逻辑，我去闲鱼回收线下找人看了一下，就说我是贩子。\r\n\r\nhttps://i.imgur.com/SwphVqh.jpeg\r\n\r\n然后，这个闲鱼严选卖家，专门拖着各种流程，卡最后时间点拒绝，最后时间上传纠纷说明，还点“求送花”，就纯恶心人，举报发言也没有用。\r\n\r\n经过纠纷处理，平台客服判定是约定不清。\r\n\r\n或许这台手机会回到这个闲鱼严选欣杨手上，继续标注无坏点，无亮点上架，下一个被闲鱼推送“闲鱼严选”的人，买到后，要么是没有发现，点了收货，只能吃哑巴亏，要么和我一样，面临扯皮，损失大量的时间。\r\n\r\n所以我的问题是，闲鱼严选到底是不是闲鱼官方的。\r\n\r\n如果不是，为什么手机的防拆标是闲鱼的标志，为什么会有专门的页面和频繁的推流。\r\n\r\n如果是，为什么交易纠纷又是和普通卖家一样处理。为什么这么明显的错误描述，最后判定结果是“约定不清”；为什么闲鱼严选卖家可以看到和更新，卡住的，我这里看不到的物流信息。\r\n\r\nhttps://i.imgur.com/i7tYVVg.jpeg\r\n\r\n我想起我在淘宝上的一个当，就是在“顺便买”页面，显示的大标题和图片都是 1 斤鸡爪，但是非常小小字写得是 1 根鸡爪，收到快递才知道，要不是趁活动开了 88vip ，能免运费退货，就要吃哑巴亏了。\r\n\r\n或许这种“真假参半”就是大家逐渐离开淘宝系 APP 的原因。\r\n\r\n既不像拼多多，你觉得买的都是便宜凑合用的货，并且退换货比较宽松。也不像京东，自营产品能够保证真货。\r\n\r\n使用这种真假参半的平台中，反而需要比假的占多的平台，付出更多的心力和金钱成本。", "content_rendered": "最近想买一台老 iphone 刷地铁，因为苹果有优惠，就想买台 se3 ，lcd ，16：9 ，看起来很好的备用机<br /><br />在闲鱼看了又看，发现二手 iphone 水真的很深，一直都不太敢下手。<br /><br />闲鱼又经常推荐他的严选，我就在严选买了台，结果下单后，想了想还是怕中招，就点了退款，结果闲鱼严选卖家不像其他贩子和其他个人卖家。<br /><br />他说“机器都是一机一拍一检测，所见即所得的”，再配上这个闲鱼严选的头像，又有不一样的检测报告界面，就感觉是闲鱼官方背书的感觉。<br /><br /><a target=\"_blank\" href=\"https://i.imgur.com/4kMtBnH.jpeg\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/4kMtBnH.jpeg\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><br /><a target=\"_blank\" href=\"https://i.imgur.com/JVE9YUX.jpeg\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/JVE9YUX.jpeg\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><br />于是我就想试试，结果就是，我度过了一个史上最糟糕的假期，并且打算把闲鱼加入到不通知不允许后台运行的列表，除了买虚拟商品和只有闲鱼的 DIY 产品，不会再打开闲鱼，卖东西也给回收算了。<br /><br />因为**个人用户在闲鱼省的每一分钱，都会通过闲鱼严选这样的方式赔进去**<br /><br />虽然最后扯皮了半天，暂时客服判定同意退款，但是不保证闲鱼严选卖家会继续扯皮，继续胡说八道，消耗更多时间。最重要的是，我付出的心力，整个假期没有心情做事情，比我在闲鱼买卖东西省下的要多得多。<br /><br />首先是物流，物流状态没有任何更新，卖家和买家看到的不一样，好像严选卖家可以控制物流信息的显示，因为 9.28 他就催促我收货，但是订单状态一直是发货地，我根本不知道包裹在哪里，所以直到 9.30 ，我问了闲鱼严选卖家，才更新了信息。<br /><br />然后是手机，我拿到手机，按照网上看到的验机流程验机，全程录像，结果发现，有一处长约 5 毫米的明显亮斑<br /><br /><a target=\"_blank\" href=\"https://i.imgur.com/7bOTctx.jpeg\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/7bOTctx.jpeg\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><br />结果在平台选择“质量问题”退货后，闲鱼严选卖家，进行了长时间的扯皮和狡辩，先说图片看不到。<br /><br />拍摄多张图片和视频后，又辩解说这个程度的可以不标注，他知道该怎么出报告。由于我也第一次买二手手机，于是我就去闲鱼回收线下门店，虽然他们不能给出任何报告，但是给哪个工作人员看了之后，他说是有亮点的。<br /><br />所以我就问闲鱼严选卖家，“是谁定的这种程度可以不标注，因为我在闲鱼回收看，说是需要标注的，需要按有亮点算的”<br /><br />结果他不知道哪儿来的逻辑，我去闲鱼回收线下找人看了一下，就说我是贩子。<br /><br /><a target=\"_blank\" href=\"https://i.imgur.com/SwphVqh.jpeg\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/SwphVqh.jpeg\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><br />然后，这个闲鱼严选卖家，专门拖着各种流程，卡最后时间点拒绝，最后时间上传纠纷说明，还点“求送花”，就纯恶心人，举报发言也没有用。<br /><br />经过纠纷处理，平台客服判定是约定不清。<br /><br />或许这台手机会回到这个闲鱼严选欣杨手上，继续标注无坏点，无亮点上架，下一个被闲鱼推送“闲鱼严选”的人，买到后，要么是没有发现，点了收货，只能吃哑巴亏，要么和我一样，面临扯皮，损失大量的时间。<br /><br />所以我的问题是，闲鱼严选到底是不是闲鱼官方的。<br /><br />如果不是，为什么手机的防拆标是闲鱼的标志，为什么会有专门的页面和频繁的推流。<br /><br />如果是，为什么交易纠纷又是和普通卖家一样处理。为什么这么明显的错误描述，最后判定结果是“约定不清”；为什么闲鱼严选卖家可以看到和更新，卡住的，我这里看不到的物流信息。<br /><br /><a target=\"_blank\" href=\"https://i.imgur.com/i7tYVVg.jpeg\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/i7tYVVg.jpeg\" class=\"embedded_image\" rel=\"noreferrer\"></a><br /><br />我想起我在淘宝上的一个当，就是在“顺便买”页面，显示的大标题和图片都是 1 斤鸡爪，但是非常小小字写得是 1 根鸡爪，收到快递才知道，要不是趁活动开了 88vip ，能免运费退货，就要吃哑巴亏了。<br /><br />或许这种“真假参半”就是大家逐渐离开淘宝系 APP 的原因。<br /><br />既不像拼多多，你觉得买的都是便宜凑合用的货，并且退换货比较宽松。也不像京东，自营产品能够保证真货。<br /><br />使用这种真假参半的平台中，反而需要比假的占多的平台，付出更多的心力和金钱成本。", "last_modified": 1759676102, "replies": 19, "id": 1163461}]