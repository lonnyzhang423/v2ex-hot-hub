[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1685063629", "name": "career", "avatar_normal": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1685063629", "title": "职场话题", "url": "https://www.v2ex.com/go/career", "topics": 14617, "footer": "", "header": "这里，我们聊聊那些工作中遇到的开心和不开心的事。", "title_alternative": "Career", "avatar_mini": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1685063629", "stars": 2749, "aliases": [], "root": false, "id": 770, "parent_node_name": "work"}, "member": {"id": 79543, "username": "sunjws", "url": "https://www.v2ex.com/u/sunjws", "website": "", "twitter": "", "psn": "", "github": "sungys", "btc": "", "location": "大连", "tagline": "我思故我在", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/95c2/5637/79543_mini.png?m=1600467846", "avatar_normal": "https://cdn.v2ex.com/avatar/95c2/5637/79543_normal.png?m=1600467846", "avatar_large": "https://cdn.v2ex.com/avatar/95c2/5637/79543_large.png?m=1600467846", "created": 1414746970, "last_modified": 1600467846}, "last_reply_by": "sunjws", "last_touched": 1690707337, "title": "润了，压力依旧", "url": "https://www.v2ex.com/t/960891", "created": 1690655316, "deleted": 0, "content": "润出来以后也没有让自己变得更开心更轻松！还是会觉得很有压力。本来就一普通打工仔，有孩子有家庭，为了润几乎花光了本就不多的积蓄！出来后一切都要从头开始，没了房子没了车，全新的环境里没朋友没圈子，而要处理的要学习的计划安排的满满登登！至少未来一年没有任何自己的时间…", "content_rendered": "润出来以后也没有让自己变得更开心更轻松！还是会觉得很有压力。本来就一普通打工仔，有孩子有家庭，为了润几乎花光了本就不多的积蓄！出来后一切都要从头开始，没了房子没了车，全新的环境里没朋友没圈子，而要处理的要学习的计划安排的满满登登！至少未来一年没有任何自己的时间…", "last_modified": 1690655316, "replies": 100, "id": 960891}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/51ef/186e/874_large.png?m=1589465078", "name": "tvos", "avatar_normal": "https://cdn.v2ex.com/navatar/51ef/186e/874_normal.png?m=1589465078", "title": "tvOS", "url": "https://www.v2ex.com/go/tvos", "topics": 4, "footer": "", "header": "", "title_alternative": "tvOS", "avatar_mini": "https://cdn.v2ex.com/navatar/51ef/186e/874_mini.png?m=1589465078", "stars": 8, "aliases": [], "root": false, "id": 874, "parent_node_name": "apple"}, "member": {"id": 367470, "username": "NewTab12138", "url": "https://www.v2ex.com/u/NewTab12138", "website": "https://newtab.work", "twitter": "", "psn": "", "github": "jiang111", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/ae13cfe1f315c8c5e17dc1cb3269b17f?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/ae13cfe1f315c8c5e17dc1cb3269b17f?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/ae13cfe1f315c8c5e17dc1cb3269b17f?s=73&d=retro", "created": 1543807800, "last_modified": 1658584606}, "last_reply_by": "krystynaambresck", "last_touched": 1690706662, "title": "好消息： surge 推出 tvOS 端的 App 了", "url": "https://www.v2ex.com/t/960850", "created": 1690637910, "deleted": 0, "content": "坏消息是：Surge 授权必须绑定 iCloud 才可使用 TV 版。通过邮箱授权的用户无法使用。\r\n\r\n\r\n如果你有 vps ，推荐使用 single-box 这个 app ， 目前也可以正常在 tvOS 端使用了\r\n\r\n或者可以等等，loon, loonlite 等 App 都表示会适配 tvOS 。", "content_rendered": "<p>坏消息是：Surge 授权必须绑定 iCloud 才可使用 TV 版。通过邮箱授权的用户无法使用。</p>\n<p>如果你有 vps ，推荐使用 single-box 这个 app ， 目前也可以正常在 tvOS 端使用了</p>\n<p>或者可以等等，loon, loonlite 等 App 都表示会适配 tvOS 。</p>\n", "last_modified": 1690638183, "replies": 52, "id": 960850}, {"node": {"avatar_large": "/static/img/node_default_large.png", "name": "fit", "avatar_normal": "/static/img/node_default_normal.png", "title": "健康", "url": "https://www.v2ex.com/go/fit", "topics": 918, "footer": "", "header": "这个节点的设立，是为了让大家可以分享关于健身和健康生活方式的经验。如果你有什么正在困扰自己的身体症状，请立刻寻求正规医院的帮助。", "title_alternative": "Fit", "avatar_mini": "/static/img/node_default_mini.png", "stars": 294, "aliases": [], "root": false, "id": 700, "parent_node_name": "life"}, "member": {"id": 188240, "username": "foreverstandbyu", "url": "https://www.v2ex.com/u/foreverstandbyu", "website": "", "twitter": "foreverstandbyu", "psn": "foreverstandbyu", "github": "foreverstandbyu", "btc": "foreverstandbyu", "location": "おまえがいな", "tagline": "", "bio": "おまえがいない世界は、オレには暗すぎてなにも见えないんだよ。、", "avatar_mini": "https://cdn.v2ex.com/avatar/4e36/51b2/188240_mini.png?m=1665480703", "avatar_normal": "https://cdn.v2ex.com/avatar/4e36/51b2/188240_normal.png?m=1665480703", "avatar_large": "https://cdn.v2ex.com/avatar/4e36/51b2/188240_large.png?m=1665480703", "avatar_xlarge": "https://cdn.v2ex.com/avatar/4e36/51b2/188240_xlarge.png?m=1665480703", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/4e36/51b2/188240_xlarge.png?m=1665480703", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/4e36/51b2/188240_xlarge.png?m=1665480703", "created": 1471854105, "last_modified": 1665480703}, "last_reply_by": "monkey110", "last_touched": 1690707708, "title": "如何科学增肥，目前 177cm 身高，体重 62.5kg，太瘦了。可以增肥吗？", "url": "https://www.v2ex.com/t/960852", "created": 1690638288, "deleted": 0, "content": "年龄 30 岁。\n体质瘦弱。可以用哪些方法增肥。每日三餐正常在吃。还说胖不起来。", "content_rendered": "年龄 30 岁。<br />体质瘦弱。可以用哪些方法增肥。每日三餐正常在吃。还说胖不起来。", "last_modified": 1690649306, "replies": 40, "id": 960852}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1650127281", "name": "share", "avatar_normal": "https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1650127281", "title": "分享发现", "url": "https://www.v2ex.com/go/share", "topics": 39101, "footer": "", "header": "分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。", "title_alternative": "Share", "avatar_mini": "https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1650127281", "stars": 5444, "aliases": [], "root": false, "id": 16, "parent_node_name": "v2ex"}, "member": {"id": 306440, "username": "erosripe", "url": "https://www.v2ex.com/u/erosripe", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/aa65f28b667294c052c16f7a6ea2891d?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/aa65f28b667294c052c16f7a6ea2891d?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/aa65f28b667294c052c16f7a6ea2891d?s=73&d=retro", "created": 1523015685, "last_modified": 1523015685}, "last_reply_by": "996bujiaban", "last_touched": 1690706203, "title": "这是什么新的骗术套路？", "url": "https://www.v2ex.com/t/960909", "created": 1690682988, "deleted": 0, "content": "因自己需要一个 macbook ，在小红书看找到了个人，可以 75 折买，在国外。\r\n在马来西亚 macbook14 32+512+AC 教育优惠下来 1.6w 的样子，但是这个人给了员工优惠还可以叠加教育优惠\r\n说是我在官网下单，然后用他的卡支付，我拿到货后在转给他钱，但是这个咋看都是他的风险比我的大\r\n算下来 1.3 的样子。\r\n1.是不是黑产，因为国外有很多赌场用来 xq 操作\r\n2.有一些诈骗的套路但是我没认出来，但是我自己账号在官网下单，他只付款，，而且我拿到手验机后才给她钱他咋骗我呢？希望 V 友帮我分析下\r\n ![]( https://i.imgur.com/cj0O4ML.jpeg) \r\n ![]( https://i.imgur.com/UYGbudf.jpeg) \r\n ![]( https://i.imgur.com/tlcLKUc.jpeg)", "content_rendered": "<p>因自己需要一个 macbook ，在小红书看找到了个人，可以 75 折买，在国外。\n在马来西亚 macbook14 32+512+AC 教育优惠下来 1.6w 的样子，但是这个人给了员工优惠还可以叠加教育优惠\n说是我在官网下单，然后用他的卡支付，我拿到货后在转给他钱，但是这个咋看都是他的风险比我的大\n算下来 1.3 的样子。\n1.是不是黑产，因为国外有很多赌场用来 xq 操作\n2.有一些诈骗的套路但是我没认出来，但是我自己账号在官网下单，他只付款，，而且我拿到手验机后才给她钱他咋骗我呢？希望 V 友帮我分析下\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/cj0O4ML.jpeg\"/>\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/UYGbudf.jpeg\"/>\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/tlcLKUc.jpeg\"/></p>\n", "last_modified": 1690682988, "replies": 39, "id": 960909}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1689070442", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1689070442", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 57662, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1689070442", "stars": 8508, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 254353, "username": "FaiChou", "url": "https://www.v2ex.com/u/FaiChou", "website": "https://faichou.com", "twitter": "FaiChou_zh", "psn": "", "github": "FaiChou", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/e7d0/b1a7/254353_mini.png?m=1684739460", "avatar_normal": "https://cdn.v2ex.com/avatar/e7d0/b1a7/254353_normal.png?m=1684739460", "avatar_large": "https://cdn.v2ex.com/avatar/e7d0/b1a7/254353_large.png?m=1684739460", "avatar_xlarge": "https://cdn.v2ex.com/avatar/e7d0/b1a7/254353_xlarge.png?m=1684739460", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/e7d0/b1a7/254353_xlarge.png?m=1684739460", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/e7d0/b1a7/254353_xlarge.png?m=1684739460", "created": 1505371596, "last_modified": 1684739460}, "last_reply_by": "fox0001", "last_touched": 1690640280, "title": "使用这个公钥是否能解密此加密信息？", "url": "https://www.v2ex.com/t/960808", "created": 1690623316, "deleted": 0, "content": "使用私钥 rsa 加密内容：\r\n\r\n```\r\ngl9E9ye5acVdn5MusJj0pay6y+i6qDna8DTSNHkkPjBsEE9DJ34cKhrCiNuRWIxY4+DQmrrQPMzibgCvP+3unWelxwmzMRzmSQQDTm9Z+oBiHGCcqWXtz47H/b1uoC4T6ZXkTrtuYAOVlRDn+2xKPcO9qpq5gS+cU6SPSRcRP/cAthqnLQ0FJJjY2vOqsoKda5IStxLjRSJPXs5zmJFVH/ii7J/u1vp8R6sUUNLhJmahFlODgOoEPDTW50k6O5LS8MYniZLvI/Czj9bt1z850rXGl3wHvfwmhIWH8umR5NqaPJ8/kDJXGk5ejHoljRN2GJ4iL48hvJawsoCNHpktrlqRtE6geQF74gB5hLzSvY2ZUcRo1fx7DxpPnRqfx7ctf6m7nC0vohax4NvdYJ7TWnK+oDGCJFFJRNg+L/DJlcckjWmL3nGoFYgHSfVwZXfTLOcKOtx8Pvd2Udjx+9t2/T4DqJNmhVzBvX/tEqBlv+deAbk8DaGx4FcBWm1b5j2qMUqA33OVIYLOzgFFzdMF8OqEvAPwqyg1pHjt9iPzWXWVjzFA2Z1yVou2TwZ6Z9QqrjaGyK6KfpT+h241FgCVrZgbg8g/JWU7wFHQjiEjJTSTZu6FeweQpRUuUy/A8LS0Wabh0eZQ0hcPcRBwf2gGOlmbfCojrfZNHbjRkh0Rz6YAq3T5q5VdfsKXBUMJcTilfUGRzIivVAFmM5Lx5WzgV7LsPSIuEq5sNFEypk5rrKplTirq3qE6maI3+KKbUccAs2ak6zGLtfFnJasXivwYPrivUnTDz9cV1dVFYKe72/aGnNby2TxWvNpbDu60T8BlX1CFwFj+JQyDqFu+EvgBTQ==\r\n```\r\n\r\n对应的公钥：\r\n\r\n```\r\n-----BEGIN PUBLIC KEY-----\r\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCGhpgMD1okxLnUMCDNLCJwP/P0\r\nUHVlKQWLHPiPCbhgITZHcZim4mgxSWWb0SLDNZL9ta1HlErR6k02xrFyqtYzjDu2\r\nrGInUC0BCZOsln0a7wDwyOA43i5NO8LsNory6fEKbx7aT3Ji8TZCDAfDMbhxvxOf\r\ndPMBDjxP5X3zr7cWgwIDAQAB\r\n-----END PUBLIC KEY-----\r\n```\r\n\r\n\r\n如果解密出的结果像是下面这样，应该是对的：\r\n\r\n```\r\n{\"2658844581501957149\":{\"file_name\":\"wwdc2023-10117_hd.mp4\",\"file_size\":\"100597894\",\"pick_code\":\"b12x4iiejvkkq83a\",\"url\":{\"url\":\"http:\\/\\/xxx.xxx.com\\/xxx\\/wwdc2023-10117_hd.mp4?t=1690607362&u=101248331&s=1048576&d=658578066-b12x4iiejvkkq83a-0&c=2&f=1&k=ddb3d920081771b2f40ee75164c5bb1b&us=52428800&uc=10&v=1\",\"client\":2,\"desc\":null,\"isp\":null,\"oss_id\":\"fhnfile\\/xxx\",\"ooid\":\"\"}}}\r\n```\r\n\r\n注意由于加密内容数据比较大，需要分段解密。\r\n\r\n不管用什么方法，python/go/java 还是网上的在线解密工具，只要能解密出来即可。\r\n\r\n我用 swift 写了分段解密，结果解密失败，用网上在线的解密工具也是失败，不知道网上的工具是不是由于不支持分段解密才失败的。\r\n\r\n下面是我用 Swift 写的方法：\r\n\r\n```swift\r\nimport Security\r\nfunc convertPublicKey(pemString: String) -> SecKey? {\r\n    // 1. Remove headers, newlines and spaces\r\n    let keyString = pemString\r\n        .replacingOccurrences(of: \"-----BEGIN PUBLIC KEY-----\", with: \"\")\r\n        .replacingOccurrences(of: \"-----END PUBLIC KEY-----\", with: \"\")\r\n        .replacingOccurrences(of: \"\\n\", with: \"\")\r\n        .replacingOccurrences(of: \" \", with: \"\")\r\n\r\n    // 2. Convert base64 string to Data\r\n    guard let keyData = Data(base64Encoded: keyString) else {\r\n        return nil\r\n    }\r\n\r\n    // 3. Create key dictionary\r\n    let keyDict: [CFString: Any] = [\r\n        kSecAttrKeyType: kSecAttrKeyTypeRSA,\r\n        kSecAttrKeyClass: kSecAttrKeyClassPublic,\r\n        kSecAttrKeySizeInBits: NSNumber(value: 2048),\r\n        kSecReturnPersistentRef: true\r\n    ]\r\n\r\n    // 4. Create SecKey from Data\r\n    var error: Unmanaged<CFError>?\r\n    guard let key = SecKeyCreateWithData(keyData as CFData, keyDict as CFDictionary, &error) else {\r\n        // Handle the error here\r\n        return nil\r\n    }\r\n\r\n    return key\r\n}\r\nlet rsaKeyInSwift = convertPublicKey(pemString: rsaPublicKey)\r\nfunc rsaDecrypt(data: Data) -> Data? {\r\n    let blockSize = SecKeyGetBlockSize(rsaKeyInSwift!)\r\n    var decryptedData = Data()\r\n    for i in stride(from: 0, to: data.count, by: blockSize) {\r\n        let endIndex = min(i + blockSize, data.count)\r\n        let chunk = data[i..<endIndex]\r\n        print(chunk)\r\n        var error: Unmanaged<CFError>?\r\n        guard let decryptedChunk = SecKeyCreateDecryptedData(\r\n            rsaKeyInSwift!,\r\n            .rsaEncryptionPKCS1,\r\n            chunk as CFData,\r\n            &error\r\n        ) else {\r\n            print(\"Decryption error:\", error.debugDescription)\r\n            return nil\r\n        }\r\n        decryptedData.append(decryptedChunk as Data)\r\n    }\r\n\r\n    return decryptedData\r\n}\r\n```\r\n\r\n报错：\r\n\r\n```\r\nDecryption error: Optional(Swift.Unmanaged<__C.CFErrorRef>(_value: Error Domain=NSOSStatusErrorDomain Code=-50 \"RSAdecrypt wrong input (err -27)\" UserInfo={numberOfErrorsDeep=0, NSDescription=RSAdecrypt wrong input (err -27)}))\r\n\r\n```\r\n\r\n在网上找到了一个开源的项目，它用 go 语言自己实现了 rsa 解密算法，不清楚为什么它不用标准库来解密。我用标准库实现的（ Swift 版本）无法解密。所以不清楚是不是我的代码问题还是其他问题。\r\n\r\n下面是 go 语言开源版本：\r\n\r\n```go\r\nfunc rsaDecrypt(input []byte) []byte {\r\n\toutput := make([]byte, 0)\r\n\tcipherSize, blockSize := len(input), rsaServerKey.Size()\r\n\tfor offset := 0; offset < cipherSize; offset += blockSize {\r\n\t\tsliceSize := blockSize\r\n\t\tif offset+sliceSize > cipherSize {\r\n\t\t\tsliceSize = cipherSize - offset\r\n\t\t}\r\n\r\n\t\tn := big.NewInt(0).SetBytes(input[offset : offset+sliceSize])\r\n\t\tm := big.NewInt(0).Exp(n, big.NewInt(int64(rsaServerKey.E)), rsaServerKey.N)\r\n\t\tb := m.Bytes()\r\n\t\tindex := bytes.IndexByte(b, '\\x00')\r\n\t\tif index < 0 {\r\n\t\t\treturn nil\r\n\t\t}\r\n\t\toutput = append(output, b[index+1:]...)\r\n\t}\r\n\treturn output\r\n}\r\n```\r\n\r\n由于不熟悉 go 语言，大概看了下算法，也是计算 `(n^e) mod N`。\r\n\r\n所以请大家用这个公钥解密上面的内容，能否解密出来？", "content_rendered": "<p>使用私钥 rsa 加密内容：</p>\n<pre><code>gl9E9ye5acVdn5MusJj0pay6y+i6qDna8DTSNHkkPjBsEE9DJ34cKhrCiNuRWIxY4+DQmrrQPMzibgCvP+3unWelxwmzMRzmSQQDTm9Z+oBiHGCcqWXtz47H/b1uoC4T6ZXkTrtuYAOVlRDn+2xKPcO9qpq5gS+cU6SPSRcRP/cAthqnLQ0FJJjY2vOqsoKda5IStxLjRSJPXs5zmJFVH/ii7J/u1vp8R6sUUNLhJmahFlODgOoEPDTW50k6O5LS8MYniZLvI/Czj9bt1z850rXGl3wHvfwmhIWH8umR5NqaPJ8/kDJXGk5ejHoljRN2GJ4iL48hvJawsoCNHpktrlqRtE6geQF74gB5hLzSvY2ZUcRo1fx7DxpPnRqfx7ctf6m7nC0vohax4NvdYJ7TWnK+oDGCJFFJRNg+L/DJlcckjWmL3nGoFYgHSfVwZXfTLOcKOtx8Pvd2Udjx+9t2/T4DqJNmhVzBvX/tEqBlv+deAbk8DaGx4FcBWm1b5j2qMUqA33OVIYLOzgFFzdMF8OqEvAPwqyg1pHjt9iPzWXWVjzFA2Z1yVou2TwZ6Z9QqrjaGyK6KfpT+h241FgCVrZgbg8g/JWU7wFHQjiEjJTSTZu6FeweQpRUuUy/A8LS0Wabh0eZQ0hcPcRBwf2gGOlmbfCojrfZNHbjRkh0Rz6YAq3T5q5VdfsKXBUMJcTilfUGRzIivVAFmM5Lx5WzgV7LsPSIuEq5sNFEypk5rrKplTirq3qE6maI3+KKbUccAs2ak6zGLtfFnJasXivwYPrivUnTDz9cV1dVFYKe72/aGnNby2TxWvNpbDu60T8BlX1CFwFj+JQyDqFu+EvgBTQ==\n</code></pre>\n<p>对应的公钥：</p>\n<pre><code>-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCGhpgMD1okxLnUMCDNLCJwP/P0\nUHVlKQWLHPiPCbhgITZHcZim4mgxSWWb0SLDNZL9ta1HlErR6k02xrFyqtYzjDu2\nrGInUC0BCZOsln0a7wDwyOA43i5NO8LsNory6fEKbx7aT3Ji8TZCDAfDMbhxvxOf\ndPMBDjxP5X3zr7cWgwIDAQAB\n-----END PUBLIC KEY-----\n</code></pre>\n<p>如果解密出的结果像是下面这样，应该是对的：</p>\n<pre><code>{\"2658844581501957149\":{\"file_name\":\"wwdc2023-10117_hd.mp4\",\"file_size\":\"100597894\",\"pick_code\":\"b12x4iiejvkkq83a\",\"url\":{\"url\":\"http:\\/\\/xxx.xxx.com\\/xxx\\/wwdc2023-10117_hd.mp4?t=1690607362&amp;u=101248331&amp;s=1048576&amp;d=658578066-b12x4iiejvkkq83a-0&amp;c=2&amp;f=1&amp;k=ddb3d920081771b2f40ee75164c5bb1b&amp;us=52428800&amp;uc=10&amp;v=1\",\"client\":2,\"desc\":null,\"isp\":null,\"oss_id\":\"fhnfile\\/xxx\",\"ooid\":\"\"}}}\n</code></pre>\n<p>注意由于加密内容数据比较大，需要分段解密。</p>\n<p>不管用什么方法，python/go/java 还是网上的在线解密工具，只要能解密出来即可。</p>\n<p>我用 swift 写了分段解密，结果解密失败，用网上在线的解密工具也是失败，不知道网上的工具是不是由于不支持分段解密才失败的。</p>\n<p>下面是我用 Swift 写的方法：</p>\n<pre><code class=\"language-swift\">import Security\nfunc convertPublicKey(pemString: String) -&gt; SecKey? {\n    // 1. Remove headers, newlines and spaces\n    let keyString = pemString\n        .replacingOccurrences(of: \"-----BEGIN PUBLIC KEY-----\", with: \"\")\n        .replacingOccurrences(of: \"-----END PUBLIC KEY-----\", with: \"\")\n        .replacingOccurrences(of: \"\\n\", with: \"\")\n        .replacingOccurrences(of: \" \", with: \"\")\n\n    // 2. Convert base64 string to Data\n    guard let keyData = Data(base64Encoded: keyString) else {\n        return nil\n    }\n\n    // 3. Create key dictionary\n    let keyDict: [CFString: Any] = [\n        kSecAttrKeyType: kSecAttrKeyTypeRSA,\n        kSecAttrKeyClass: kSecAttrKeyClassPublic,\n        kSecAttrKeySizeInBits: NSNumber(value: 2048),\n        kSecReturnPersistentRef: true\n    ]\n\n    // 4. Create SecKey from Data\n    var error: Unmanaged&lt;CFError&gt;?\n    guard let key = SecKeyCreateWithData(keyData as CFData, keyDict as CFDictionary, &amp;error) else {\n        // Handle the error here\n        return nil\n    }\n\n    return key\n}\nlet rsaKeyInSwift = convertPublicKey(pemString: rsaPublicKey)\nfunc rsaDecrypt(data: Data) -&gt; Data? {\n    let blockSize = SecKeyGetBlockSize(rsaKeyInSwift!)\n    var decryptedData = Data()\n    for i in stride(from: 0, to: data.count, by: blockSize) {\n        let endIndex = min(i + blockSize, data.count)\n        let chunk = data[i..&lt;endIndex]\n        print(chunk)\n        var error: Unmanaged&lt;CFError&gt;?\n        guard let decryptedChunk = SecKeyCreateDecryptedData(\n            rsaKeyInSwift!,\n            .rsaEncryptionPKCS1,\n            chunk as CFData,\n            &amp;error\n        ) else {\n            print(\"Decryption error:\", error.debugDescription)\n            return nil\n        }\n        decryptedData.append(decryptedChunk as Data)\n    }\n\n    return decryptedData\n}\n</code></pre>\n<p>报错：</p>\n<pre><code>Decryption error: Optional(Swift.Unmanaged&lt;__C.CFErrorRef&gt;(_value: Error Domain=NSOSStatusErrorDomain Code=-50 \"RSAdecrypt wrong input (err -27)\" UserInfo={numberOfErrorsDeep=0, NSDescription=RSAdecrypt wrong input (err -27)}))\n\n</code></pre>\n<p>在网上找到了一个开源的项目，它用 go 语言自己实现了 rsa 解密算法，不清楚为什么它不用标准库来解密。我用标准库实现的（ Swift 版本）无法解密。所以不清楚是不是我的代码问题还是其他问题。</p>\n<p>下面是 go 语言开源版本：</p>\n<pre><code class=\"language-go\">func rsaDecrypt(input []byte) []byte {\n\toutput := make([]byte, 0)\n\tcipherSize, blockSize := len(input), rsaServerKey.Size()\n\tfor offset := 0; offset &lt; cipherSize; offset += blockSize {\n\t\tsliceSize := blockSize\n\t\tif offset+sliceSize &gt; cipherSize {\n\t\t\tsliceSize = cipherSize - offset\n\t\t}\n\n\t\tn := big.NewInt(0).SetBytes(input[offset : offset+sliceSize])\n\t\tm := big.NewInt(0).Exp(n, big.NewInt(int64(rsaServerKey.E)), rsaServerKey.N)\n\t\tb := m.Bytes()\n\t\tindex := bytes.IndexByte(b, '\\x00')\n\t\tif index &lt; 0 {\n\t\t\treturn nil\n\t\t}\n\t\toutput = append(output, b[index+1:]...)\n\t}\n\treturn output\n}\n</code></pre>\n<p>由于不熟悉 go 语言，大概看了下算法，也是计算 <code>(n^e) mod N</code>。</p>\n<p>所以请大家用这个公钥解密上面的内容，能否解密出来？</p>\n", "last_modified": 1690623316, "replies": 38, "id": 960808}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6a2f/eef8/1092_large.png?m=1644854243", "name": "ifix", "avatar_normal": "https://cdn.v2ex.com/navatar/6a2f/eef8/1092_normal.png?m=1644854243", "title": "云修电脑", "url": "https://www.v2ex.com/go/ifix", "topics": 81, "footer": "", "header": "如果你的电脑或者电子设备遇到了什么奇怪问题，可以发到这里来让大家帮你出出主意。", "title_alternative": "iFix", "avatar_mini": "https://cdn.v2ex.com/navatar/6a2f/eef8/1092_mini.png?m=1644854243", "stars": 92, "aliases": [], "root": false, "id": 1092, "parent_node_name": "geek"}, "member": {"id": 71995, "username": "balduncle", "url": "https://www.v2ex.com/u/balduncle", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/23726c975952aae519cfe6c9849bbaac?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/23726c975952aae519cfe6c9849bbaac?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/23726c975952aae519cfe6c9849bbaac?s=73&d=retro", "created": 1409020939, "last_modified": 1687162324}, "last_reply_by": "YGHMXFAL", "last_touched": 1690706910, "title": "win10 利用再生龙克隆 nvme 磁盘到磁盘克隆后无法启动", "url": "https://www.v2ex.com/t/960888", "created": 1690651676, "deleted": 0, "content": "再生龙克隆磁盘无法启动\r\n\r\n系统：win10\r\n磁盘：英睿达 p3 换 p5\r\n方法：新盘 p5 插入系统里面，磁盘管理选择了 gpt 模式，没再格式化了。用再生龙安装到 u 盘，然后启动。p3 是安装在主板 nvme 接口上，p5 是用 type 绿联得硬盘盒子接在后面，选择了磁盘到磁盘得方式，复制了三次。原来得 p3 就可以正常启动，p5 就不可以。\r\n\r\ncpu 是 amd ryzen 5500 ，主板是华硕 b450 tuf gaming pro s ，内存 2X8 ，3200\r\n\r\n报错：蓝屏幕，报，inaccessible boot device ，还有 0xc0000001\r\n\r\n尝试方法：克隆了两次，还是无法启动，原来得 p3 就可以。\r\n\r\n可能得方法：换傲梅助手或许可以，但是想看看还有其他方法没有？\r\n\r\nps ，这是我第二次升级系统盘，原来是从英睿达 p1 升级到 p3 （ 2 个月左右以前，也是用了再生龙磁盘到磁盘克隆，后面好像也是不行，再换了傲梅助手），现在打算再升级到 p5 。", "content_rendered": "再生龙克隆磁盘无法启动<br /><br />系统：win10<br />磁盘：英睿达 p3 换 p5<br />方法：新盘 p5 插入系统里面，磁盘管理选择了 gpt 模式，没再格式化了。用再生龙安装到 u 盘，然后启动。p3 是安装在主板 nvme 接口上，p5 是用 type 绿联得硬盘盒子接在后面，选择了磁盘到磁盘得方式，复制了三次。原来得 p3 就可以正常启动，p5 就不可以。<br /><br />cpu 是 amd ryzen 5500 ，主板是华硕 b450 tuf gaming pro s ，内存 2X8 ，3200<br /><br />报错：蓝屏幕，报，inaccessible boot device ，还有 0xc0000001<br /><br />尝试方法：克隆了两次，还是无法启动，原来得 p3 就可以。<br /><br />可能得方法：换傲梅助手或许可以，但是想看看还有其他方法没有？<br /><br />ps ，这是我第二次升级系统盘，原来是从英睿达 p1 升级到 p3 （ 2 个月左右以前，也是用了再生龙磁盘到磁盘克隆，后面好像也是不行，再换了傲梅助手），现在打算再升级到 p5 。", "last_modified": 1690651676, "replies": 31, "id": 960888}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/9a11/5815/52_large.png?m=1630576655", "name": "hardware", "avatar_normal": "https://cdn.v2ex.com/navatar/9a11/5815/52_normal.png?m=1630576655", "title": "硬件", "url": "https://www.v2ex.com/go/hardware", "topics": 5102, "footer": "", "header": "硬件发烧友的讨论节点", "title_alternative": "Hardware", "avatar_mini": "https://cdn.v2ex.com/navatar/9a11/5815/52_mini.png?m=1630576655", "stars": 2255, "aliases": [], "root": false, "id": 52, "parent_node_name": "computer"}, "member": {"id": 185464, "username": "sypopo", "url": "https://www.v2ex.com/u/sypopo", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/a1be505d4cc1356911c0f94c29f36f3a?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/a1be505d4cc1356911c0f94c29f36f3a?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/a1be505d4cc1356911c0f94c29f36f3a?s=73&d=retro", "created": 1470321181, "last_modified": 1678945735}, "last_reply_by": "gowk", "last_touched": 1690707359, "title": "妹妹今年考上大学，我准备送台 win 笔记本电脑给她，有没有推荐的品牌型号", "url": "https://www.v2ex.com/t/960951", "created": 1690696876, "deleted": 0, "content": "价格 1W 内吧，适合女生用的，希望轻薄一点，平时应该用不到上 macOS ，就不考虑苹果了，求一个推荐，先谢谢各位了", "content_rendered": "价格 1W 内吧，适合女生用的，希望轻薄一点，平时应该用不到上 macOS ，就不考虑苹果了，求一个推荐，先谢谢各位了", "last_modified": 1690697317, "replies": 29, "id": 960951}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1689070442", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1689070442", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 57662, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1689070442", "stars": 8508, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 547027, "username": "Uahh", "url": "https://www.v2ex.com/u/Uahh", "website": "", "twitter": "", "psn": "", "github": "Uahh", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/6491/dcab/547027_mini.png?m=1690626093", "avatar_normal": "https://cdn.v2ex.com/avatar/6491/dcab/547027_normal.png?m=1690626093", "avatar_large": "https://cdn.v2ex.com/avatar/6491/dcab/547027_large.png?m=1690626093", "avatar_xlarge": "https://cdn.v2ex.com/avatar/6491/dcab/547027_xlarge.png?m=1690626093", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/6491/dcab/547027_xlarge.png?m=1690626093", "created": 1622610571, "last_modified": 1690626093}, "last_reply_by": "good1uck", "last_touched": 1690661280, "title": "有没有什么二次元+程序员的群", "url": "https://www.v2ex.com/t/960820", "created": 1690626821, "deleted": 0, "content": "感觉这俩群体的重合度还是有的,有的话拉我一下(  \r\n\r\n(今天发现 python 还能是小波奇的发饰  \r\n<img src=\"https://th.bing.com/th/id/OIP.m0Mys1z5nR01wEFYxhrgbgHaFb?pid=ImgDet&w=504&h=370&rs=1\">\r\n<img src=\"https://th.bing.com/th/id/OIP.buzDPMWlim8GfzO2v_8jQgHaE1?pid=ImgDet&w=504&h=370&rs=1\" style=\"width=504px;height=370px\">", "content_rendered": "<p>感觉这俩群体的重合度还是有的,有的话拉我一下(  </p>\n<p>(今天发现 python 还能是小波奇的发饰<br/>\n<img class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://th.bing.com/th/id/OIP.m0Mys1z5nR01wEFYxhrgbgHaFb?pid=ImgDet&amp;w=504&amp;h=370&amp;rs=1\"/>\n<img class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://th.bing.com/th/id/OIP.buzDPMWlim8GfzO2v_8jQgHaE1?pid=ImgDet&amp;w=504&amp;h=370&amp;rs=1\"/></p>\n", "last_modified": 1690626821, "replies": 24, "id": 960820}]