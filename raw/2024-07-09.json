[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/b53b/3a3d/55_large.png?m=1611920927", "name": "games", "avatar_normal": "https://cdn.v2ex.com/navatar/b53b/3a3d/55_normal.png?m=1611920927", "title": "游戏", "url": "https://www.v2ex.com/go/games", "topics": 2725, "footer": "", "header": "Life is short, have more fun.", "title_alternative": "Games", "avatar_mini": "https://cdn.v2ex.com/navatar/b53b/3a3d/55_mini.png?m=1611920927", "stars": 2377, "aliases": [], "root": false, "id": 55, "parent_node_name": "computer"}, "member": {"id": 579186, "username": "cqjdcheng", "url": "https://www.v2ex.com/u/cqjdcheng", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/7387d00508014434224152fe2f61bf71?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/7387d00508014434224152fe2f61bf71?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/7387d00508014434224152fe2f61bf71?s=73&d=retro", "created": 1650789213, "last_modified": 1650789213}, "last_reply_by": "zhio", "last_touched": 1720490130, "title": "感觉电子阳痿了，都不知道玩什么游戏了，你们还在坚持什么游戏？", "url": "https://www.v2ex.com/t/1055652", "created": 1720419531, "deleted": 0, "content": "没有其他别得爱好，就喜欢玩玩游戏。\r\n现在年纪大了，时间少了，对任何游戏都提不起兴趣了。\r\n只有空余时间和朋友打打瓦。\r\n你们还在坚持什么游戏？", "content_rendered": "没有其他别得爱好，就喜欢玩玩游戏。<br />现在年纪大了，时间少了，对任何游戏都提不起兴趣了。<br />只有空余时间和朋友打打瓦。<br />你们还在坚持什么游戏？", "last_modified": 1720450645, "replies": 268, "id": 1055652}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/70ef/df2e/17_large.png?m=1660301119", "name": "create", "avatar_normal": "https://cdn.v2ex.com/navatar/70ef/df2e/17_normal.png?m=1660301119", "title": "分享创造", "url": "https://www.v2ex.com/go/create", "topics": 24398, "footer": "", "header": "欢迎你在这里发布自己的最新作品！", "title_alternative": "Create", "avatar_mini": "https://cdn.v2ex.com/navatar/70ef/df2e/17_mini.png?m=1660301119", "stars": 5431, "aliases": [], "root": false, "id": 17, "parent_node_name": "geek"}, "member": {"id": 328450, "username": "whitecosm0s", "url": "https://www.v2ex.com/u/whitecosm0s", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/0d36/88cc/328450_mini.png?m=1705040400", "avatar_normal": "https://cdn.v2ex.com/avatar/0d36/88cc/328450_normal.png?m=1705040400", "avatar_large": "https://cdn.v2ex.com/avatar/0d36/88cc/328450_large.png?m=1705040400", "created": 1531298265, "last_modified": 1705040400}, "last_reply_by": "duglik", "last_touched": 1720489816, "title": "[抽奖送码🎁]提醒英雄，把重要事项始终放在锁屏界面，彻底解决你的健忘症", "url": "https://www.v2ex.com/t/1055571", "created": 1720407010, "deleted": 0, "content": "![img]( https://i.imgur.com/ZjtmXQ8.png)\r\n\r\n你有没有经常忘记一些生活琐事的情况？几周前我苦于经常忘记取快递，把衣服放在洗衣机里忘记拿出来，萌生了开发一个提醒 App 的想法。\r\n\r\n我认为生活琐事(取快递，买东西等等)属于 [重要但不紧急] 的类型，你可以在任何时间去做，但是不能忘记。把这些类事情一直放在锁屏界面，同时可以自由决定什么时候去完成，可能是最好的办法。不需要用 [持续提醒] 去干扰其它更重要的工作，只要每次打开手机就会注意到。\r\n\r\n**调研了一圈之后发现，滴答清单有一个把待办通过实时活动固定在屏幕上的功能，需要开通会员后才能使用，实时活动的实现方案有两个缺陷**\r\n\r\n- 实时活动有时间限制，在 8 小时后会被强制终止，系统通知没有时间限制\r\n- 实时活动有数量限制，最多可以同时存在 5 个，系统通知没有数量限制\r\n\r\n**提醒英雄利用定位权限执行后台任务(并不会实际用到或保存位置数据)，在创建提醒事项后，一直持续刷新到锁屏界面**\r\n\r\n- 即时通知默认会在一小时后被系统收回到通知中心，不再继续显示，提醒英雄通过后台任务把他们重新放回去。\r\n- 只有在任务完成后通知才会同步删除(重复或定期任务需要点击\"完成\")，在此之前，左滑删除或清空通知中心都是无效的，原理同上\r\n- 通知在被点击后默认会消失，提醒英雄会再次生成一个相同的通知，放回去，避免点击通知后忘记处理的情况。\r\n\r\n## 目前支持的功能\r\n\r\n**普通提醒（仅提醒一次，在完成前始终存在于锁屏）**\r\n\r\n- 相对于当前时间的提醒(例如 30 分钟后，1 小时后)\r\n- 在指定日期时间的提醒\r\n\r\n![img]( https://i.imgur.com/iX8qGVr.png)\r\n\r\n**重复提醒**\r\n\r\n- 短间隔，例如每隔 2 小时吃一次药\r\n- 长间隔，每隔 5 天或 10 天\r\n- 短间隔或长间隔都可以设置开始时间\r\n\r\n![img]( https://i.imgur.com/n6NNqk7.png)\r\n\r\n**定期提醒**\r\n\r\n- 设置每天，每周，每月几号触发的定期提醒，\r\n- 每周和每月定期都支持同时选择多个日期\r\n\r\n![img]( https://i.imgur.com/zyTeqtW.png)\r\n\r\n\r\n## 下载地址\r\n\r\n[App Store]( https://apps.apple.com/cn/app/id6502558762)\r\n\r\n或者在 App Store 中搜索 \"提醒英雄\"，外区请搜索 \"Notifyman\"\r\n\r\n## 收费计划\r\n\r\n基础提醒功能免费，持续提醒，检查清单，日历视图，日历同步等功能按年付费\r\n\r\n- 国区价格 18¥/每年\r\n- 外区价格 4.99$/每年\r\n\r\n## 抽奖送码\r\n\r\n评论中留下邮箱的用户（邮箱不会被重复计入），**截止本周五抽取 20 个年度会员和 20 个永久会员**，永久会员不对外销售\r\n\r\n## 技术支持\r\n\r\n提醒英雄是一个快速成长中的 App ，欢迎加群交流产品需求\r\n\r\n![img]( https://i.imgur.com/cfeUHLK.jpg)", "content_rendered": "<p><img alt=\"img\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/ZjtmXQ8.png\"/></p>\n<p>你有没有经常忘记一些生活琐事的情况？几周前我苦于经常忘记取快递，把衣服放在洗衣机里忘记拿出来，萌生了开发一个提醒 App 的想法。</p>\n<p>我认为生活琐事(取快递，买东西等等)属于 [重要但不紧急] 的类型，你可以在任何时间去做，但是不能忘记。把这些类事情一直放在锁屏界面，同时可以自由决定什么时候去完成，可能是最好的办法。不需要用 [持续提醒] 去干扰其它更重要的工作，只要每次打开手机就会注意到。</p>\n<p><strong>调研了一圈之后发现，滴答清单有一个把待办通过实时活动固定在屏幕上的功能，需要开通会员后才能使用，实时活动的实现方案有两个缺陷</strong></p>\n<ul>\n<li>实时活动有时间限制，在 8 小时后会被强制终止，系统通知没有时间限制</li>\n<li>实时活动有数量限制，最多可以同时存在 5 个，系统通知没有数量限制</li>\n</ul>\n<p><strong>提醒英雄利用定位权限执行后台任务(并不会实际用到或保存位置数据)，在创建提醒事项后，一直持续刷新到锁屏界面</strong></p>\n<ul>\n<li>即时通知默认会在一小时后被系统收回到通知中心，不再继续显示，提醒英雄通过后台任务把他们重新放回去。</li>\n<li>只有在任务完成后通知才会同步删除(重复或定期任务需要点击\"完成\")，在此之前，左滑删除或清空通知中心都是无效的，原理同上</li>\n<li>通知在被点击后默认会消失，提醒英雄会再次生成一个相同的通知，放回去，避免点击通知后忘记处理的情况。</li>\n</ul>\n<h2>目前支持的功能</h2>\n<p><strong>普通提醒（仅提醒一次，在完成前始终存在于锁屏）</strong></p>\n<ul>\n<li>相对于当前时间的提醒(例如 30 分钟后，1 小时后)</li>\n<li>在指定日期时间的提醒</li>\n</ul>\n<p><img alt=\"img\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/iX8qGVr.png\"/></p>\n<p><strong>重复提醒</strong></p>\n<ul>\n<li>短间隔，例如每隔 2 小时吃一次药</li>\n<li>长间隔，每隔 5 天或 10 天</li>\n<li>短间隔或长间隔都可以设置开始时间</li>\n</ul>\n<p><img alt=\"img\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/n6NNqk7.png\"/></p>\n<p><strong>定期提醒</strong></p>\n<ul>\n<li>设置每天，每周，每月几号触发的定期提醒，</li>\n<li>每周和每月定期都支持同时选择多个日期</li>\n</ul>\n<p><img alt=\"img\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/zyTeqtW.png\"/></p>\n<h2>下载地址</h2>\n<p><a href=\"https://apps.apple.com/cn/app/id6502558762\" rel=\"nofollow\">App Store</a></p>\n<p>或者在 App Store 中搜索 \"提醒英雄\"，外区请搜索 \"Notifyman\"</p>\n<h2>收费计划</h2>\n<p>基础提醒功能免费，持续提醒，检查清单，日历视图，日历同步等功能按年付费</p>\n<ul>\n<li>国区价格 18¥/每年</li>\n<li>外区价格 4.99$/每年</li>\n</ul>\n<h2>抽奖送码</h2>\n<p>评论中留下邮箱的用户（邮箱不会被重复计入），<strong>截止本周五抽取 20 个年度会员和 20 个永久会员</strong>，永久会员不对外销售</p>\n<h2>技术支持</h2>\n<p>提醒英雄是一个快速成长中的 App ，欢迎加群交流产品需求</p>\n<p><img alt=\"img\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.imgur.com/cfeUHLK.jpg\"/></p>\n", "last_modified": 1720407010, "replies": 139, "id": 1055571}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1695370146", "name": "career", "avatar_normal": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1695370146", "title": "职场话题", "url": "https://www.v2ex.com/go/career", "topics": 17544, "footer": "", "header": "这里，我们聊聊那些工作中遇到的开心和不开心的事。", "title_alternative": "Career", "avatar_mini": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1695370146", "stars": 3167, "aliases": [], "root": false, "id": 770, "parent_node_name": "work"}, "member": {"id": 271047, "username": "yegg", "url": "https://www.v2ex.com/u/yegg", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/5b04/77d4/271047_mini.png?m=1720405026", "avatar_normal": "https://cdn.v2ex.com/avatar/5b04/77d4/271047_normal.png?m=1720405026", "avatar_large": "https://cdn.v2ex.com/avatar/5b04/77d4/271047_large.png?m=1720405026", "created": 1511935252, "last_modified": 1720405026}, "last_reply_by": "loveuqian", "last_touched": 1720478890, "title": "兄弟们，现在公司想逼迫我离职", "url": "https://www.v2ex.com/t/1055560", "created": 1720405282, "deleted": 0, "content": "公司最近一年效益不好已经把刀子动到裁员这块了，上周人事说给我调岗我没同意，结果我今天上班发现考勤机打不了卡，电脑公司也已经搬走，我去找人事他们说我旷工？？现在就是想逼我自己走不给补偿，我想问一下 v 友们，如果公司之后不让我进公司，或者采用暴力手段我能报警吗？让警察压迫他们给我解除通知？除此之外还有别的好办法吗？？", "content_rendered": "公司最近一年效益不好已经把刀子动到裁员这块了，上周人事说给我调岗我没同意，结果我今天上班发现考勤机打不了卡，电脑公司也已经搬走，我去找人事他们说我旷工？？现在就是想逼我自己走不给补偿，我想问一下 v 友们，如果公司之后不让我进公司，或者采用暴力手段我能报警吗？让警察压迫他们给我解除通知？除此之外还有别的好办法吗？？", "last_modified": 1720405282, "replies": 110, "id": 1055560}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 220676, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 4209, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 341539, "username": "gzhjj", "url": "https://www.v2ex.com/u/gzhjj", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/232ba566f5dc65bbc9f1f7b26c65ebb2?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/232ba566f5dc65bbc9f1f7b26c65ebb2?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/232ba566f5dc65bbc9f1f7b26c65ebb2?s=73&d=retro", "created": 1534350406, "last_modified": 1699872071}, "last_reply_by": "keethebest", "last_touched": 1720489944, "title": "卫生问题，你们介意购买二手电子产品吗？", "url": "https://www.v2ex.com/t/1055590", "created": 1720408947, "deleted": 0, "content": "个人总觉得电子产品用久了，表面会有各种来自动植物油脂或者分泌物的包浆，缝隙/充电口/扬声器/散热孔之类会积聚灰尘和皮屑头屑，甚至可能深入机器内部。这些要是自己产生的也就忍忍算了，来自别人的实在是心里介意啊。\r\n\r\n至于卖出二手，偶尔也是会有的，毕竟介不介意对己对人是日常双标嘛。不过卖也是基本是出给回收商，怕面对个人卖家的沟通麻烦。不出的那些就是仍抽屉底了。也因此，往往在买一手的时候就很少考虑以后保不保值了。\r\n\r\n想看看你们是怎么的，有人很介意的吗，有人觉得根本不是个事的吗。欢迎各种正反观点和日常，只要是文明讨论即可。", "content_rendered": "个人总觉得电子产品用久了，表面会有各种来自动植物油脂或者分泌物的包浆，缝隙/充电口/扬声器/散热孔之类会积聚灰尘和皮屑头屑，甚至可能深入机器内部。这些要是自己产生的也就忍忍算了，来自别人的实在是心里介意啊。<br /><br />至于卖出二手，偶尔也是会有的，毕竟介不介意对己对人是日常双标嘛。不过卖也是基本是出给回收商，怕面对个人卖家的沟通麻烦。不出的那些就是仍抽屉底了。也因此，往往在买一手的时候就很少考虑以后保不保值了。<br /><br />想看看你们是怎么的，有人很介意的吗，有人觉得根本不是个事的吗。欢迎各种正反观点和日常，只要是文明讨论即可。", "last_modified": 1720408947, "replies": 110, "id": 1055590}, {"node": {"avatar_large": "/static/img/node_default_large.png", "name": "fit", "avatar_normal": "/static/img/node_default_normal.png", "title": "健康", "url": "https://www.v2ex.com/go/fit", "topics": 1215, "footer": "", "header": "这个节点的设立，是为了让大家可以分享关于健身和健康生活方式的经验。如果你有什么正在困扰自己的身体症状，请立刻寻求正规医院的帮助。", "title_alternative": "Fit", "avatar_mini": "/static/img/node_default_mini.png", "stars": 341, "aliases": [], "root": false, "id": 700, "parent_node_name": "life"}, "member": {"id": 587078, "username": "DokiDokiSophon", "url": "https://www.v2ex.com/u/DokiDokiSophon", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/c5f406d96ff8a4d37d59d734f03c5c09?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/c5f406d96ff8a4d37d59d734f03c5c09?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/c5f406d96ff8a4d37d59d734f03c5c09?s=73&d=retro", "created": 1657013041, "last_modified": 1716780891}, "last_reply_by": "Bananana", "last_touched": 1720476824, "title": "被确诊重度抑郁症状", "url": "https://www.v2ex.com/t/1055690", "created": 1720425296, "deleted": 0, "content": "半年前感觉上天对我很不公平，很郁闷的度过了半年，其实那会儿就应该发现病了，但是自己压根没意识到。\r\n\r\n上上周因为人际关系处理出现问题，一整天处于极度的焦虑和害怕中，也没有意识到出了问题。\r\n\r\n上周二表白被拒，感觉耐受极限一下子冲破了阈值，随后头晕+失眠+恐惧+愤怒+自卑+一触就炸+大脑持续充血\r\n\r\n乘着清醒的时候约了心理门诊\r\n\r\n直到周六，拿到确诊单，重度抑郁症状，然后和表白那人吵了一架，开了药\r\n\r\n因为我的问题，弄了一堆烂摊子没法收拾\r\n\r\n现在不知道咋办\r\n\r\n\r\n\r\n回想起来，高中就有类似的症状，也没有意识到。\r\n\r\n我一直在委曲求全，别人喜欢什么我就扮演什么角色\r\n\r\n别人喜欢脾气好的，我压着我的脾气\r\n\r\n别人喜欢大度的，我不拘小节\r\n\r\n别人喜欢老实的，我拿真心对待每个人\r\n\r\n...\r\n结果呢，最后我一无所有\r\n\r\n\r\n这时候，\r\n\r\n有人说我在别人的身上找情绪价值\r\n\r\n有人说我的所作所为是为了寻找自己的安全感\r\n\r\n有人说我喜怒无常\r\n\r\n有人说我的所作所为都在假象一个心理预期，没有达到预期我就会指责别人\r\n\r\n我接受着来自全世界的指责\r\n\r\n回想起来，原来我是这样的人\r\n\r\n\r\n到头来，我压制的东西还是爆发出来，最后一场空\r\n\r\n爆发的时候我没觉得我有问题，我觉得我做的就是对的\r\n\r\n后来我觉得我做的就是错的", "content_rendered": "<p>半年前感觉上天对我很不公平，很郁闷的度过了半年，其实那会儿就应该发现病了，但是自己压根没意识到。</p>\n<p>上上周因为人际关系处理出现问题，一整天处于极度的焦虑和害怕中，也没有意识到出了问题。</p>\n<p>上周二表白被拒，感觉耐受极限一下子冲破了阈值，随后头晕+失眠+恐惧+愤怒+自卑+一触就炸+大脑持续充血</p>\n<p>乘着清醒的时候约了心理门诊</p>\n<p>直到周六，拿到确诊单，重度抑郁症状，然后和表白那人吵了一架，开了药</p>\n<p>因为我的问题，弄了一堆烂摊子没法收拾</p>\n<p>现在不知道咋办</p>\n<p>回想起来，高中就有类似的症状，也没有意识到。</p>\n<p>我一直在委曲求全，别人喜欢什么我就扮演什么角色</p>\n<p>别人喜欢脾气好的，我压着我的脾气</p>\n<p>别人喜欢大度的，我不拘小节</p>\n<p>别人喜欢老实的，我拿真心对待每个人</p>\n<p>...\n结果呢，最后我一无所有</p>\n<p>这时候，</p>\n<p>有人说我在别人的身上找情绪价值</p>\n<p>有人说我的所作所为是为了寻找自己的安全感</p>\n<p>有人说我喜怒无常</p>\n<p>有人说我的所作所为都在假象一个心理预期，没有达到预期我就会指责别人</p>\n<p>我接受着来自全世界的指责</p>\n<p>回想起来，原来我是这样的人</p>\n<p>到头来，我压制的东西还是爆发出来，最后一场空</p>\n<p>爆发的时候我没觉得我有问题，我觉得我做的就是对的</p>\n<p>后来我觉得我做的就是错的</p>\n", "last_modified": 1720435805, "replies": 73, "id": 1055690}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/03af/dbd6/63_large.png?m=1644490200", "name": "java", "avatar_normal": "https://cdn.v2ex.com/navatar/03af/dbd6/63_normal.png?m=1644490200", "title": "Java", "url": "https://www.v2ex.com/go/java", "topics": 5923, "footer": "", "header": "Sun 公司发明，被广泛使用的一门编程语言。", "title_alternative": "Java", "avatar_mini": "https://cdn.v2ex.com/navatar/03af/dbd6/63_mini.png?m=1644490200", "stars": 5611, "aliases": [], "root": false, "id": 63, "parent_node_name": "programming"}, "member": {"id": 63613, "username": "karottc", "url": "https://www.v2ex.com/u/karottc", "website": "www.karottc.com", "twitter": "", "psn": "", "github": "karottc", "btc": "", "location": "深圳", "tagline": "Do one thing, do it best !!!", "bio": "嗯，是我！", "avatar_mini": "https://cdn.v2ex.com/avatar/927c/0491/63613_mini.png?m=1403279995", "avatar_normal": "https://cdn.v2ex.com/avatar/927c/0491/63613_normal.png?m=1403279995", "avatar_large": "https://cdn.v2ex.com/avatar/927c/0491/63613_large.png?m=1403279995", "created": 1401077477, "last_modified": 1403279995}, "last_reply_by": "wanniwa", "last_touched": 1720490088, "title": "果然吃内存，一个简单的 Java 程序就占用了 250M 内存", "url": "https://www.v2ex.com/t/1055770", "created": 1720442214, "deleted": 0, "content": "之前一直在用 Java 写 **企业级代码**，并没有很在意 java 的内存问题，比如多个/少个一两百兆就没关心。\r\n\r\n平时用 java 写的直接运行就结束的代码，基本都是本地电脑运行，也没有发现内存问题。\r\n\r\n直到最近，用 java 写了一个简单的程序，运行在我的 1C1G 的腾讯云机器上，才发现 java 确实内存大户。\r\n\r\n\r\n程序的功能为：\r\n1. 每 10 分钟抓取某个链接的数据\r\n2. 抓取到的内容和 mysql 里面已有的内容作对比\r\n3. 存在就更新，不存在就插入到 mysql 中\r\n4. 每天早上 10 点发送一个企业微信通知\r\n\r\n这就是这个程序的所有功能，由于用到了定时任务和操作 mysql, 所以我第一个版直接用了 springboot ，平时工作也用整起来快。\r\n用到的库为：okhttp + gson + mybaits + jdbc + logback\r\n\r\n程序运行稳定之后内存占用：**250M**\r\n\r\n\r\n这个简单的功能这个内存占用实在是太大了。\r\n\r\n然后我觉得可能是 springboot 的原因，所以我写了第二版：\r\n用了 okhttp + gson + mybatis + jdbc\r\n去掉了框架和 logback, 直接用 print 输出 log ， 定时任务也直接用了 while(true) + sleep 来实现。\r\n\r\n这版程序稳定运行之后内存占用：**90M**\r\n\r\n上面两版没有加任何优化参数，就是 java -jar xxx.jar 运行。\r\njava 版本：java21\r\n\r\n---\r\n\r\njava21 了，还是这个内存表现，失望啊。", "content_rendered": "<p>之前一直在用 Java 写 <strong>企业级代码</strong>，并没有很在意 java 的内存问题，比如多个/少个一两百兆就没关心。</p>\n<p>平时用 java 写的直接运行就结束的代码，基本都是本地电脑运行，也没有发现内存问题。</p>\n<p>直到最近，用 java 写了一个简单的程序，运行在我的 1C1G 的腾讯云机器上，才发现 java 确实内存大户。</p>\n<p>程序的功能为：</p>\n<ol>\n<li>每 10 分钟抓取某个链接的数据</li>\n<li>抓取到的内容和 mysql 里面已有的内容作对比</li>\n<li>存在就更新，不存在就插入到 mysql 中</li>\n<li>每天早上 10 点发送一个企业微信通知</li>\n</ol>\n<p>这就是这个程序的所有功能，由于用到了定时任务和操作 mysql, 所以我第一个版直接用了 springboot ，平时工作也用整起来快。\n用到的库为：okhttp + gson + mybaits + jdbc + logback</p>\n<p>程序运行稳定之后内存占用：<strong>250M</strong></p>\n<p>这个简单的功能这个内存占用实在是太大了。</p>\n<p>然后我觉得可能是 springboot 的原因，所以我写了第二版：\n用了 okhttp + gson + mybatis + jdbc\n去掉了框架和 logback, 直接用 print 输出 log ， 定时任务也直接用了 while(true) + sleep 来实现。</p>\n<p>这版程序稳定运行之后内存占用：<strong>90M</strong></p>\n<p>上面两版没有加任何优化参数，就是 java -jar xxx.jar 运行。\njava 版本：java21</p>\n<hr/>\n<p>java21 了，还是这个内存表现，失望啊。</p>\n", "last_modified": 1720442214, "replies": 53, "id": 1055770}]