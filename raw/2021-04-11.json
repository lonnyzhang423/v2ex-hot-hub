[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/3cef/96dc/949_large.png?m=1614702882", "name": "nas", "avatar_normal": "https://cdn.v2ex.com/navatar/3cef/96dc/949_normal.png?m=1614702882", "title": "NAS", "url": "https://www.v2ex.com/go/nas", "topics": 364, "footer": "", "header": "关于网络存储设备的讨论", "title_alternative": "NAS", "avatar_mini": "https://cdn.v2ex.com/navatar/3cef/96dc/949_mini.png?m=1614702882", "stars": 647, "aliases": [], "root": false, "id": 949, "parent_node_name": "hardware"}, "member": {"username": "sidkang", "website": "", "github": "", "psn": "", "avatar_normal": "https://cdn.v2ex.com/avatar/44de/5d09/56607_mini.png?m=1608606757", "bio": "", "url": "https://www.v2ex.com/u/sidkang", "tagline": "", "twitter": "", "created": 1393125427, "avatar_large": "https://cdn.v2ex.com/avatar/44de/5d09/56607_mini.png?m=1608606757", "avatar_mini": "https://cdn.v2ex.com/avatar/44de/5d09/56607_mini.png?m=1608606757", "location": "", "btc": "", "id": 56607}, "last_reply_by": "Eleutherios", "last_touched": 1618105371, "title": "自建 NAS 的存储方案的技术选择，求建议", "url": "https://www.v2ex.com/t/769653", "created": 1618021941, "content": "前帖提要：[链接在此]( https://www.v2ex.com/t/608123)\r\n\r\n在上回发帖之后，中途也陆陆续续对现有 NAS 做了些许改动，作为不折腾不舒服星人，出于各种原因，打算进行更动\r\n\r\n|类型|现有配置|预期方向|备注|\r\n|-|-|-|-|\r\n|CPU|i5-8500|E5-2690V4|\r\n|主板|E3C246D2I(ITX)|EPC612D8A(ATX)|\r\n|内存|金士顿 16G*2|三星 REG DDR4 16G*4|\r\n|机箱|MineNas 四盘位|Define R6|\r\n|系统盘|0.5T*2(Mirror)|\r\n|容器盘|0.5T*2(Mirror)|\r\n|存储盘|8T*4(1+0)|\r\n|系统|Proxmox|Ubuntu LTS(待定)|\r\n\r\n先总结一下目前配置的优点：\r\n1. 体积小、做工在线、4 盘位热插拔；\r\n2. 机箱容量大：虽然是 4 盘位机箱，但实际上我可以塞入 3.5 寸*4 、2.5 寸*4，目前板子仍空着一张 M.2 2242 插槽，所以还可以加入一个 2.5 寸 U.2 盘；\r\n3. 主板接口足够：\r\n4. 性能还不错，因为用的 8500，我日常开着两个 docker lxc （一个默认科学上网、一个直连，上面各运行数个 docker 容器）、2 个 WIN10 VM 、一个 Debian Testing 开发机、一个 Hackintosh VM （ surge 盘路由），剩余若干 lxc 容器（ samba 、webdav 、plex 、syncthing 、jellyfin(专攻受限影片)等）；\r\n5. IPMI 维护便利。\r\n\r\n期间发现的一些不足及缺陷（不分排名先后）：\r\n1. 噪音。由于房屋面积实在有限，机箱目前被安置在客厅，这就导致在客厅观影的时候经常受到硬盘炒豆子声音的影响；\r\n2. 四盘位机箱维护不便。使用期间发生了三个 pool 分别发生了一次降级事故，2.5 寸硬盘倒还好，腾挪方便，由于我的存储 pool 用满了四张盘，3.5 寸的替换确实有些困难；\r\n3. PCI-E 插槽的不足之一。之前在采纳 ITX 作为主板时，考虑万兆的需求还比较遥远，AIO 一体机对于万兆的需求相对也不太高就暂时放弃，当时也是看到了 QNAP 及其它厂商所出的 2.5G/5G USB 网卡，感觉在全面万兆内网前可以凑活，遂暂时放弃，但实际使用中发现 USB 网卡在使用中存在着过热降速、延迟不稳定的情况，SAD ；\r\n4. PCI-E 插槽的不足 2 。其实组装前就想要在机子上有一个直通显卡的 WIN10 VM 和 Hackintosh VM，但是后来采用了 NUC8+雷电显卡坞的方案解决，但发现这个方案有些 bug，打算淘汰掉这个组合，所以这也就成为了一个缺点\r\n5. 容量不足。这一点严重失误，估计不足。受限于 ZFS 以及盘位闲置，存储空间的升级实在太贵，大家都懂。\r\n\r\n于是基于上述理由，开始寻找替代方案，也请各位 V 朋指教：\r\n1. 机箱。目标 8-10 盘位机箱。考虑到 PCI-E 扩展性及散热性能，锁定了几款 ATX 机箱，Define R5 、Define R6 、Antec P101-S 这几款机箱，目前偏好 R6，因为打算放入双显卡及万兆卡，目前手上两张都是双槽卡，R6 这方面最合适，静音效果看起来也不弱；\r\n2. 主板。目标是三条 x8 、一条 x4 槽位（双显卡+冗余 HBA 卡+万兆卡），可以使用相对便宜的 REG DDR3/4 、U 性能相对不那么落伍（因为需要玩游戏及桌面 VM，所以希望主频不低、核心数也够）、同时虚拟化相对稳一些（ iommu 、PCI 直通方面不存在障碍，这一点经过了较长时间的网上资讯确认，暂时放弃 AMD 系列，对此有不同意见的朋友也欢迎提出来），多方面调查后，目前确认了 AsRock Rack 的 EPC612D8A 主板；\r\n3. CPU 。这个就比较简单了，根据主板直接选择 E5-26XXV4 系列 U，考虑到核心数足够，主频相对不弱，性价比足够的原则，暂时选定了 E5-2680/90V4，暂时还未采购，闲置的小伙伴可以出给我；\r\n\r\n另一大块就是 Host 系统选择及 Raid 组合有比较大的不确定：\r\n1. 目前的方案是系统盘 Mirror 和容器盘 Mirror 分离，考虑到都是 SSD RAID1，实际使用中是否需要严格分离呢？如果不的话，这两个应用是不是可以考虑放在一个 pool 里？\r\n2. 由于有多媒体存储、PT 的需求，当然 PT 不算重度，但是多媒体对于性能的偏好要求并不高，目前打算使用 MergerFS+SnapRaid 的类 Unraid 方式来组合存储多媒体存档文件、而 PT 和重要文档文件采用大容量 HDD 组 mirror 或 Raidz1 使用，这样做是否合理？\r\n3. 是否能将 Raidz1 放在 MergerFS 的 pool 中？也就是多个 Basic 盘+Raidz1/Mirror 作为 MergerFS 的 pool，Snapraid 对这个整体进行运作，该参考方案来自于[linuxServer.io]( https://perfectmediaserver.com/advanced/combine-zfs-and-others/)，各位对这种 RAID 堆叠的方案有什么看法呢？\r\n4. 根据以上的选择，如果采用 MergerFS 和 ZFS 的混合方案，个人倾向于选择 Ubuntu，如果是纯 ZFS 方案，个人可能就会选择 Proxmox，另外的 Truenas Scale 版本正在官网，由于目前仍然是 alpha 状态，有些打鼓，各位有在实际使用中的么？\r\n欢迎提出建议和宝贵意见。", "content_rendered": "<p>前帖提要：<a href=\"https://www.v2ex.com/t/608123\" rel=\"nofollow\">链接在此</a></p>\n<p>在上回发帖之后，中途也陆陆续续对现有 NAS 做了些许改动，作为不折腾不舒服星人，出于各种原因，打算进行更动</p>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>现有配置</th>\n<th>预期方向</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>CPU</td>\n<td>i5-8500</td>\n<td>E5-2690V4</td>\n<td></td>\n</tr>\n<tr>\n<td>主板</td>\n<td>E3C246D2I(ITX)</td>\n<td>EPC612D8A(ATX)</td>\n<td></td>\n</tr>\n<tr>\n<td>内存</td>\n<td>金士顿 16G*2</td>\n<td>三星 REG DDR4 16G*4</td>\n<td></td>\n</tr>\n<tr>\n<td>机箱</td>\n<td>MineNas 四盘位</td>\n<td>Define R6</td>\n<td></td>\n</tr>\n<tr>\n<td>系统盘</td>\n<td>0.5T*2(Mirror)</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>容器盘</td>\n<td>0.5T*2(Mirror)</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>存储盘</td>\n<td>8T*4(1+0)</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>系统</td>\n<td>Proxmox</td>\n<td>Ubuntu LTS(待定)</td>\n<td></td>\n</tr>\n</tbody></table><p>先总结一下目前配置的优点：</p>\n<ol>\n<li>体积小、做工在线、4 盘位热插拔；</li>\n<li>机箱容量大：虽然是 4 盘位机箱，但实际上我可以塞入 3.5 寸<em>4 、2.5 寸</em>4，目前板子仍空着一张 M.2 2242 插槽，所以还可以加入一个 2.5 寸 U.2 盘；</li>\n<li>主板接口足够：</li>\n<li>性能还不错，因为用的 8500，我日常开着两个 docker lxc （一个默认科学上网、一个直连，上面各运行数个 docker 容器）、2 个 WIN10 VM 、一个 Debian Testing 开发机、一个 Hackintosh VM （ surge 盘路由），剩余若干 lxc 容器（ samba 、webdav 、plex 、syncthing 、jellyfin(专攻受限影片)等）；</li>\n<li>IPMI 维护便利。</li>\n</ol>\n<p>期间发现的一些不足及缺陷（不分排名先后）：</p>\n<ol>\n<li>噪音。由于房屋面积实在有限，机箱目前被安置在客厅，这就导致在客厅观影的时候经常受到硬盘炒豆子声音的影响；</li>\n<li>四盘位机箱维护不便。使用期间发生了三个 pool 分别发生了一次降级事故，2.5 寸硬盘倒还好，腾挪方便，由于我的存储 pool 用满了四张盘，3.5 寸的替换确实有些困难；</li>\n<li>PCI-E 插槽的不足之一。之前在采纳 ITX 作为主板时，考虑万兆的需求还比较遥远，AIO 一体机对于万兆的需求相对也不太高就暂时放弃，当时也是看到了 QNAP 及其它厂商所出的 2.5G/5G USB 网卡，感觉在全面万兆内网前可以凑活，遂暂时放弃，但实际使用中发现 USB 网卡在使用中存在着过热降速、延迟不稳定的情况，SAD ；</li>\n<li>PCI-E 插槽的不足 2 。其实组装前就想要在机子上有一个直通显卡的 WIN10 VM 和 Hackintosh VM，但是后来采用了 NUC8+雷电显卡坞的方案解决，但发现这个方案有些 bug，打算淘汰掉这个组合，所以这也就成为了一个缺点</li>\n<li>容量不足。这一点严重失误，估计不足。受限于 ZFS 以及盘位闲置，存储空间的升级实在太贵，大家都懂。</li>\n</ol>\n<p>于是基于上述理由，开始寻找替代方案，也请各位 V 朋指教：</p>\n<ol>\n<li>机箱。目标 8-10 盘位机箱。考虑到 PCI-E 扩展性及散热性能，锁定了几款 ATX 机箱，Define R5 、Define R6 、Antec P101-S 这几款机箱，目前偏好 R6，因为打算放入双显卡及万兆卡，目前手上两张都是双槽卡，R6 这方面最合适，静音效果看起来也不弱；</li>\n<li>主板。目标是三条 x8 、一条 x4 槽位（双显卡+冗余 HBA 卡+万兆卡），可以使用相对便宜的 REG DDR3/4 、U 性能相对不那么落伍（因为需要玩游戏及桌面 VM，所以希望主频不低、核心数也够）、同时虚拟化相对稳一些（ iommu 、PCI 直通方面不存在障碍，这一点经过了较长时间的网上资讯确认，暂时放弃 AMD 系列，对此有不同意见的朋友也欢迎提出来），多方面调查后，目前确认了 AsRock Rack 的 EPC612D8A 主板；</li>\n<li>CPU 。这个就比较简单了，根据主板直接选择 E5-26XXV4 系列 U，考虑到核心数足够，主频相对不弱，性价比足够的原则，暂时选定了 E5-2680/90V4，暂时还未采购，闲置的小伙伴可以出给我；</li>\n</ol>\n<p>另一大块就是 Host 系统选择及 Raid 组合有比较大的不确定：</p>\n<ol>\n<li>目前的方案是系统盘 Mirror 和容器盘 Mirror 分离，考虑到都是 SSD RAID1，实际使用中是否需要严格分离呢？如果不的话，这两个应用是不是可以考虑放在一个 pool 里？</li>\n<li>由于有多媒体存储、PT 的需求，当然 PT 不算重度，但是多媒体对于性能的偏好要求并不高，目前打算使用 MergerFS+SnapRaid 的类 Unraid 方式来组合存储多媒体存档文件、而 PT 和重要文档文件采用大容量 HDD 组 mirror 或 Raidz1 使用，这样做是否合理？</li>\n<li>是否能将 Raidz1 放在 MergerFS 的 pool 中？也就是多个 Basic 盘+Raidz1/Mirror 作为 MergerFS 的 pool，Snapraid 对这个整体进行运作，该参考方案来自于<a href=\"https://perfectmediaserver.com/advanced/combine-zfs-and-others/\" rel=\"nofollow\">linuxServer.io</a>，各位对这种 RAID 堆叠的方案有什么看法呢？</li>\n<li>根据以上的选择，如果采用 MergerFS 和 ZFS 的混合方案，个人倾向于选择 Ubuntu，如果是纯 ZFS 方案，个人可能就会选择 Proxmox，另外的 Truenas Scale 版本正在官网，由于目前仍然是 alpha 状态，有些打鼓，各位有在实际使用中的么？\n欢迎提出建议和宝贵意见。</li>\n</ol>\n", "last_modified": 1618022176, "replies": 39, "id": 769653}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1617610541", "name": "career", "avatar_normal": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1617610541", "title": "职场话题", "url": "https://www.v2ex.com/go/career", "topics": 11232, "footer": "", "header": "这里，我们聊聊那些工作中遇到的开心和不开心的事。", "title_alternative": "Career", "avatar_mini": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1617610541", "stars": 1997, "aliases": [], "root": false, "id": 770, "parent_node_name": "work"}, "member": {"username": "iihll", "website": "", "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/gravatar/2a3c61ccaef5dc0e3e6761202d021202?s=24&d=retro", "bio": "", "url": "https://www.v2ex.com/u/iihll", "tagline": "", "twitter": null, "created": 1514080701, "avatar_large": "https://cdn.v2ex.com/gravatar/2a3c61ccaef5dc0e3e6761202d021202?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/2a3c61ccaef5dc0e3e6761202d021202?s=24&d=retro", "location": "", "btc": null, "id": 276566}, "last_reply_by": "iihll", "last_touched": 1618068719, "title": "公司出差问题，询问大佬", "url": "https://www.v2ex.com/t/769691", "created": 1618034492, "content": "前端岗， 面了一家公司整个部门是产品+项目的形式，有项目会出差，包吃住一天补贴 100，然后工作时间正常在公司的话是 10 7 5，出差就是跟着甲方项目时间走，一年下来会有两到三个月的时间是出差状态，我想询问一下这种出差算是外包吗", "content_rendered": "前端岗， 面了一家公司整个部门是产品+项目的形式，有项目会出差，包吃住一天补贴 100，然后工作时间正常在公司的话是 10 7 5，出差就是跟着甲方项目时间走，一年下来会有两到三个月的时间是出差状态，我想询问一下这种出差算是外包吗", "last_modified": 1618034492, "replies": 32, "id": 769691}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1615111825", "name": "apple", "avatar_normal": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1615111825", "title": "Apple", "url": "https://www.v2ex.com/go/apple", "topics": 14487, "footer": "", "header": "设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。", "title_alternative": "Apple", "avatar_mini": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1615111825", "stars": 1775, "aliases": [], "root": false, "id": 184, "parent_node_name": "hardware"}, "member": {"username": "Painappuru", "website": "", "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/avatar/f5bf/3a72/490694_mini.png?m=1590037205", "bio": "", "url": "https://www.v2ex.com/u/Painappuru", "tagline": "", "twitter": null, "created": 1590036369, "avatar_large": "https://cdn.v2ex.com/avatar/f5bf/3a72/490694_mini.png?m=1590037205", "avatar_mini": "https://cdn.v2ex.com/avatar/f5bf/3a72/490694_mini.png?m=1590037205", "location": "", "btc": null, "id": 490694}, "last_reply_by": "Painappuru", "last_touched": 1618076870, "title": "升级 ios14.4.2 之后 App Store 无法跳转不同国家商店", "url": "https://www.v2ex.com/t/769676", "created": 1618026582, "content": "![IMG_1030.PNG]( https://i.loli.net/2021/04/10/v5lpIXS6hCUksrG.png)\r\n\r\n如图，之前都是通过快捷指令可以直接跳转到各国商店，现在只提示当前地区不可用，无法跳转，挺烦的...", "content_rendered": "<p><img alt=\"IMG_1030.PNG\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.loli.net/2021/04/10/v5lpIXS6hCUksrG.png\"/></p>\n<p>如图，之前都是通过快捷指令可以直接跳转到各国商店，现在只提示当前地区不可用，无法跳转，挺烦的...</p>\n", "last_modified": 1618026611, "replies": 30, "id": 769676}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c74d/97b0/16_large.png?m=1611763055", "name": "share", "avatar_normal": "https://cdn.v2ex.com/navatar/c74d/97b0/16_normal.png?m=1611763055", "title": "分享发现", "url": "https://www.v2ex.com/go/share", "topics": 33869, "footer": "", "header": "分享你看到的好玩的，有信息量的，欢迎从这里获取灵感。", "title_alternative": "Share", "avatar_mini": "https://cdn.v2ex.com/navatar/c74d/97b0/16_mini.png?m=1611763055", "stars": 4466, "aliases": [], "root": false, "id": 16, "parent_node_name": "v2ex"}, "member": {"username": "liuzhiyong", "website": "http://www.moonforce.org/", "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/avatar/e8ac/daaf/204175_mini.png?m=1480731028", "bio": "", "url": "https://www.v2ex.com/u/liuzhiyong", "tagline": "", "twitter": null, "created": 1480730452, "avatar_large": "https://cdn.v2ex.com/avatar/e8ac/daaf/204175_mini.png?m=1480731028", "avatar_mini": "https://cdn.v2ex.com/avatar/e8ac/daaf/204175_mini.png?m=1480731028", "location": "", "btc": null, "id": 204175}, "last_reply_by": "nvkou", "last_touched": 1618092515, "title": "7z vs rar", "url": "https://www.v2ex.com/t/769735", "created": 1618045029, "content": "研究一个问题：7Z 和 RAR 到底哪个更流行？（对普通用户而言……为啥要考虑这个问题，后面细说）\r\n\r\n这个事肯定得找 Google：于是先在 Google 首页输入“zip vs”，看 Google 提示列表，谁排名靠前：\r\nhttps://www.vfilename.com/index-html-img/a003.png\r\n（ RAR 这次赢了，这个应该说比较准确，因为提示列表是按流行程度排序的）\r\n\r\n还应该在 Google Trends 直接做对比：\r\nhttps://www.vfilename.com/index-html-img/a004.png\r\n（这次 RAR 遥遥领先，当然这个可能不太准确：RAR 和 7Z 可能不仅仅是文件格式的名称，有其他含义。仅供参考吧）\r\n\r\n还想再问 Google 一次，这次用 Google News，看它们两个的新闻曝光次数：\r\n\r\nNews 里面搜索最近一个月出现 7z file…… \r\nhttps://i.v2ex.co/Q526ote4.png\r\n看它 News 结果有 3 页…… \r\nhttps://i.v2ex.co/s8Copf3N.png\r\n\r\n同样的搜索 News 最近一月出现 rar file…… \r\nhttps://i.v2ex.co/CCy4i8aD.png\r\n它 News 结果有 9 页…… \r\nhttps://i.v2ex.co/GXpj46Oy.png\r\n\r\n-----\r\n\r\n小广告：为啥考虑这个问题，是因为做了一个和压缩包有关的小工具，开源的：\r\n\r\nhttps://www.vfilename.com/\r\nhttps://github.com/vfilename/vfilename\r\n\r\n因为目前仅仅支持 RAR，引起争议。于是周末研究了一下这个问题。不敢说绝对正确哈，欢迎提意见。", "content_rendered": "研究一个问题：7Z 和 RAR 到底哪个更流行？（对普通用户而言……为啥要考虑这个问题，后面细说）<br /><br />这个事肯定得找 Google：于是先在 Google 首页输入“zip vs”，看 Google 提示列表，谁排名靠前：<br /><a target=\"_blank\" href=\"https://www.vfilename.com/index-html-img/a003.png\" rel=\"nofollow noopener\">https://www.vfilename.com/index-html-img/a003.png</a><br />（ RAR 这次赢了，这个应该说比较准确，因为提示列表是按流行程度排序的）<br /><br />还应该在 Google Trends 直接做对比：<br /><a target=\"_blank\" href=\"https://www.vfilename.com/index-html-img/a004.png\" rel=\"nofollow noopener\">https://www.vfilename.com/index-html-img/a004.png</a><br />（这次 RAR 遥遥领先，当然这个可能不太准确：RAR 和 7Z 可能不仅仅是文件格式的名称，有其他含义。仅供参考吧）<br /><br />还想再问 Google 一次，这次用 Google News，看它们两个的新闻曝光次数：<br /><br />News 里面搜索最近一个月出现 7z file…… <br /><a target=\"_blank\" href=\"/i/Q526ote4.png\" rel=\"nofollow noopener\" target=\"_blank\" title=\"在新窗口打开图片 Q526ote4.png\"><img src=\"//i.v2ex.co/Q526ote4.png\" class=\"embedded_image\"></a><br />看它 News 结果有 3 页…… <br /><a target=\"_blank\" href=\"/i/s8Copf3N.png\" rel=\"nofollow noopener\" target=\"_blank\" title=\"在新窗口打开图片 s8Copf3N.png\"><img src=\"//i.v2ex.co/s8Copf3N.png\" class=\"embedded_image\"></a><br /><br />同样的搜索 News 最近一月出现 rar file…… <br /><a target=\"_blank\" href=\"/i/CCy4i8aD.png\" rel=\"nofollow noopener\" target=\"_blank\" title=\"在新窗口打开图片 CCy4i8aD.png\"><img src=\"//i.v2ex.co/CCy4i8aD.png\" class=\"embedded_image\"></a><br />它 News 结果有 9 页…… <br /><a target=\"_blank\" href=\"/i/GXpj46Oy.png\" rel=\"nofollow noopener\" target=\"_blank\" title=\"在新窗口打开图片 GXpj46Oy.png\"><img src=\"//i.v2ex.co/GXpj46Oy.png\" class=\"embedded_image\"></a><br /><br />-----<br /><br />小广告：为啥考虑这个问题，是因为做了一个和压缩包有关的小工具，开源的：<br /><br /><a target=\"_blank\" href=\"https://www.vfilename.com/\" rel=\"nofollow noopener\">https://www.vfilename.com/</a><br /><a target=\"_blank\" href=\"https://github.com/vfilename/vfilename\" rel=\"nofollow noopener\">https://github.com/vfilename/vfilename</a><br /><br />因为目前仅仅支持 RAR，引起争议。于是周末研究了一下这个问题。不敢说绝对正确哈，欢迎提意见。", "last_modified": 1618045029, "replies": 29, "id": 769735}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1615111825", "name": "apple", "avatar_normal": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1615111825", "title": "Apple", "url": "https://www.v2ex.com/go/apple", "topics": 14487, "footer": "", "header": "设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。", "title_alternative": "Apple", "avatar_mini": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1615111825", "stars": 1775, "aliases": [], "root": false, "id": 184, "parent_node_name": "hardware"}, "member": {"username": "chizuo", "website": "", "github": "", "psn": "", "avatar_normal": "https://cdn.v2ex.com/avatar/5000/b53a/462961_mini.png?m=1595810419", "bio": "", "url": "https://www.v2ex.com/u/chizuo", "tagline": "", "twitter": "", "created": 1578028449, "avatar_large": "https://cdn.v2ex.com/avatar/5000/b53a/462961_mini.png?m=1595810419", "avatar_mini": "https://cdn.v2ex.com/avatar/5000/b53a/462961_mini.png?m=1595810419", "location": "", "btc": "", "id": 462961}, "last_reply_by": "Pierson", "last_touched": 1618048714, "title": "感觉苹果要发 AR 眼镜了", "url": "https://www.v2ex.com/t/769664", "created": 1618024126, "content": "根据 WWDC 那个海报\r\nhttps://developer.apple.com/wwdc21/\r\n\r\n还有昨天“苹果代言人”何同学发的 AR 眼镜视频\r\nhttps://www.bilibili.com/video/BV1RA41157hM\r\n\r\n可能都是苹果新品铺垫，大家觉得呢？虽然我觉得目前的 AR 真的挺鸡肋的，属于玩一玩挺有意思，但绝不会高频次融入生活像手机那样使用", "content_rendered": "<p>根据 WWDC 那个海报\n<a href=\"https://developer.apple.com/wwdc21/\" rel=\"nofollow\">https://developer.apple.com/wwdc21/</a></p>\n<p>还有昨天“苹果代言人”何同学发的 AR 眼镜视频\n<a href=\"https://www.bilibili.com/video/BV1RA41157hM\" rel=\"nofollow\">https://www.bilibili.com/video/BV1RA41157hM</a></p>\n<p>可能都是苹果新品铺垫，大家觉得呢？虽然我觉得目前的 AR 真的挺鸡肋的，属于玩一玩挺有意思，但绝不会高频次融入生活像手机那样使用</p>\n", "last_modified": 1618024126, "replies": 25, "id": 769664}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1617509603", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1617509603", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 44146, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1617509603", "stars": 7337, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"username": "waibunleung", "website": null, "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/avatar/dabc/65b9/210792_mini.png?m=1563788897", "bio": null, "url": "https://www.v2ex.com/u/waibunleung", "tagline": null, "twitter": null, "created": 1484371340, "avatar_large": "https://cdn.v2ex.com/avatar/dabc/65b9/210792_mini.png?m=1563788897", "avatar_mini": "https://cdn.v2ex.com/avatar/dabc/65b9/210792_mini.png?m=1563788897", "location": null, "btc": null, "id": 210792}, "last_reply_by": "angryfish", "last_touched": 1618069653, "title": "请教诸位一个 redis 统计访问量增速的问题", "url": "https://www.v2ex.com/t/769758", "created": 1618051580, "content": "自己搞了个小程序，需要统计一下某些内容的访问量增速，比如某个视频 10 分钟内的访问量，在内存有限的情况下(最多 8g)，用 redis 来做的话，怎么做比较好？因为存在时间窗口的问题，不知道采用哪种方法比较好。\r\n\r\n关于用户，没登录什么的，所以也不会有什么用户 id 之类的东西\r\n\r\n1. 有序集合，毫秒时间戳为 score，但是如果比较多访问的话，内存占用比较大，实际上我只想要一个数而已\r\n2. 普通的 key，但是怎么去除 10 分钟前的数据？每分钟存一次访问量数据的话，要统计一个视频的 10 分钟访问量还好，但是要统计多个的时候，就要多次读取 redis\r\n3. 有没有更好的办法? 成本有限，加内存什么的就先不考虑了吧", "content_rendered": "<p>自己搞了个小程序，需要统计一下某些内容的访问量增速，比如某个视频 10 分钟内的访问量，在内存有限的情况下(最多 8g)，用 redis 来做的话，怎么做比较好？因为存在时间窗口的问题，不知道采用哪种方法比较好。</p>\n<p>关于用户，没登录什么的，所以也不会有什么用户 id 之类的东西</p>\n<ol>\n<li>有序集合，毫秒时间戳为 score，但是如果比较多访问的话，内存占用比较大，实际上我只想要一个数而已</li>\n<li>普通的 key，但是怎么去除 10 分钟前的数据？每分钟存一次访问量数据的话，要统计一个视频的 10 分钟访问量还好，但是要统计多个的时候，就要多次读取 redis</li>\n<li>有没有更好的办法? 成本有限，加内存什么的就先不考虑了吧</li>\n</ol>\n", "last_modified": 1618051580, "replies": 23, "id": 769758}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c9f0/f895/8_large.png?m=1615111905", "name": "iphone", "avatar_normal": "https://cdn.v2ex.com/navatar/c9f0/f895/8_normal.png?m=1615111905", "title": "iPhone", "url": "https://www.v2ex.com/go/iphone", "topics": 8450, "footer": "这里绝不讨论如何获得 iPhone 盗版软件、iTunes 黑卡之类。", "header": "Say hello to the future.", "title_alternative": "iPhone", "avatar_mini": "https://cdn.v2ex.com/navatar/c9f0/f895/8_mini.png?m=1615111905", "stars": 2641, "aliases": [], "root": false, "id": 8, "parent_node_name": "apple"}, "member": {"username": "ichanne", "website": "", "github": "", "psn": "", "avatar_normal": "https://cdn.v2ex.com/avatar/1e65/c9f7/111586_mini.png?m=1491207972", "bio": "", "url": "https://www.v2ex.com/u/ichanne", "tagline": "", "twitter": "", "created": 1429341927, "avatar_large": "https://cdn.v2ex.com/avatar/1e65/c9f7/111586_mini.png?m=1491207972", "avatar_mini": "https://cdn.v2ex.com/avatar/1e65/c9f7/111586_mini.png?m=1491207972", "location": "", "btc": "", "id": 111586}, "last_reply_by": "nuistzhou", "last_touched": 1618043824, "title": "多台 iPhone 之间如何快速传输文本？", "url": "https://www.v2ex.com/t/769652", "created": 1618020916, "content": "其实 iMessage 是最好的，奈何会解析 URL，又关不掉。\r\n最好是不经过第三方服务器，端对端加密的除外。\r\n墙内墙外都能使用。", "content_rendered": "<p>其实 iMessage 是最好的，奈何会解析 URL，又关不掉。\n最好是不经过第三方服务器，端对端加密的除外。\n墙内墙外都能使用。</p>\n", "last_modified": 1618020916, "replies": 22, "id": 769652}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/1f0e/3dad/19_large.png?m=1588235467", "name": "beijing", "avatar_normal": "https://cdn.v2ex.com/navatar/1f0e/3dad/19_normal.png?m=1588235467", "title": "北京", "url": "https://www.v2ex.com/go/beijing", "topics": 3125, "footer": "", "header": "", "title_alternative": "Beijing", "avatar_mini": "https://cdn.v2ex.com/navatar/1f0e/3dad/19_mini.png?m=1588235467", "stars": 1850, "aliases": [], "root": false, "id": 19, "parent_node_name": "cn"}, "member": {"username": "zengraoli", "website": null, "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/avatar/aca4/46d0/541753_mini.png?m=1617933696", "bio": null, "url": "https://www.v2ex.com/u/zengraoli", "tagline": null, "twitter": null, "created": 1617933287, "avatar_large": "https://cdn.v2ex.com/avatar/aca4/46d0/541753_mini.png?m=1617933696", "avatar_mini": "https://cdn.v2ex.com/avatar/aca4/46d0/541753_mini.png?m=1617933696", "location": null, "btc": null, "id": 541753}, "last_reply_by": "ysicing", "last_touched": 1618061439, "title": "求问一下各位，自如的租房可以帮忙办居住证吗？", "url": "https://www.v2ex.com/t/769655", "created": 1618021979, "content": "求问一下各位，自如的租房可以帮忙办居住证吗？\r\n\r\n看了网上说的，一半说群租房不能办理，另一半说可以，但是上门办理居住证的时候还需要房东在？", "content_rendered": "求问一下各位，自如的租房可以帮忙办居住证吗？<br /><br />看了网上说的，一半说群租房不能办理，另一半说可以，但是上门办理居住证的时候还需要房东在？", "last_modified": 1618022059, "replies": 21, "id": 769655}]