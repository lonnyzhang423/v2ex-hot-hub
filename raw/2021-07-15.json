[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1622572533", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1622572533", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 174432, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1622572533", "stars": 3276, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"username": "MakeItGreat", "website": null, "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/gravatar/d6a5f9101c2ea99b93e13a9e52224bff?s=24&d=retro", "bio": null, "url": "https://www.v2ex.com/u/MakeItGreat", "tagline": null, "twitter": null, "created": 1595768218, "avatar_large": "https://cdn.v2ex.com/gravatar/d6a5f9101c2ea99b93e13a9e52224bff?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/d6a5f9101c2ea99b93e13a9e52224bff?s=24&d=retro", "location": null, "btc": null, "id": 500882}, "last_reply_by": "sadwin", "last_touched": 1626318179, "title": "请问如何发一个 2 到 5G 的文件给国内朋友", "url": "https://www.v2ex.com/t/789447", "created": 1626235908, "content": "已知方案：\r\n\r\n阿里云或者腾讯云 oss\r\n优势：自由方便\r\n缺点：流量贵\r\n\r\n百度网盘\r\n：需要对面也有会员\r\n\r\n请问大家还有其他方案吗？", "content_rendered": "已知方案：<br /><br />阿里云或者腾讯云 oss<br />优势：自由方便<br />缺点：流量贵<br /><br />百度网盘<br />：需要对面也有会员<br /><br />请问大家还有其他方案吗？", "last_modified": 1626235908, "replies": 113, "id": 789447}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1626270096", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1626270096", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 45035, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1626270096", "stars": 7434, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"username": "JarvisTang", "website": "https://tangjie.me", "github": "jarvis-tang", "psn": "", "avatar_normal": "https://cdn.v2ex.com/avatar/0939/66ae/204735_mini.png?m=1491804466", "bio": "", "url": "https://www.v2ex.com/u/JarvisTang", "tagline": "", "twitter": "Jarvis_Tweet", "created": 1481051139, "avatar_large": "https://cdn.v2ex.com/avatar/0939/66ae/204735_mini.png?m=1491804466", "avatar_mini": "https://cdn.v2ex.com/avatar/0939/66ae/204735_mini.png?m=1491804466", "location": "", "btc": "", "id": 204735}, "last_reply_by": "LANB0", "last_touched": 1626317047, "title": "想开源又想有专利保护，选择哪个开源协议合适呢？", "url": "https://www.v2ex.com/t/789495", "created": 1626248130, "content": "我策划了一个开源软件，虽然是一款开源产品，但是开发者生态和终端市场应用有着非常大的商业前景，为了保护开源生态的可持续发展，避免相似竞品的出现，我申请了 6 个发明专利。\r\n\r\n我的目的是：\r\n\r\n- 对于使用者，免费使用，不限用途，包括商业项目使用；\r\n- 对于开发者，只能通过 Pull Requests 方式参与主程序开发，不能演绎其他版本的主程序；但是不影响开发扩展插件，或者商业化运营扩展插件；\r\n- 对于竞争者，如果开发出功能原理一样或者相似的产品，无论使用哪种编程语言，无论是自托管部署或者 SaaS 模式，都要受到专利限制。\r\n\r\n基于这个目的，我选择哪个开源协议比较适合呢？\r\n\r\n或者谁知道哪家律师事务所或者律师，是懂开源协议的？\r\n\r\n感谢大家帮我参谋参谋。", "content_rendered": "<p>我策划了一个开源软件，虽然是一款开源产品，但是开发者生态和终端市场应用有着非常大的商业前景，为了保护开源生态的可持续发展，避免相似竞品的出现，我申请了 6 个发明专利。</p>\n<p>我的目的是：</p>\n<ul>\n<li>对于使用者，免费使用，不限用途，包括商业项目使用；</li>\n<li>对于开发者，只能通过 Pull Requests 方式参与主程序开发，不能演绎其他版本的主程序；但是不影响开发扩展插件，或者商业化运营扩展插件；</li>\n<li>对于竞争者，如果开发出功能原理一样或者相似的产品，无论使用哪种编程语言，无论是自托管部署或者 SaaS 模式，都要受到专利限制。</li>\n</ul>\n<p>基于这个目的，我选择哪个开源协议比较适合呢？</p>\n<p>或者谁知道哪家律师事务所或者律师，是懂开源协议的？</p>\n<p>感谢大家帮我参谋参谋。</p>\n", "last_modified": 1626248130, "replies": 66, "id": 789495}, {"node": {"avatar_large": "/static/img/node_default_large.png", "name": "taobao", "avatar_normal": "/static/img/node_default_normal.png", "title": "淘宝", "url": "https://www.v2ex.com/go/taobao", "topics": 285, "footer": null, "header": null, "title_alternative": "淘宝", "avatar_mini": "/static/img/node_default_mini.png", "stars": 56, "aliases": [], "root": false, "id": 726, "parent_node_name": null}, "member": {"username": "soulzz", "website": "", "github": "", "psn": "", "avatar_normal": "https://cdn.v2ex.com/avatar/ceed/e266/330803_mini.png?m=1584038041", "bio": "", "url": "https://www.v2ex.com/u/soulzz", "tagline": "", "twitter": "", "created": 1532274301, "avatar_large": "https://cdn.v2ex.com/avatar/ceed/e266/330803_mini.png?m=1584038041", "avatar_mini": "https://cdn.v2ex.com/avatar/ceed/e266/330803_mini.png?m=1584038041", "location": "", "btc": "", "id": 330803}, "last_reply_by": "Skyfeng", "last_touched": 1626317957, "title": "淘宝算法杀熟实锤", "url": "https://www.v2ex.com/t/789616", "created": 1626313135, "content": "今天上班时间，我正在摸鱼。\r\n老板转悠到我这里时看到桌上的小黄鸭手持风扇也想要买一个，于是有了这个发现。\r\n淘宝搜索关键字 bduck 手持风扇，默认搜索结果中表现如下：\r\n      我的搜索结果中价格在 20-35，我的直属领导搜出来价格集中在 30-40，老板搜出来 60-150\r\n\r\n\r\nhttps://i.v2ex.co/AtCzL5S4l.jpeg\r\n都是使用的数据流量，没有连接同一个 wifi，可以说是石锤杀熟了", "content_rendered": "今天上班时间，我正在摸鱼。<br />老板转悠到我这里时看到桌上的小黄鸭手持风扇也想要买一个，于是有了这个发现。<br />淘宝搜索关键字 bduck 手持风扇，默认搜索结果中表现如下：<br />      我的搜索结果中价格在 20-35，我的直属领导搜出来价格集中在 30-40，老板搜出来 60-150<br /><br /><br /><a target=\"_blank\" href=\"/i/AtCzL5S4l.jpeg\" rel=\"nofollow noopener\" target=\"_blank\" title=\"在新窗口打开图片 AtCzL5S4l.jpeg\"><img src=\"//i.v2ex.co/AtCzL5S4l.jpeg\" class=\"embedded_image\"></a><br />都是使用的数据流量，没有连接同一个 wifi，可以说是石锤杀熟了", "last_modified": 1626313539, "replies": 63, "id": 789616}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/55b3/7c5c/649_large.png?m=1620805836", "name": "wechat", "avatar_normal": "https://cdn.v2ex.com/navatar/55b3/7c5c/649_normal.png?m=1620805836", "title": "微信", "url": "https://www.v2ex.com/go/wechat", "topics": 2680, "footer": "", "header": "关于微信及微信小程序的讨论节点", "title_alternative": "WeChat", "avatar_mini": "https://cdn.v2ex.com/navatar/55b3/7c5c/649_mini.png?m=1620805836", "stars": 434, "aliases": [], "root": false, "id": 649, "parent_node_name": "internet"}, "member": {"username": "ladypxy", "website": null, "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/gravatar/6f928537af40c5010a6e8f0cbb30c3fa?s=24&d=retro", "bio": null, "url": "https://www.v2ex.com/u/ladypxy", "tagline": null, "twitter": null, "created": 1525949840, "avatar_large": "https://cdn.v2ex.com/gravatar/6f928537af40c5010a6e8f0cbb30c3fa?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/6f928537af40c5010a6e8f0cbb30c3fa?s=24&d=retro", "location": null, "btc": null, "id": 315576}, "last_reply_by": "ambeta", "last_touched": 1626301492, "title": "IOS 微信迎来史诗级更新，终于支持换声音了。。。。", "url": "https://www.v2ex.com/t/789451", "created": 1626238123, "content": "版本 8.0.8\r\n\r\n居然提供了 8 种声音可选。。。", "content_rendered": "<p>版本 8.0.8</p>\n<p>居然提供了 8 种声音可选。。。</p>\n", "last_modified": 1626238123, "replies": 56, "id": 789451}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/069d/3bb0/580_large.png?m=1611468295", "name": "ios", "avatar_normal": "https://cdn.v2ex.com/navatar/069d/3bb0/580_normal.png?m=1611468295", "title": "iOS", "url": "https://www.v2ex.com/go/ios", "topics": 2692, "footer": "", "header": "运行于 Apple 移动设备上的操作系统。", "title_alternative": "iOS", "avatar_mini": "https://cdn.v2ex.com/navatar/069d/3bb0/580_mini.png?m=1611468295", "stars": 648, "aliases": [], "root": false, "id": 580, "parent_node_name": "apple"}, "member": {"username": "thx2u", "website": "", "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/avatar/adf0/61be/531986_mini.png?m=1612441181", "bio": "", "url": "https://www.v2ex.com/u/thx2u", "tagline": "", "twitter": null, "created": 1612417215, "avatar_large": "https://cdn.v2ex.com/avatar/adf0/61be/531986_mini.png?m=1612441181", "avatar_mini": "https://cdn.v2ex.com/avatar/adf0/61be/531986_mini.png?m=1612441181", "location": "", "btc": null, "id": 531986}, "last_reply_by": "archey", "last_touched": 1626317867, "title": "忍不了了，无线 CarPlay 延迟有人遇到吗？", "url": "https://www.v2ex.com/t/789540", "created": 1626259594, "content": "## 表现\r\n经常错过路口，下高速下立交一个路口接一个路口，CarPlay 却延迟告知左右道。直接导致进错道\r\n\r\n## 设备\r\nBMW，原生无线 CarPlay，XSMax\r\n\r\n## 自己猜测\r\n是不是和 HomePod 等 AirPlay 投屏一样 慢半拍的？投个导航到车机上有 1-2s 的延迟？\r\n\r\n听歌延迟无所谓，但导航延迟就容易出问题吧？\r\n\r\n有没有一样用无线 CarPlay 的？是不是一样有延迟的？", "content_rendered": "<h2>表现</h2>\n<p>经常错过路口，下高速下立交一个路口接一个路口，CarPlay 却延迟告知左右道。直接导致进错道</p>\n<h2>设备</h2>\n<p>BMW，原生无线 CarPlay，XSMax</p>\n<h2>自己猜测</h2>\n<p>是不是和 HomePod 等 AirPlay 投屏一样 慢半拍的？投个导航到车机上有 1-2s 的延迟？</p>\n<p>听歌延迟无所谓，但导航延迟就容易出问题吧？</p>\n<p>有没有一样用无线 CarPlay 的？是不是一样有延迟的？</p>\n", "last_modified": 1626259594, "replies": 43, "id": 789540}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/e7b2/4b11/360_large.png?m=1583044904", "name": "windows", "avatar_normal": "https://cdn.v2ex.com/navatar/e7b2/4b11/360_normal.png?m=1583044904", "title": "Windows", "url": "https://www.v2ex.com/go/windows", "topics": 2113, "footer": "", "header": "Windows, not walls.", "title_alternative": "Windows", "avatar_mini": "https://cdn.v2ex.com/navatar/e7b2/4b11/360_mini.png?m=1583044904", "stars": 705, "aliases": [], "root": false, "id": 360, "parent_node_name": "os"}, "member": {"username": "Scirocco", "website": "https://sciroccogti.github.io", "github": "Sciroccogti", "psn": "", "avatar_normal": "https://cdn.v2ex.com/gravatar/edf626d663f94d7ae430f48063fd9b2f?s=24&d=retro", "bio": "", "url": "https://www.v2ex.com/u/Scirocco", "tagline": "菜是原罪。", "twitter": "", "created": 1569164082, "avatar_large": "https://cdn.v2ex.com/gravatar/edf626d663f94d7ae430f48063fd9b2f?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/edf626d663f94d7ae430f48063fd9b2f?s=24&d=retro", "location": "", "btc": "", "id": 442649}, "last_reply_by": "Asuka0947", "last_touched": 1626317960, "title": "Win11 磁贴取消了，有没有好的替代品？", "url": "https://www.v2ex.com/t/789513", "created": 1626251701, "content": "以前用 Win10 的时候好好地把各类应用在 磁贴 里按类别放到不同文件夹里，所以启动任何常用软件只要点三下：开始键 -> 分类 -> 应用，私以为是非常好的应用启动器解决方案。\r\n\r\n现在 Win11 取消了磁贴，又不想把应用都堆在桌面，目前只好每次找应用全靠搜索，非常难受。。。\r\n\r\n想问问大家有没有好的这种带分类的启动器推荐一下？", "content_rendered": "<p>以前用 Win10 的时候好好地把各类应用在 磁贴 里按类别放到不同文件夹里，所以启动任何常用软件只要点三下：开始键 -&gt; 分类 -&gt; 应用，私以为是非常好的应用启动器解决方案。</p>\n<p>现在 Win11 取消了磁贴，又不想把应用都堆在桌面，目前只好每次找应用全靠搜索，非常难受。。。</p>\n<p>想问问大家有没有好的这种带分类的启动器推荐一下？</p>\n", "last_modified": 1626251701, "replies": 41, "id": 789513}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1626270096", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1626270096", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 45035, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1626270096", "stars": 7434, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"username": "kikione", "website": "", "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/gravatar/9dae0a57142d967bad20f46e968e428b?s=24&d=retro", "bio": "", "url": "https://www.v2ex.com/u/kikione", "tagline": "", "twitter": null, "created": 1596184780, "avatar_large": "https://cdn.v2ex.com/gravatar/9dae0a57142d967bad20f46e968e428b?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/9dae0a57142d967bad20f46e968e428b?s=24&d=retro", "location": "", "btc": null, "id": 501789}, "last_reply_by": "leqoqo", "last_touched": 1626316818, "title": "700W 数据的表，如何做分页查询，速度不低于 1s", "url": "https://www.v2ex.com/t/789448", "created": 1626236141, "content": "mysql ,700W 数据的表，如何做分页查询，速度不低于 1s", "content_rendered": "<p>mysql ,700W 数据的表，如何做分页查询，速度不低于 1s</p>\n", "last_modified": 1626236141, "replies": 38, "id": 789448}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1626269953", "name": "career", "avatar_normal": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1626269953", "title": "职场话题", "url": "https://www.v2ex.com/go/career", "topics": 11771, "footer": "", "header": "这里，我们聊聊那些工作中遇到的开心和不开心的事。", "title_alternative": "Career", "avatar_mini": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1626269953", "stars": 2091, "aliases": [], "root": false, "id": 770, "parent_node_name": "work"}, "member": {"username": "neroleewtf", "website": "", "github": "royale011", "psn": "", "avatar_normal": "https://cdn.v2ex.com/gravatar/0402255a6c35ffdb394809b220546c4e?s=24&d=retro", "bio": "", "url": "https://www.v2ex.com/u/neroleewtf", "tagline": "", "twitter": "", "created": 1486486679, "avatar_large": "https://cdn.v2ex.com/gravatar/0402255a6c35ffdb394809b220546c4e?s=24&d=retro", "avatar_mini": "https://cdn.v2ex.com/gravatar/0402255a6c35ffdb394809b220546c4e?s=24&d=retro", "location": "", "btc": "", "id": 213872}, "last_reply_by": "pandachow", "last_touched": 1626318230, "title": "第一次发帖，分享两个微软的挂经", "url": "https://www.v2ex.com/t/789563", "created": 1626269484, "content": "po 到现在主要是游戏行业后端，现在是 go+redis 这个样子，姑且也算是个 senior 了，到没到 MS 的 senior 的标准还不好说，感觉 system design 这方面还有很多自己不懂的东西。\r\n\r\n其实不太想一直在游戏行业留着，比较想回一个不太加班的科技公司，外加英语好，所以一直比较注意这些机会，但苦于各种原因还一直在游戏行业。\r\n\r\n之前有创业经历，去年创业不太灵的时候 linkedin 收到过微软 HR 的邀请，尝试投递了下然后没有进面试，原因不太清楚。半年后被在微软的同学强烈的意愿下试着让他内推了下，也是给到 HR 之后就没回音了。\r\n\r\n今年微软的又找过来，我提了这个情况，结果这次第一个职位的面试官打电话过来约了面试时间。\r\n遂开始准备面试。\r\n\r\n第一个职位： https://careers.microsoft.com/us/en/job/1048544\r\n\r\n因为简历主要是游戏后端，所以背景也没啥好说的。简历里写了自己现在项目的游戏（一个回合制卡牌，1202 年还在用自动战斗那种）自己完全负责了战斗系统，而且做到了 x 倍性能优化和 xx%内存占用下降。\r\n\r\n面试的时候这个就多说了下，然后立刻 coding 题。结果第一题就整懵了。\r\n\r\nleet 里微软题库有，但是没复习到。\r\n\r\ninput：一个 n*n 矩阵，有一个必然闭合的 1 围成的不规则区域，除了这个区域边缘由 1 组成外，矩阵其他项均为 0 。\r\noutput：把闭合区域内的 0 全部改成 2 输出。\r\n\r\n知道是 DFS 但不太清楚搜索从哪里开始。后来知道是 floodfill 类型的题目（同类题在 leet 里难度算 easy ）。在面试官几乎摁着教搜索方向（四方向）和从哪儿开始搜索（矩阵四条边，把外层 0 标记，最后把外层 0 还原，内层 0 置为 2 ）之后题目算是答出来了。\r\n当然当时就知道因为这个不完全算自己的思路，肯定有问题。\r\n\r\n然后挂了。\r\n\r\n当时以为有冷冻期，HR 说可以接着面，提供了一个 M365 的职位。而且追问了我是不是想做全栈，我说是的，确实很想转全栈方向。\r\n\r\n第二个职位： https://careers.microsoft.com/us/en/job/991340\r\n\r\nHR 说 JD 里面要求的语言可以无视，SDE2 也可以无视，看最后能力定职级。遂 ok，约了时间继续面。\r\n\r\n今早 10 点进入面试。差不多介绍战斗系统优化方向到面试 15 分钟左右被打断。\r\n\r\n然后开始追问你们现在游戏服务器每个 node 的日志量，日志怎么收集，服务器状态怎么监控，服务怎么批量部署。我说日志收集处理用 filebeat+kafka，介绍了下基本的部署和监控用的 devops 的工具。\r\n然后被追问 kafka 单个 broker 能承载的最大日志量。我说这个目前没有做太多研究，这部分就过了。\r\n\r\n然后开始问 SQL 相关，我说我以前有过经验但现在将近两年多没有用过 SQL，主要是 redis 相关。\r\n问了 sql 语句问题，第一个是(name class score)这样的表，class=A 取 score top5 的学生名字。这个写出来了。\r\n然后问每个 class 取 score top5 的学生名字。这个在我以前也都比较少用，现在更是不知道，然后这里就过了。\r\n\r\n然后开始问语言的并发，线程怎么创建，我现在主要用 go 就简单介绍了 goroutine 和 channel 的机制，然后被问到 mutex 和 semaphore 的区别，这里也比较好答出来了。\r\n\r\n接下来是一些有关分布式系统部署的问题，ACID 和 CAP 相关概念，CAP 在不同业务需要先满足 CP 还是 AP 。\r\n然后问了一个问题，一个生成 [严格自增 ID ] 的服务，要在大型分布式系统中做到高可用性如何做。\r\n我说可以用单个服务器（追问：规模太大时单个服务器不行）\r\n我说因为实在没做过这方面，游戏后端没有相关业务只能估计一下。当时提到了给每个 node 分配 ID 段的做法，但这不能满足严格自增。\r\n他要求既严格自增又高 availability，我就不太清楚这里怎么办了。（后来查到其实趋势自增是可以的，包括雪花算法之类的，这些确实不了解。）\r\n\r\n最后 coding 题，此时面试已经是 10 点 38 。\r\ncoding 题是关于 gray code 的，leet 题目： https://leetcode.com/problems/gray-code/ （难度 medium ）\r\n（之前为了这一轮狂刷 leet，这一题我也没刷到。也不要说格雷码的位运算做法之类的，毕竟之前几乎就没听过这个概念）\r\n和 leet 版不同的是要按二进制输出，（包括高位的 0 ）\r\n\r\n观察和试结果了一阵（包括猜测了队列改位之类的，发现不对）大约五六分钟之后我发现了一个规律：\r\n\r\n设 grayCode(n)的输出是一个 string array （或者说 go 的 slice，这里视为可变长度 array ）\r\n那么\r\ngrayCode(n, prefix = \"\") = grayCode(n-1, prefix + \"0\").append(reverseGrayCode(n-1, prefix + \"1\"))\r\n（不是 go 的语法不要在意）\r\n为了节省时间请求从网上 copy 一个 go 的 reverse slice 的方法，同意了\r\n然后基本开始做了\r\n\r\n最后面试进行到 10 点 50，快要 debug 的时候（还是有一些语法错误）面试官：“我也不太了解 go，可以不 debug 了，你给我讲一下你这个的思路”\r\n\r\n然后我讲了一下这个递归执行的流程，他一开始没太看清楚 prefix 我后面加了\"0\"或者\"1\"，以为我 n=0 时直接返回 prefix 返回的是空。我再带他看代码的时候他才确认我这个做法没有问题。问我时间复杂度我说 O(2^n)。\r\n\r\n10 点 58 左右面试结束。因为早上面试没有请假，客套了几句没有问面试官问题（说接下来有面试机会再问）就结束面试回去上班了。\r\n\r\n下午 6 点 20 左右被 HR 通知挂掉了，原因是 coding 没通过。", "content_rendered": "po 到现在主要是游戏行业后端，现在是 go+redis 这个样子，姑且也算是个 senior 了，到没到 MS 的 senior 的标准还不好说，感觉 system design 这方面还有很多自己不懂的东西。<br /><br />其实不太想一直在游戏行业留着，比较想回一个不太加班的科技公司，外加英语好，所以一直比较注意这些机会，但苦于各种原因还一直在游戏行业。<br /><br />之前有创业经历，去年创业不太灵的时候 linkedin 收到过微软 HR 的邀请，尝试投递了下然后没有进面试，原因不太清楚。半年后被在微软的同学强烈的意愿下试着让他内推了下，也是给到 HR 之后就没回音了。<br /><br />今年微软的又找过来，我提了这个情况，结果这次第一个职位的面试官打电话过来约了面试时间。<br />遂开始准备面试。<br /><br />第一个职位： <a target=\"_blank\" href=\"https://careers.microsoft.com/us/en/job/1048544\" rel=\"nofollow noopener\">https://careers.microsoft.com/us/en/job/1048544</a><br /><br />因为简历主要是游戏后端，所以背景也没啥好说的。简历里写了自己现在项目的游戏（一个回合制卡牌，1202 年还在用自动战斗那种）自己完全负责了战斗系统，而且做到了 x 倍性能优化和 xx%内存占用下降。<br /><br />面试的时候这个就多说了下，然后立刻 coding 题。结果第一题就整懵了。<br /><br />leet 里微软题库有，但是没复习到。<br /><br />input：一个 n*n 矩阵，有一个必然闭合的 1 围成的不规则区域，除了这个区域边缘由 1 组成外，矩阵其他项均为 0 。<br />output：把闭合区域内的 0 全部改成 2 输出。<br /><br />知道是 DFS 但不太清楚搜索从哪里开始。后来知道是 floodfill 类型的题目（同类题在 leet 里难度算 easy ）。在面试官几乎摁着教搜索方向（四方向）和从哪儿开始搜索（矩阵四条边，把外层 0 标记，最后把外层 0 还原，内层 0 置为 2 ）之后题目算是答出来了。<br />当然当时就知道因为这个不完全算自己的思路，肯定有问题。<br /><br />然后挂了。<br /><br />当时以为有冷冻期，HR 说可以接着面，提供了一个 M365 的职位。而且追问了我是不是想做全栈，我说是的，确实很想转全栈方向。<br /><br />第二个职位： <a target=\"_blank\" href=\"https://careers.microsoft.com/us/en/job/991340\" rel=\"nofollow noopener\">https://careers.microsoft.com/us/en/job/991340</a><br /><br />HR 说 JD 里面要求的语言可以无视，SDE2 也可以无视，看最后能力定职级。遂 ok，约了时间继续面。<br /><br />今早 10 点进入面试。差不多介绍战斗系统优化方向到面试 15 分钟左右被打断。<br /><br />然后开始追问你们现在游戏服务器每个 node 的日志量，日志怎么收集，服务器状态怎么监控，服务怎么批量部署。我说日志收集处理用 filebeat+kafka，介绍了下基本的部署和监控用的 devops 的工具。<br />然后被追问 kafka 单个 broker 能承载的最大日志量。我说这个目前没有做太多研究，这部分就过了。<br /><br />然后开始问 SQL 相关，我说我以前有过经验但现在将近两年多没有用过 SQL，主要是 redis 相关。<br />问了 sql 语句问题，第一个是(name class score)这样的表，class=A 取 score top5 的学生名字。这个写出来了。<br />然后问每个 class 取 score top5 的学生名字。这个在我以前也都比较少用，现在更是不知道，然后这里就过了。<br /><br />然后开始问语言的并发，线程怎么创建，我现在主要用 go 就简单介绍了 goroutine 和 channel 的机制，然后被问到 mutex 和 semaphore 的区别，这里也比较好答出来了。<br /><br />接下来是一些有关分布式系统部署的问题，ACID 和 CAP 相关概念，CAP 在不同业务需要先满足 CP 还是 AP 。<br />然后问了一个问题，一个生成 [严格自增 ID ] 的服务，要在大型分布式系统中做到高可用性如何做。<br />我说可以用单个服务器（追问：规模太大时单个服务器不行）<br />我说因为实在没做过这方面，游戏后端没有相关业务只能估计一下。当时提到了给每个 node 分配 ID 段的做法，但这不能满足严格自增。<br />他要求既严格自增又高 availability，我就不太清楚这里怎么办了。（后来查到其实趋势自增是可以的，包括雪花算法之类的，这些确实不了解。）<br /><br />最后 coding 题，此时面试已经是 10 点 38 。<br />coding 题是关于 gray code 的，leet 题目： <a target=\"_blank\" href=\"https://leetcode.com/problems/gray-code/\" rel=\"nofollow noopener\">https://leetcode.com/problems/gray-code/</a> （难度 medium ）<br />（之前为了这一轮狂刷 leet，这一题我也没刷到。也不要说格雷码的位运算做法之类的，毕竟之前几乎就没听过这个概念）<br />和 leet 版不同的是要按二进制输出，（包括高位的 0 ）<br /><br />观察和试结果了一阵（包括猜测了队列改位之类的，发现不对）大约五六分钟之后我发现了一个规律：<br /><br />设 grayCode(n)的输出是一个 string array （或者说 go 的 slice，这里视为可变长度 array ）<br />那么<br />grayCode(n, prefix = \"\") = grayCode(n-1, prefix + \"0\").append(reverseGrayCode(n-1, prefix + \"1\"))<br />（不是 go 的语法不要在意）<br />为了节省时间请求从网上 copy 一个 go 的 reverse slice 的方法，同意了<br />然后基本开始做了<br /><br />最后面试进行到 10 点 50，快要 debug 的时候（还是有一些语法错误）面试官：“我也不太了解 go，可以不 debug 了，你给我讲一下你这个的思路”<br /><br />然后我讲了一下这个递归执行的流程，他一开始没太看清楚 prefix 我后面加了\"0\"或者\"1\"，以为我 n=0 时直接返回 prefix 返回的是空。我再带他看代码的时候他才确认我这个做法没有问题。问我时间复杂度我说 O(2^n)。<br /><br />10 点 58 左右面试结束。因为早上面试没有请假，客套了几句没有问面试官问题（说接下来有面试机会再问）就结束面试回去上班了。<br /><br />下午 6 点 20 左右被 HR 通知挂掉了，原因是 coding 没通过。", "last_modified": 1626269818, "replies": 36, "id": 789563}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/38af/8613/176_large.png?m=1584385885", "name": "car", "avatar_normal": "https://cdn.v2ex.com/navatar/38af/8613/176_normal.png?m=1584385885", "title": "汽车", "url": "https://www.v2ex.com/go/car", "topics": 1138, "footer": "", "header": "关于买车、开车的技术讨论", "title_alternative": "Car", "avatar_mini": "https://cdn.v2ex.com/navatar/38af/8613/176_mini.png?m=1584385885", "stars": 1130, "aliases": [], "root": false, "id": 176, "parent_node_name": "life"}, "member": {"username": "Libby520", "website": "https://www.dutype.com/", "github": "", "psn": "", "avatar_normal": "https://cdn.v2ex.com/avatar/0f77/eb90/207315_mini.png?m=1482898014", "bio": "", "url": "https://www.v2ex.com/u/Libby520", "tagline": "独唱者", "twitter": "", "created": 1482484130, "avatar_large": "https://cdn.v2ex.com/avatar/0f77/eb90/207315_mini.png?m=1482898014", "avatar_mini": "https://cdn.v2ex.com/avatar/0f77/eb90/207315_mini.png?m=1482898014", "location": "", "btc": "", "id": 207315}, "last_reply_by": "sgissb1", "last_touched": 1626265617, "title": "媳妇开车带着孩子出门，刚打电话说车内冒烟了", "url": "https://www.v2ex.com/t/789439", "created": 1626233643, "content": "媳妇早上带孩子开车出去她弟弟玩，刚才给我打电话说车内冒烟，吓得我让马上电话指挥她熄火停车找灭火器，打了一系列救援，并让她弟弟赶紧开车去看，结果鉴定是打开空调后，从出风口制冷吹出的雾气。", "content_rendered": "媳妇早上带孩子开车出去她弟弟玩，刚才给我打电话说车内冒烟，吓得我让马上电话指挥她熄火停车找灭火器，打了一系列救援，并让她弟弟赶紧开车去看，结果鉴定是打开空调后，从出风口制冷吹出的雾气。", "last_modified": 1626233643, "replies": 31, "id": 789439}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1626270096", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1626270096", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 45035, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1626270096", "stars": 7434, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"username": "zxCoder", "website": "", "github": null, "psn": null, "avatar_normal": "https://cdn.v2ex.com/avatar/eb4e/991a/457207_mini.png?m=1577369208", "bio": "", "url": "https://www.v2ex.com/u/zxCoder", "tagline": "", "twitter": null, "created": 1575385668, "avatar_large": "https://cdn.v2ex.com/avatar/eb4e/991a/457207_mini.png?m=1577369208", "avatar_mini": "https://cdn.v2ex.com/avatar/eb4e/991a/457207_mini.png?m=1577369208", "location": "", "btc": null, "id": 457207}, "last_reply_by": "ipwx", "last_touched": 1626301544, "title": "虽然说没有银弹，但是我感觉 c++完全可以设计成更友好，开发速度更快的语言", "url": "https://www.v2ex.com/t/789560", "created": 1626268498, "content": "c++大佬别杠我，不可否认的是 c++学起来实在太难，写起来实在太慢\r\n\r\n实际上很多东西感觉完全可以反过来吸收别的语言的优点", "content_rendered": "<p>c++大佬别杠我，不可否认的是 c++学起来实在太难，写起来实在太慢</p>\n<p>实际上很多东西感觉完全可以反过来吸收别的语言的优点</p>\n", "last_modified": 1626268498, "replies": 30, "id": 789560}]