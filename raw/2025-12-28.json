[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/069d/3bb0/580_large.png?m=1751415489", "name": "ios", "avatar_normal": "https://cdn.v2ex.com/navatar/069d/3bb0/580_normal.png?m=1751415489", "title": "iOS", "url": "https://www.v2ex.com/go/ios", "topics": 4352, "footer": "", "header": "运行于 Apple 移动设备上的操作系统。", "title_alternative": "iOS", "avatar_mini": "https://cdn.v2ex.com/navatar/069d/3bb0/580_mini.png?m=1751415489", "stars": 1170, "aliases": [], "root": false, "id": 580, "parent_node_name": "apple"}, "member": {"id": 651160, "username": "EricYuan1", "url": "https://www.v2ex.com/u/EricYuan1", "website": "https://www.twotwoba.site/", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/b331/dc8e/651160_mini.png?m=1761967352", "avatar_normal": "https://cdn.v2ex.com/avatar/b331/dc8e/651160_normal.png?m=1761967352", "avatar_large": "https://cdn.v2ex.com/avatar/b331/dc8e/651160_large.png?m=1761967352", "avatar_xlarge": "https://cdn.v2ex.com/avatar/b331/dc8e/651160_xlarge.png?m=1761967352", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/b331/dc8e/651160_xxlarge.png?m=1761967352", "created": 1695729715, "last_modified": 1761967352, "pro": 0}, "last_reply_by": "iwfd965", "last_touched": 1766854204, "title": "卸载高德 APP，装回 iOS26 自带地图", "url": "https://www.v2ex.com/t/1181532", "created": 1766802917, "deleted": 0, "content": "受不了高德地图那么多没用的东西，什么扫街、打车，恨不得把大众点评、滴滴都吞并了，底下 5 个 tab 就一个｛导航｝和｛我的｝两个有点用，因此我把它卸载，装回了 ios 自带的 map ，有一说一，ios26 上 自带 map 颜值高多了。除了没有小组件能在负一屏快速导航回家/去公司（好在可以通过快捷指令曲线救国），其他的用户体验我感觉都很好！", "content_rendered": "受不了高德地图那么多没用的东西，什么扫街、打车，恨不得把大众点评、滴滴都吞并了，底下 5 个 tab 就一个｛导航｝和｛我的｝两个有点用，因此我把它卸载，装回了 ios 自带的 map ，有一说一，ios26 上 自带 map 颜值高多了。除了没有小组件能在负一屏快速导航回家/去公司（好在可以通过快捷指令曲线救国），其他的用户体验我感觉都很好！", "last_modified": 1766802917, "replies": 81, "id": 1181532}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1747623425", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1747623425", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 9647, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1747623425", "stars": 2077, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 499510, "username": "Yukee798", "url": "https://www.v2ex.com/u/Yukee798", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/630e/587e/499510_mini.png?m=1673307222", "avatar_normal": "https://cdn.v2ex.com/avatar/630e/587e/499510_normal.png?m=1673307222", "avatar_large": "https://cdn.v2ex.com/avatar/630e/587e/499510_large.png?m=1673307222", "avatar_xlarge": "https://cdn.v2ex.com/avatar/630e/587e/499510_xlarge.png?m=1673307222", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/630e/587e/499510_xxlarge.png?m=1673307222", "created": 1594921904, "last_modified": 1673307222, "pro": 0}, "last_reply_by": "kakki", "last_touched": 1766853134, "title": "新年倒计时，陷入人生低谷期，不知道该如何与这个世界相处了，感到迷茫", "url": "https://www.v2ex.com/t/1181568", "created": 1766814867, "deleted": 0, "content": "个人背景：25 ，男，本科毕业，intj ，互联网大厂程序员；有女朋友（她大学、研究生有过几段情感史，我是第一次谈恋爱），她海外理工科研究生背景，因为和我确认关系后回国，认识快 10 年，正式确认关系相处 2 年多，同居过几个月（当时她没找到工作，住在我家），后来因为工作地点不同大部分时间都在异地。\r\n\r\n1. 工作上，陷入了职业倦怠，近半年，因为在职场上感到不被认可，工作重心一直在频繁调整没法专注拿到好结果，与周围同事、老板的人际交往压力与焦虑，陷入内耗，现在无法再像曾经那样对工作、技术充满热情了，害怕与老板沟通交流，担心把事情做糟糕，担心被批评，会回避同事和老板的日常互动，和老板提了想走的想法，沟通过几次，让再坚持调整一段时间，等到年后，但是目前的工作状态已经非常糟糕了，心态上有点消极，没法深入思考，担心会给团队惹麻烦出篓子，又想体面的离职，感觉非常的拧巴。\r\n\r\n2. 生活情感上，女朋友告诉我，她喜欢上了宠物医院的医生，她向对方表达了心意，被拒绝了；背景是目前异地，她的宠物猫病危，她所在的城市没有任何朋友，因为工作和生活的压力，让她感觉到孤独，治疗宠物猫期间，被宠物医院医生向她科普宠物内科知识、讲解治疗方案而吸引，从欣赏 ---> 被吸引 ---> 表白，整个时间不到两周。她告诉了我她的行为，她觉得是不正确的，她觉得对于她来说是不太可控的，觉得这种情感波动会让她不理智的被其他人吸引并喜欢上对方。这让我爱情观崩塌了，让我做选择，我选择分手彻底断联，她想继续做朋友联系。\r\n\r\n这段时间经历的这一切，感觉生活失去了意义感，不知道该如何与这个世界相处了，不知道该如何一个人平静的生活。", "content_rendered": "<p>个人背景：25 ，男，本科毕业，intj ，互联网大厂程序员；有女朋友（她大学、研究生有过几段情感史，我是第一次谈恋爱），她海外理工科研究生背景，因为和我确认关系后回国，认识快 10 年，正式确认关系相处 2 年多，同居过几个月（当时她没找到工作，住在我家），后来因为工作地点不同大部分时间都在异地。</p>\n<ol>\n<li>\n<p>工作上，陷入了职业倦怠，近半年，因为在职场上感到不被认可，工作重心一直在频繁调整没法专注拿到好结果，与周围同事、老板的人际交往压力与焦虑，陷入内耗，现在无法再像曾经那样对工作、技术充满热情了，害怕与老板沟通交流，担心把事情做糟糕，担心被批评，会回避同事和老板的日常互动，和老板提了想走的想法，沟通过几次，让再坚持调整一段时间，等到年后，但是目前的工作状态已经非常糟糕了，心态上有点消极，没法深入思考，担心会给团队惹麻烦出篓子，又想体面的离职，感觉非常的拧巴。</p>\n</li>\n<li>\n<p>生活情感上，女朋友告诉我，她喜欢上了宠物医院的医生，她向对方表达了心意，被拒绝了；背景是目前异地，她的宠物猫病危，她所在的城市没有任何朋友，因为工作和生活的压力，让她感觉到孤独，治疗宠物猫期间，被宠物医院医生向她科普宠物内科知识、讲解治疗方案而吸引，从欣赏 ---&gt; 被吸引 ---&gt; 表白，整个时间不到两周。她告诉了我她的行为，她觉得是不正确的，她觉得对于她来说是不太可控的，觉得这种情感波动会让她不理智的被其他人吸引并喜欢上对方。这让我爱情观崩塌了，让我做选择，我选择分手彻底断联，她想继续做朋友联系。</p>\n</li>\n</ol>\n<p>这段时间经历的这一切，感觉生活失去了意义感，不知道该如何与这个世界相处了，不知道该如何一个人平静的生活。</p>\n", "last_modified": 1766814867, "replies": 57, "id": 1181568}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1695370146", "name": "career", "avatar_normal": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1695370146", "title": "职场话题", "url": "https://www.v2ex.com/go/career", "topics": 21973, "footer": "", "header": "这里，我们聊聊那些工作中遇到的开心和不开心的事。", "title_alternative": "Career", "avatar_mini": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1695370146", "stars": 3570, "aliases": [], "root": false, "id": 770, "parent_node_name": "work"}, "member": {"id": 641534, "username": "langzibing", "url": "https://www.v2ex.com/u/langzibing", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/5081/6ca0/641534_mini.png?m=1753249145", "avatar_normal": "https://cdn.v2ex.com/avatar/5081/6ca0/641534_normal.png?m=1753249145", "avatar_large": "https://cdn.v2ex.com/avatar/5081/6ca0/641534_large.png?m=1753249145", "avatar_xlarge": "https://cdn.v2ex.com/avatar/5081/6ca0/641534_xlarge.png?m=1753249145", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/5081/6ca0/641534_xxlarge.png?m=1753249145", "created": 1690966568, "last_modified": 1753249145, "pro": 0}, "last_reply_by": "tohuer00", "last_touched": 1766853364, "title": "6 年 Java 后端，花 10 万去爱尔兰读语言学校，这条路值不值得？", "url": "https://www.v2ex.com/t/1181534", "created": 1766803078, "deleted": 0, "content": "本人 6 年 Java 后端开发，目前在国内做后台系统相关工作。\r\n28 岁了，再不系统把英语练出来，后面可能更难。\r\n\r\n我不指望出国就改变命运，只是想在还能承受试错成本的时候，给自己一次真正沉浸式的机会。\r\n\r\n如果半年后发现不适合，我也能接受回国继续走技术路线。\r\n只是想少一点“如果当初我去过就好了”的遗憾。\r\n\r\n这次出去并不是“移民冲动”，更多是想：\r\n\r\n真正把英语练出来\r\n\r\n体验一段完整的海外生活\r\n\r\n看看自己是否适合长期在全英文环境下工作\r\n\r\n我的预期也比较现实：\r\n\r\n语言学校期间以学习和适应为主\r\n\r\n如果后续发现不适合或机会不成熟，也可以选择回国\r\n\r\n回国后希望能凭英语 + 技术，争取更好的岗位或外企/出海机会\r\n\r\n想请教下有类似经历的朋友：\r\n\r\n对于已经有多年开发经验的人来说，单纯去念语言学校，性价比如何？\r\n\r\n爱尔兰或欧洲对 Java 后端的实际需求情况如何？\r\n\r\n这条路上，有没有我现在还没意识到的坑？\r\n\r\n非常感谢真实经验分享，不太想听情绪化或极端判断。\r\n说实话，我也纠结过。", "content_rendered": "本人 6 年 Java 后端开发，目前在国内做后台系统相关工作。<br />28 岁了，再不系统把英语练出来，后面可能更难。<br /><br />我不指望出国就改变命运，只是想在还能承受试错成本的时候，给自己一次真正沉浸式的机会。<br /><br />如果半年后发现不适合，我也能接受回国继续走技术路线。<br />只是想少一点“如果当初我去过就好了”的遗憾。<br /><br />这次出去并不是“移民冲动”，更多是想：<br /><br />真正把英语练出来<br /><br />体验一段完整的海外生活<br /><br />看看自己是否适合长期在全英文环境下工作<br /><br />我的预期也比较现实：<br /><br />语言学校期间以学习和适应为主<br /><br />如果后续发现不适合或机会不成熟，也可以选择回国<br /><br />回国后希望能凭英语 + 技术，争取更好的岗位或外企/出海机会<br /><br />想请教下有类似经历的朋友：<br /><br />对于已经有多年开发经验的人来说，单纯去念语言学校，性价比如何？<br /><br />爱尔兰或欧洲对 Java 后端的实际需求情况如何？<br /><br />这条路上，有没有我现在还没意识到的坑？<br /><br />非常感谢真实经验分享，不太想听情绪化或极端判断。<br />说实话，我也纠结过。", "last_modified": 1766812363, "replies": 53, "id": 1181534}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1733731195", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1733731195", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 69099, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1733731195", "stars": 9495, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 603658, "username": "MelodYi", "url": "https://www.v2ex.com/u/MelodYi", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/694cef4061e2c3c2ec4c932cabd564ae?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/694cef4061e2c3c2ec4c932cabd564ae?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/694cef4061e2c3c2ec4c932cabd564ae?s=73&d=retro", "created": 1669605755, "last_modified": 1766803968, "pro": 0}, "last_reply_by": "WhatTheBridgeSay", "last_touched": 1766855223, "title": "为什么使用 Tomcat 算违反国产化要求，但是使用 Netty 却不算。", "url": "https://www.v2ex.com/t/1181537", "created": 1766804154, "deleted": 0, "content": "RT. 都是海外的开源软件，licence 也都是一样的。\r\n\r\n背景\r\n项目上遇到了相关的需求，要求包里不能有 Tomcat 。\r\n公司上面给的方案却是让换成 Netty 而不是打成 war 包来接入客户提供的国产化 web 服务器。\r\n由于之前是 spring-web ，阻塞式的，改成 netty 工作量巨大。\r\n\r\n是不是因为 Tomcat 有 TongWeb 这种国产替代。但是国内没人做 Netty 的替代。\r\n所以 Tomcat 才会上黑名单，但是 Netty 就活着。", "content_rendered": "RT. 都是海外的开源软件，licence 也都是一样的。<br /><br />背景<br />项目上遇到了相关的需求，要求包里不能有 Tomcat 。<br />公司上面给的方案却是让换成 Netty 而不是打成 war 包来接入客户提供的国产化 web 服务器。<br />由于之前是 spring-web ，阻塞式的，改成 netty 工作量巨大。<br /><br />是不是因为 Tomcat 有 TongWeb 这种国产替代。但是国内没人做 Netty 的替代。<br />所以 Tomcat 才会上黑名单，但是 Netty 就活着。", "last_modified": 1766804154, "replies": 51, "id": 1181537}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/a3c6/5c29/108_large.png?m=1691642161", "name": "bb", "avatar_normal": "https://cdn.v2ex.com/navatar/a3c6/5c29/108_normal.png?m=1691642161", "title": "宽带症候群", "url": "https://www.v2ex.com/go/bb", "topics": 18235, "footer": "", "header": "网速很重要。比快更快。", "title_alternative": "Broadband Symptom Complex", "avatar_mini": "https://cdn.v2ex.com/navatar/a3c6/5c29/108_mini.png?m=1691642161", "stars": 8106, "aliases": [], "root": false, "id": 108, "parent_node_name": "geek"}, "member": {"id": 242689, "username": "silentcentralia", "url": "https://www.v2ex.com/u/silentcentralia", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/dba7a7ff27e62dd80e1a2797ff57eb55?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/dba7a7ff27e62dd80e1a2797ff57eb55?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/dba7a7ff27e62dd80e1a2797ff57eb55?s=73&d=retro", "created": 1500525343, "last_modified": 1758872417, "pro": 0}, "last_reply_by": "taikobo", "last_touched": 1766855727, "title": "整了一晚上 Tailscale 依然没有成功，甚至搞得手机都无法上网，真是绝望", "url": "https://www.v2ex.com/t/1181562", "created": 1766813529, "deleted": 0, "content": "有固定公网 ip ，之前一直用群晖套件的 L2TP 连回家，昨天打算换一个更现代的方式，论坛一通搜索后决定用 Tailscale 。\r\n\r\n本人不懂网络知识，所以基本都按照 Gemini 的指示，先在 PVE 的 LXC 中安装 Tialscale ，一开始很顺利，网页端能看到 PVE 和 iPhone 都在线，subnet 开启 ip 转发也都显示正常，但就是一直无法互相 ping 通；跟着 Gemini 的建议一路排查，什么 TUN 权限、防火墙、NAT 伪装都试了也不管用。\r\n\r\n后来换了在 PVE 中开一个 Debian 虚拟机安装，然而问题依旧：有时刚连上的几秒钟能 ping 通（虽然开了端口转发，但很奇怪依然绕行香港甚至波兰的服务器），随后就断连了。并且发现 iPhone 上 tailscale 常要通过反复开关飞行模式才能连接上 VPN ，甚至断开 iPhone VPN 后手机无法通过蜂窝上网了，重启和恢复网络设置也没用，为此还打了联通客服，那边说后台看一切正常。后来发现需要等上几分钟后才能恢复，不禁怀疑是不是联通的阻断。\r\n\r\n本来主要是出于学习的目的来折腾，租的房子没有公网 ip ，打算如果成功了就套用在出租房里，谁想到如此不顺利。感慨还是需要懂一些基础知识来折腾，把开了会员的 Gemini 用到限制的那一刻真是绝望啊……", "content_rendered": "有固定公网 ip ，之前一直用群晖套件的 L2TP 连回家，昨天打算换一个更现代的方式，论坛一通搜索后决定用 Tailscale 。<br /><br />本人不懂网络知识，所以基本都按照 Gemini 的指示，先在 PVE 的 LXC 中安装 Tialscale ，一开始很顺利，网页端能看到 PVE 和 iPhone 都在线，subnet 开启 ip 转发也都显示正常，但就是一直无法互相 ping 通；跟着 Gemini 的建议一路排查，什么 TUN 权限、防火墙、NAT 伪装都试了也不管用。<br /><br />后来换了在 PVE 中开一个 Debian 虚拟机安装，然而问题依旧：有时刚连上的几秒钟能 ping 通（虽然开了端口转发，但很奇怪依然绕行香港甚至波兰的服务器），随后就断连了。并且发现 iPhone 上 tailscale 常要通过反复开关飞行模式才能连接上 VPN ，甚至断开 iPhone VPN 后手机无法通过蜂窝上网了，重启和恢复网络设置也没用，为此还打了联通客服，那边说后台看一切正常。后来发现需要等上几分钟后才能恢复，不禁怀疑是不是联通的阻断。<br /><br />本来主要是出于学习的目的来折腾，租的房子没有公网 ip ，打算如果成功了就套用在出租房里，谁想到如此不顺利。感慨还是需要懂一些基础知识来折腾，把开了会员的 Gemini 用到限制的那一刻真是绝望啊……", "last_modified": 1766813529, "replies": 41, "id": 1181562}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1747623425", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1747623425", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 9647, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1747623425", "stars": 2077, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 383743, "username": "YanSeven", "url": "https://www.v2ex.com/u/YanSeven", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "我不道啊", "avatar_mini": "https://cdn.v2ex.com/avatar/3f22/feff/383743_mini.png?m=1761577916", "avatar_normal": "https://cdn.v2ex.com/avatar/3f22/feff/383743_normal.png?m=1761577916", "avatar_large": "https://cdn.v2ex.com/avatar/3f22/feff/383743_large.png?m=1761577916", "avatar_xlarge": "https://cdn.v2ex.com/avatar/3f22/feff/383743_xlarge.png?m=1761577916", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/3f22/feff/383743_xxlarge.png?m=1761577916", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/3f22/feff/383743_xxxlarge.png?m=1761577916", "created": 1550114765, "last_modified": 1761577916, "pro": 0}, "last_reply_by": "MCVector", "last_touched": 1766853835, "title": "鳏寡单身懒汉码农如何解决鞋子脏，汗，异味问题", "url": "https://www.v2ex.com/t/1181567", "created": 1766814625, "deleted": 0, "content": "1. 买个专门洗鞋子的洗衣机\r\n2. 扔掉买新的\r\n3. _________________", "content_rendered": "1. 买个专门洗鞋子的洗衣机<br />2. 扔掉买新的<br />3. _________________", "last_modified": 1766824321, "replies": 40, "id": 1181567}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/38af/8613/176_large.png?m=1644885960", "name": "car", "avatar_normal": "https://cdn.v2ex.com/navatar/38af/8613/176_normal.png?m=1644885960", "title": "汽车", "url": "https://www.v2ex.com/go/car", "topics": 3104, "footer": "", "header": "关于买车、开车及汽车文化的技术讨论", "title_alternative": "Car", "avatar_mini": "https://cdn.v2ex.com/navatar/38af/8613/176_mini.png?m=1644885960", "stars": 2232, "aliases": [], "root": false, "id": 176, "parent_node_name": "life"}, "member": {"id": 566070, "username": "huaixan", "url": "https://www.v2ex.com/u/huaixan", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/c648802428cd7f45e90e395921455910?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/c648802428cd7f45e90e395921455910?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/c648802428cd7f45e90e395921455910?s=73&d=retro", "created": 1639901277, "last_modified": 1752646613, "pro": 0}, "last_reply_by": "QGabriel", "last_touched": 1766836924, "title": "年底提车被 4S 店吃保险差价 1000，这种操作正常吗？", "url": "https://www.v2ex.com/t/1181527", "created": 1766801811, "deleted": 0, "content": "订车时先收我 5000 保险费，后来急着元旦前提车，销售说年底不能正常出保险，只能走所谓“特惠渠道”，保单 4000 元，差价 1000 直接不退，说是给别人费用。这种操作合理吗？", "content_rendered": "<p>订车时先收我 5000 保险费，后来急着元旦前提车，销售说年底不能正常出保险，只能走所谓“特惠渠道”，保单 4000 元，差价 1000 直接不退，说是给别人费用。这种操作合理吗？</p>\n", "last_modified": 1766801811, "replies": 39, "id": 1181527}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1733731195", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1733731195", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 69099, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1733731195", "stars": 9495, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 67405, "username": "xuld", "url": "https://www.v2ex.com/u/xuld", "website": "http://xuld.net/", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "邮箱 xuld@xuld.net", "avatar_mini": "https://cdn.v2ex.com/gravatar/a5cc6f373106ab818eeb0869ed756b64?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/a5cc6f373106ab818eeb0869ed756b64?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/a5cc6f373106ab818eeb0869ed756b64?s=73&d=retro", "created": 1404866347, "last_modified": 1745979471, "pro": 0}, "last_reply_by": "imsuxp", "last_touched": 1766851744, "title": "为什么创业不要选择做面向程序员的产品", "url": "https://www.v2ex.com/t/1181554", "created": 1766809086, "deleted": 0, "content": "有很多程序员在用某一款产品的时候，发现了一些不爽的地方。然后心想：    \r\n“老子自己也会开发，为啥不自己弄一个，     \r\n说不定有很多人也有一样的需求，我做一个 XXX Plus ，肯定比现在这个 XXX 更牛逼，用的人更多。”\r\n\r\n于是，很多程序员创业时，第一想法都是做一个给程序员用的产品，包括但不限于：\r\n- 一个开发框架\r\n- 一个开发小工具\r\n- 一个只有程序员才需要的 APP\r\n\r\n如果不考虑盈利， 那你爱做啥就做啥，别人管不到。     \r\n但如果你指望着靠这些产品盈利，请三思而后行。因为：\r\n\r\n程序员是最难被赚钱的群体。\r\n\r\n1. 多数程序员都是打工心态。即使你的产品很好用，他也不可能高尚到“为了做老板的项目，而花自己的钱去买一个提效工具”。老板也不可能高尚到“为了牛马干活轻松，而多花一分钱”，因为他认为他已经付过工钱了\r\n2. 程序员是非常理性的群体，每一笔消费都是挑三拣四、反复对比过的。你确定你的产品能在对比中取胜？\r\n3. 程序员只会购买他这辈子都开发不出来、并且无法免费破解的产品（比如 AI 编程）。多数程序员的选择思路是：先找破解版；再找免费版平替；最后宁愿自己撸，也不可能让同行赚到钱（因为让其他程序员赚到钱了，等于承认其他程序员比自己牛逼，这是在侮辱自己）。\r\n4. 你以为程序员的需求是提升开发效率？不是的，程序员真正的需求是：”不用干活，又能赚很多钱“。\r\n\r\n因此，当你现在创业想做面向程序员的产品时，务必三思。非行业巨头，不建议走这个路线。", "content_rendered": "<p>有很多程序员在用某一款产品的时候，发现了一些不爽的地方。然后心想：<br/>\n“老子自己也会开发，为啥不自己弄一个，<br/>\n说不定有很多人也有一样的需求，我做一个 XXX Plus ，肯定比现在这个 XXX 更牛逼，用的人更多。”</p>\n<p>于是，很多程序员创业时，第一想法都是做一个给程序员用的产品，包括但不限于：</p>\n<ul>\n<li>一个开发框架</li>\n<li>一个开发小工具</li>\n<li>一个只有程序员才需要的 APP</li>\n</ul>\n<p>如果不考虑盈利， 那你爱做啥就做啥，别人管不到。<br/>\n但如果你指望着靠这些产品盈利，请三思而后行。因为：</p>\n<p>程序员是最难被赚钱的群体。</p>\n<ol>\n<li>多数程序员都是打工心态。即使你的产品很好用，他也不可能高尚到“为了做老板的项目，而花自己的钱去买一个提效工具”。老板也不可能高尚到“为了牛马干活轻松，而多花一分钱”，因为他认为他已经付过工钱了</li>\n<li>程序员是非常理性的群体，每一笔消费都是挑三拣四、反复对比过的。你确定你的产品能在对比中取胜？</li>\n<li>程序员只会购买他这辈子都开发不出来、并且无法免费破解的产品（比如 AI 编程）。多数程序员的选择思路是：先找破解版；再找免费版平替；最后宁愿自己撸，也不可能让同行赚到钱（因为让其他程序员赚到钱了，等于承认其他程序员比自己牛逼，这是在侮辱自己）。</li>\n<li>你以为程序员的需求是提升开发效率？不是的，程序员真正的需求是：”不用干活，又能赚很多钱“。</li>\n</ol>\n<p>因此，当你现在创业想做面向程序员的产品时，务必三思。非行业巨头，不建议走这个路线。</p>\n", "last_modified": 1766809086, "replies": 39, "id": 1181554}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/1fc2/1400/864_large.png?m=1760740512", "name": "promotions", "avatar_normal": "https://cdn.v2ex.com/navatar/1fc2/1400/864_normal.png?m=1760740512", "title": "推广", "url": "https://www.v2ex.com/go/promotions", "topics": 10116, "footer": "", "header": "来自厂商的推广活动类主题，会被归类到这个节点。希望有情怀的产商们在发布推广内容时，主动选择发布到本节点下。点击 <a href=\"/help/node\">这里</a> 阅读 V2EX 的节点使用指南。", "title_alternative": "Promotions", "avatar_mini": "https://cdn.v2ex.com/navatar/1fc2/1400/864_mini.png?m=1760740512", "stars": 1097, "aliases": [], "root": false, "id": 864, "parent_node_name": ""}, "member": {"id": 607246, "username": "cczh678", "url": "https://www.v2ex.com/u/cczh678", "website": "+v oops0731111", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "+v oops0731111了解claude code服务(稳定可靠不封号量贩式）", "bio": "claude code 镜像服务商\r\n+v oops0731111\r\n\r\n提供稳定可靠不封号的量贩式claude code服务", "avatar_mini": "https://cdn.v2ex.com/avatar/57aa/3e37/607246_mini.png?m=1766797692", "avatar_normal": "https://cdn.v2ex.com/avatar/57aa/3e37/607246_normal.png?m=1766797692", "avatar_large": "https://cdn.v2ex.com/avatar/57aa/3e37/607246_large.png?m=1766797692", "avatar_xlarge": "https://cdn.v2ex.com/avatar/57aa/3e37/607246_xlarge.png?m=1766797692", "created": 1671361697, "last_modified": 1766797692, "pro": 0}, "last_reply_by": "cczh678", "last_touched": 1766839789, "title": "[一封感谢信] hi， v2 社的兄弟们还记得我吗？我创业 2 年了", "url": "https://www.v2ex.com/t/1181519", "created": 1766799459, "deleted": 0, "content": "还记得我么，2024 年 3 月我发表过一篇文章，我创业了😄\r\n\r\nhttps://www.v2ex.com/t/1020793#reply20\r\n\r\n然后马上两年过去了，和大家做下汇报。\r\n\r\n## [01 祛魅]\r\n\r\n我是 Mens\r\n\r\n一个在云计算和代码里泡了 10 年的老兵\r\n\r\n在很长一段时间里\r\n\r\n我误以为“知道”就等于“做到”\r\n\r\n我曾在这个行业的顶端\r\n\r\n用 PPT 构筑过无数个商业叙事\r\n\r\n那时候的生意\r\n\r\n在我眼里是干净的逻辑线\r\n\r\n是很多理论堆砌起来的确定性\r\n\r\n\r\n直到 30 岁，我把自己归零 \r\n\r\n当我离开平台，失去光环\r\n\r\n独自面对市场的冷暖时\r\n\r\n我开始重新学习\r\n\r\n如何在一个充满不确定性的世界里\r\n\r\n抓住那一点点真实的“成交”\r\n\r\n\r\nhttps://mmbiz.qpic.cn/sz_mmbiz_jpg/ccTMoiahKxX3Lu9tEX76XHux3r1A4vqlqic5zTNZMzumGPHISpCXuJPl1awFclzYyic2TLumLtfdN6AugvWP13fpQ/640?wx_fmt=jpeg&from=appmsg&watermark=1&tp=webp&wxfrom=5&wx_lazy=1#imgIndex=0\r\n\r\n\r\n## [02 至暗时刻] \r\n\r\n 20 岁写代码，23 岁转管理\r\n\r\n28 岁以前，我以为自己懂透了商业\r\n\r\n现实却狠狠扇了我一巴掌\r\n\r\n\r\n\r\n2024 年，为了签下一笔仅 12000 元的单子\r\n\r\n为了省下那 50 块钱的利润\r\n\r\n我舍不得打车\r\n\r\n挤着早高峰的地铁去陌拜\r\n\r\n早上 9:30\r\n\r\n我准时站在客户门口，满怀诚意\r\n\r\n结果迎接我的\r\n\r\n是对方现场无情的杀价\r\n\r\n和当场撕毁的口头承诺\r\n\r\n那一刻，我才真正明白：\r\n\r\n做生意最根本的最小单元\r\n\r\n不是战略，而是「完成一笔交易」\r\n\r\n不懂人性，没和人性贴身肉搏过\r\n\r\n再牛的 AI 算法、再顶级的技术模型\r\n\r\n在街边小贩的生存智慧面前\r\n\r\n可能都是空中楼阁\r\n\r\n\r\n\r\n## [03 痛定思痛] \r\n\r\n这一年，\r\n\r\n我把自己从“做题思维”里硬生生拔了出来\r\n\r\n拿着彩页走街串巷\r\n\r\n被拒绝、被无视、被当成骗子\r\n\r\n但这最“笨”的一年\r\n\r\n让我学到的东西比过去 8 年练的“内功”都要多\r\n\r\n过去的 8 年，我练的是内力\r\n\r\n这一年的扫街，我练的是招式\r\n\r\n 两者合一\r\n\r\n才是我坚信未来能爆发的根本原因\r\n\r\n## [04 我的 2025]\r\n\r\n2024 的折戟\r\n\r\n回调后的冷静\r\n冒险后的反思\r\n\r\n2025 年的我\r\n\r\n想和 v 社的伙伴说\r\n\r\n我好像 OK 了\r\n\r\n今年我找到了新的业务机会，AIcoding 的算力服务\r\n\r\n主要是为我的用户提供 claude code 和 codex 月卡服务\r\n\r\n经过我的运营和服务\r\n\r\n我积累了至少一千名粉丝和用户\r\n\r\n在使用我提供的服务\r\n\r\n他们有的是看中了我的服务\r\n\r\n有的是看中了我的态度\r\n\r\n久而久之\r\n\r\n也及时了很多好朋友\r\n\r\n感谢 v 社\r\n\r\n记得去年 2024 年 3 月份\r\n\r\n我发布了创业的文章\r\n\r\n很多小伙伴加我\r\n\r\n给我加油鼓劲\r\n\r\n这里\r\n\r\n我还个愿望\r\n\r\n这两年\r\n\r\n有得有失\r\n\r\n整体算下来\r\n\r\n得到的很多\r\n\r\n失去的也是应该要失去的\r\n\r\n失去的是那个\r\n\r\n旧我...\r\n\r\n不足的我...\r\n\r\n还需进步的我...\r\n\r\n一年的跌宕\r\n\r\n一年的收获\r\n\r\n我对商业闭环有了更深刻的认知和手感\r\n\r\n见得多了\r\n\r\n也就不觉得奇怪了\r\n\r\n商业最终就还是人性的对抗\r\n\r\n有敌人\r\n\r\n有并肩作战分享胜利战果的战友\r\n\r\n也有擦肩而过的陌生人送来的温暖\r\n\r\n我想这一切，和人本身存在的意义是相匹配的\r\n\r\n创造价值、回馈部落\r\n\r\n感谢 V2EX \r\n\r\n2026 我们再出发！！", "content_rendered": "<p>还记得我么，2024 年 3 月我发表过一篇文章，我创业了😄</p>\n<p><a href=\"https://www.v2ex.com/t/1020793#reply20\" rel=\"nofollow\">https://www.v2ex.com/t/1020793#reply20</a></p>\n<p>然后马上两年过去了，和大家做下汇报。</p>\n<h2>[01 祛魅]</h2>\n<p>我是 Mens</p>\n<p>一个在云计算和代码里泡了 10 年的老兵</p>\n<p>在很长一段时间里</p>\n<p>我误以为“知道”就等于“做到”</p>\n<p>我曾在这个行业的顶端</p>\n<p>用 PPT 构筑过无数个商业叙事</p>\n<p>那时候的生意</p>\n<p>在我眼里是干净的逻辑线</p>\n<p>是很多理论堆砌起来的确定性</p>\n<p>直到 30 岁，我把自己归零 </p>\n<p>当我离开平台，失去光环</p>\n<p>独自面对市场的冷暖时</p>\n<p>我开始重新学习</p>\n<p>如何在一个充满不确定性的世界里</p>\n<p>抓住那一点点真实的“成交”</p>\n<p><a href=\"https://mmbiz.qpic.cn/sz_mmbiz_jpg/ccTMoiahKxX3Lu9tEX76XHux3r1A4vqlqic5zTNZMzumGPHISpCXuJPl1awFclzYyic2TLumLtfdN6AugvWP13fpQ/640?wx_fmt=jpeg&amp;from=appmsg&amp;watermark=1&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1#imgIndex=0\" rel=\"nofollow\">https://mmbiz.qpic.cn/sz_mmbiz_jpg/ccTMoiahKxX3Lu9tEX76XHux3r1A4vqlqic5zTNZMzumGPHISpCXuJPl1awFclzYyic2TLumLtfdN6AugvWP13fpQ/640?wx_fmt=jpeg&amp;from=appmsg&amp;watermark=1&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1#imgIndex=0</a></p>\n<h2>[02 至暗时刻]</h2>\n<p>20 岁写代码，23 岁转管理</p>\n<p>28 岁以前，我以为自己懂透了商业</p>\n<p>现实却狠狠扇了我一巴掌</p>\n<p>2024 年，为了签下一笔仅 12000 元的单子</p>\n<p>为了省下那 50 块钱的利润</p>\n<p>我舍不得打车</p>\n<p>挤着早高峰的地铁去陌拜</p>\n<p>早上 9:30</p>\n<p>我准时站在客户门口，满怀诚意</p>\n<p>结果迎接我的</p>\n<p>是对方现场无情的杀价</p>\n<p>和当场撕毁的口头承诺</p>\n<p>那一刻，我才真正明白：</p>\n<p>做生意最根本的最小单元</p>\n<p>不是战略，而是「完成一笔交易」</p>\n<p>不懂人性，没和人性贴身肉搏过</p>\n<p>再牛的 AI 算法、再顶级的技术模型</p>\n<p>在街边小贩的生存智慧面前</p>\n<p>可能都是空中楼阁</p>\n<h2>[03 痛定思痛]</h2>\n<p>这一年，</p>\n<p>我把自己从“做题思维”里硬生生拔了出来</p>\n<p>拿着彩页走街串巷</p>\n<p>被拒绝、被无视、被当成骗子</p>\n<p>但这最“笨”的一年</p>\n<p>让我学到的东西比过去 8 年练的“内功”都要多</p>\n<p>过去的 8 年，我练的是内力</p>\n<p>这一年的扫街，我练的是招式</p>\n<p>两者合一</p>\n<p>才是我坚信未来能爆发的根本原因</p>\n<h2>[04 我的 2025]</h2>\n<p>2024 的折戟</p>\n<p>回调后的冷静\n冒险后的反思</p>\n<p>2025 年的我</p>\n<p>想和 v 社的伙伴说</p>\n<p>我好像 OK 了</p>\n<p>今年我找到了新的业务机会，AIcoding 的算力服务</p>\n<p>主要是为我的用户提供 claude code 和 codex 月卡服务</p>\n<p>经过我的运营和服务</p>\n<p>我积累了至少一千名粉丝和用户</p>\n<p>在使用我提供的服务</p>\n<p>他们有的是看中了我的服务</p>\n<p>有的是看中了我的态度</p>\n<p>久而久之</p>\n<p>也及时了很多好朋友</p>\n<p>感谢 v 社</p>\n<p>记得去年 2024 年 3 月份</p>\n<p>我发布了创业的文章</p>\n<p>很多小伙伴加我</p>\n<p>给我加油鼓劲</p>\n<p>这里</p>\n<p>我还个愿望</p>\n<p>这两年</p>\n<p>有得有失</p>\n<p>整体算下来</p>\n<p>得到的很多</p>\n<p>失去的也是应该要失去的</p>\n<p>失去的是那个</p>\n<p>旧我...</p>\n<p>不足的我...</p>\n<p>还需进步的我...</p>\n<p>一年的跌宕</p>\n<p>一年的收获</p>\n<p>我对商业闭环有了更深刻的认知和手感</p>\n<p>见得多了</p>\n<p>也就不觉得奇怪了</p>\n<p>商业最终就还是人性的对抗</p>\n<p>有敌人</p>\n<p>有并肩作战分享胜利战果的战友</p>\n<p>也有擦肩而过的陌生人送来的温暖</p>\n<p>我想这一切，和人本身存在的意义是相匹配的</p>\n<p>创造价值、回馈部落</p>\n<p>感谢 V2EX </p>\n<p>2026 我们再出发！！</p>\n", "last_modified": 1766846936, "replies": 32, "id": 1181519}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/9be4/0cee/365_large.png?m=1524176193", "name": "postgresql", "avatar_normal": "https://cdn.v2ex.com/navatar/9be4/0cee/365_normal.png?m=1524176193", "title": "PostgreSQL", "url": "https://www.v2ex.com/go/postgresql", "topics": 208, "footer": "", "header": "The world's most advanced open source database.", "title_alternative": "PostgreSQL", "avatar_mini": "https://cdn.v2ex.com/navatar/9be4/0cee/365_mini.png?m=1524176193", "stars": 276, "aliases": [], "root": false, "id": 365, "parent_node_name": "db"}, "member": {"id": 554382, "username": "Rooger", "url": "https://www.v2ex.com/u/Rooger", "website": "https://luojiego.github.io/", "twitter": "", "psn": "", "github": "luojiego", "btc": "", "location": "西安", "tagline": "", "bio": "大龄游戏后端开发，会 Go、C++、JS、TS。\r\n了解 Unity，Rect 等前端框架。", "avatar_mini": "https://cdn.v2ex.com/avatar/83db/495c/554382_mini.png?m=1752245239", "avatar_normal": "https://cdn.v2ex.com/avatar/83db/495c/554382_normal.png?m=1752245239", "avatar_large": "https://cdn.v2ex.com/avatar/83db/495c/554382_large.png?m=1752245239", "avatar_xlarge": "https://cdn.v2ex.com/avatar/83db/495c/554382_xlarge.png?m=1752245239", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/83db/495c/554382_xxlarge.png?m=1752245239", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/83db/495c/554382_xxxlarge.png?m=1752245239", "created": 1629959189, "last_modified": 1752245239, "pro": 0}, "last_reply_by": "liuliuliuliu", "last_touched": 1766847464, "title": "用了十几年的 MySQL 了，突然发现 PostgreSQL 可能更加适合我，大家怎么看？", "url": "https://www.v2ex.com/t/1181536", "created": 1766804069, "deleted": 0, "content": "从 13 年毕业开始就开始使用 MySQL ，当时不理解 DBA 把用户表分成了 100 张，后来在别人的一通解释下也渐渐理解了。\r\n\r\n17 年自己开始作为主程负责一个新项目，当时因为把用户表分成 100 张还跟老板吵过架（因为当时另外一个项目的负责人本身就是个混混，还给老板一通乱说，弄的我特别郁闷，无奈自己当时的心理素质不是特别强大）。后来我也觉得 100 张表可能太多了，可能没有那么多用户，索性就只分了十张。\r\n\r\n20 年新的项目，开始尝试使用 MongoDB ，经别人推荐，说 MongoDB 怎么适合游戏。当时觉得这东西好啊，但是在实际使用时，并不是那么美好。\r\n\r\n24 年另外一个项目，负责人全部使用了 MongoDB ，但是用法相当暴力，也就是每次全量存储用户的数量到 MongoDB 中，感觉跟使用 MySQL 也没有什么实质性的区别。\r\n\r\n今年负责另外一个项目时，最开始设计者将用户的 JSON 数据先进行 base64 encode ，然后异或加密存储到了 MySQL 中。因为最开始的客户端的设计是纯单机，后面加了服务器存储用户的存档而已。\r\n\r\n新的需求是要将这个单机版本做成一个联网版本，因为我之前有将单机变成联网的成功经验（某合成游戏变成联网版本，国内流水过五亿）。\r\n\r\n现在的存储结构没有规划过，JSON 结构下面有超过 200 个字段，活动配置占用超过了 90% 的存储以上，平均用户的存储占用在 100KB 以上。\r\n存档中存储活动配置的原因：活动开启之后，则配置不再发生变化。\r\n\r\n我重新设计了存储结构，使用 Protobuf 重新设计了数据存储，将活动配置数据跟游戏存档分离。活动配置单独存档在一张配置表，用户的存储中只记录对应的唯一 ID 。同时提供了接口，可能将旧的数据转换为新的 Protobuf 存储结构。\r\n\r\n用户的数据存储中，使用 JSON 存储，存储的内容为 Protobuf 对应的 JSON 数据。用户更新数据时，提供了 FieldMask 仅修改部分数据（只前每次都是全量更新）。\r\n\r\n当这个版本成功上线之后，我发现某些接口调用比较慢，例如在用户转换存档时，我将客户端提供的原始数据、转换之后的结果存储到了 `conversion_logs` 配置表（数据类型均为 JSON ），内网的虚拟机上平均耗时为 200ms 。因为最近在研究 PostgreSQL ，索性就试了一下性能对比，结果 PG 只需要 20ms 左右。最关键的是，表空间存储的占用上，PG 远低于 MySQL ，因为 PG 存储使用的类型为 JSONB 。\r\n\r\n我尝试对比纯 TEXT 字段的记录时，PG 占用的空间也只有 MySQL 的 1/3 ，现在的数据表现就是在存储和插入速度 MySQL 远低于 PG 。更新的速度还没有完全验证。\r\n```mysql\r\nSELECT\r\n  table_name,\r\n  ROUND((data_length + index_length) / 1024 / 1024, 2) AS total_mb,\r\n  ROUND(data_length / 1024 / 1024, 2) AS data_mb,\r\n  ROUND(index_length / 1024 / 1024, 2) AS index_mb\r\nFROM information_schema.tables\r\nWHERE table_schema = 'merge_island'\r\n  AND table_name IN ('conversion_logs','game_saves','activity_saves','activity_config');\r\n  \r\n+-----------------+----------+---------+----------+\r\n| TABLE_NAME      | total_mb | data_mb | index_mb |\r\n+-----------------+----------+---------+----------+\r\n| activity_config |   216.83 |  209.55 |     7.28 |\r\n| activity_saves  |     0.16 |    0.16 |     0.00 |\r\n| conversion_logs |    70.55 |   70.52 |     0.03 |\r\n| game_saves      |     7.48 |    7.39 |     0.09 |\r\n+-----------------+----------+---------+----------+\r\n```\r\n\r\n```postgresql\r\nSELECT\r\n  relname AS table_name,\r\n  pg_size_pretty(pg_total_relation_size(relid)) AS total_size\r\nFROM pg_catalog.pg_statio_user_tables\r\nWHERE relname IN ('conversion_logs','game_saves','activity_saves','activity_config');\r\ntable_name    | total_size\r\n-----------------+------------\r\n activity_config | 32 MB\r\n activity_saves  | 376 kB\r\n conversion_logs | 13 MB\r\n game_saves      | 1976 kB\r\n```\r\n\r\n另外把用户分为 100 张的操作在 PG 这里完全是反模式的，因为 PG 号称单表轻松过亿。另外十多年前的老设计本应该也要被淘汰了，毕竟现在都是云服务，空间存储可以轻松扩充，不用再担心这个问题。\r\n\r\n有没有使用 PG 淘汰 MySQL 的大佬来分享一下自己的经历，一起学习哈。", "content_rendered": "<p>从 13 年毕业开始就开始使用 MySQL ，当时不理解 DBA 把用户表分成了 100 张，后来在别人的一通解释下也渐渐理解了。</p>\n<p>17 年自己开始作为主程负责一个新项目，当时因为把用户表分成 100 张还跟老板吵过架（因为当时另外一个项目的负责人本身就是个混混，还给老板一通乱说，弄的我特别郁闷，无奈自己当时的心理素质不是特别强大）。后来我也觉得 100 张表可能太多了，可能没有那么多用户，索性就只分了十张。</p>\n<p>20 年新的项目，开始尝试使用 MongoDB ，经别人推荐，说 MongoDB 怎么适合游戏。当时觉得这东西好啊，但是在实际使用时，并不是那么美好。</p>\n<p>24 年另外一个项目，负责人全部使用了 MongoDB ，但是用法相当暴力，也就是每次全量存储用户的数量到 MongoDB 中，感觉跟使用 MySQL 也没有什么实质性的区别。</p>\n<p>今年负责另外一个项目时，最开始设计者将用户的 JSON 数据先进行 base64 encode ，然后异或加密存储到了 MySQL 中。因为最开始的客户端的设计是纯单机，后面加了服务器存储用户的存档而已。</p>\n<p>新的需求是要将这个单机版本做成一个联网版本，因为我之前有将单机变成联网的成功经验（某合成游戏变成联网版本，国内流水过五亿）。</p>\n<p>现在的存储结构没有规划过，JSON 结构下面有超过 200 个字段，活动配置占用超过了 90% 的存储以上，平均用户的存储占用在 100KB 以上。\n存档中存储活动配置的原因：活动开启之后，则配置不再发生变化。</p>\n<p>我重新设计了存储结构，使用 Protobuf 重新设计了数据存储，将活动配置数据跟游戏存档分离。活动配置单独存档在一张配置表，用户的存储中只记录对应的唯一 ID 。同时提供了接口，可能将旧的数据转换为新的 Protobuf 存储结构。</p>\n<p>用户的数据存储中，使用 JSON 存储，存储的内容为 Protobuf 对应的 JSON 数据。用户更新数据时，提供了 FieldMask 仅修改部分数据（只前每次都是全量更新）。</p>\n<p>当这个版本成功上线之后，我发现某些接口调用比较慢，例如在用户转换存档时，我将客户端提供的原始数据、转换之后的结果存储到了 <code>conversion_logs</code> 配置表（数据类型均为 JSON ），内网的虚拟机上平均耗时为 200ms 。因为最近在研究 PostgreSQL ，索性就试了一下性能对比，结果 PG 只需要 20ms 左右。最关键的是，表空间存储的占用上，PG 远低于 MySQL ，因为 PG 存储使用的类型为 JSONB 。</p>\n<p>我尝试对比纯 TEXT 字段的记录时，PG 占用的空间也只有 MySQL 的 1/3 ，现在的数据表现就是在存储和插入速度 MySQL 远低于 PG 。更新的速度还没有完全验证。</p>\n<pre><code class=\"language-mysql\">SELECT\n  table_name,\n  ROUND((data_length + index_length) / 1024 / 1024, 2) AS total_mb,\n  ROUND(data_length / 1024 / 1024, 2) AS data_mb,\n  ROUND(index_length / 1024 / 1024, 2) AS index_mb\nFROM information_schema.tables\nWHERE table_schema = 'merge_island'\n  AND table_name IN ('conversion_logs','game_saves','activity_saves','activity_config');\n  \n+-----------------+----------+---------+----------+\n| TABLE_NAME      | total_mb | data_mb | index_mb |\n+-----------------+----------+---------+----------+\n| activity_config |   216.83 |  209.55 |     7.28 |\n| activity_saves  |     0.16 |    0.16 |     0.00 |\n| conversion_logs |    70.55 |   70.52 |     0.03 |\n| game_saves      |     7.48 |    7.39 |     0.09 |\n+-----------------+----------+---------+----------+\n</code></pre>\n<pre><code class=\"language-postgresql\">SELECT\n  relname AS table_name,\n  pg_size_pretty(pg_total_relation_size(relid)) AS total_size\nFROM pg_catalog.pg_statio_user_tables\nWHERE relname IN ('conversion_logs','game_saves','activity_saves','activity_config');\ntable_name    | total_size\n-----------------+------------\n activity_config | 32 MB\n activity_saves  | 376 kB\n conversion_logs | 13 MB\n game_saves      | 1976 kB\n</code></pre>\n<p>另外把用户分为 100 张的操作在 PG 这里完全是反模式的，因为 PG 号称单表轻松过亿。另外十多年前的老设计本应该也要被淘汰了，毕竟现在都是云服务，空间存储可以轻松扩充，不用再担心这个问题。</p>\n<p>有没有使用 PG 淘汰 MySQL 的大佬来分享一下自己的经历，一起学习哈。</p>\n", "last_modified": 1766804069, "replies": 32, "id": 1181536}]