[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 3616, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 983, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 444720, "username": "lxy199795swu", "url": "https://www.v2ex.com/u/lxy199795swu", "website": "", "twitter": "", "psn": "", "github": "lxy199795", "btc": "", "location": "成都", "tagline": "", "bio": "学生", "avatar_mini": "https://cdn.v2ex.com/avatar/a73e/7619/444720_mini.png?m=1584870957", "avatar_normal": "https://cdn.v2ex.com/avatar/a73e/7619/444720_normal.png?m=1584870957", "avatar_large": "https://cdn.v2ex.com/avatar/a73e/7619/444720_large.png?m=1584870957", "created": 1570264138, "last_modified": 1584870957}, "last_reply_by": "xx19941215", "last_touched": 1668253081, "title": "不知道该分手还是结婚 请大家帮帮我", "url": "https://www.v2ex.com/t/895243", "created": 1668432978, "deleted": 0, "content": "目前不知道是不是该继续，老哥们说说想法。\r\n楼主情况：25 岁本科 某省会 IT 税前接近 20 名下有四室房 贷款还到了公积金能覆盖（欠 60 多）身高 185+ 长的也不差 父母离异 被父亲抛弃不考虑养父亲 母亲名省会下 2 套 30 年社保未退 再嫁公务员 不用担心养老 反而啃老\r\n女朋友：24 在职硕 小学在编老师 长相比我略差一点 身高 160 父母在外打工 老家四线城市村里 有几块地 省会有套贷款房（三层首付后续说明）\r\n\r\n从大学开始 6 年 身边所有人都觉得我们不可能走到最后 可能是我以前天真 觉得爱情能够战胜一切 不顾家人所有的反对 目前已经开始谈婚论嫁了\r\n突然觉得感觉兜不起他父母这个底 已经感觉有点压力了 后面会讲为什么\r\n1.房子：\r\n我之前一直不想太早结婚，一起规划的未来也是一人买一套，婚前首付少利率低，上半年正好开了个盘，我劝她买，之前承诺过她给他不低的彩礼，但必须给相等数额的嫁妆，给到两个小家。她手里存了 10 个左右（为啥能存下后续会说，我当时也不想计较那么多，就把彩礼给了近 16 个，然后他父母出了 10 个，买下了。结果同事们都说拿钱去给别人买成婚前财产，我当时也觉得还好，后面她告诉我她父母说那 10 个就是嫁妆的一部分，这下彩礼和大半嫁妆都变成她婚前的了。我当时也不想太多\r\n2.办婚礼：\r\n之前跟她说好的不办，旅游结婚，结果去给她父母洗脑被反洗了。她们家亲戚四十多个，来省会办肯定血赔，当时有点生气就说了分手，把她父母吓到了，让她第二天回来挽留我。后面我还是退让了，说不办婚礼拿 6-8 个出来旅游结婚，她说把父母带上，一辈子没出去耍过，让我把我母和继父带上，我说他们不去，我当时虽然觉得应该只我们两去，但也退让了说好\r\n3.父母回家：\r\n之前父母在沿海打工，社保还差一半，说再干几年回来，我当时想还可以给她减轻压力，沿海收入也不错。结果这段时间经常给我说她父母今年春节要回来了，就不去打工了，有点害怕，说在省会找工作，他们又嫌工资低，估计是直接回老家退休，剩下一半社保谁缴，无论是父母缴还是她出些钱（之前想的明年结婚），可能就是我们出钱了，就算他父母出，那几个积蓄出了没钱了以后也是我们兜着，真的感觉压力倍增。\r\n4.对我有点抠抠搜搜的\r\n我一年基本每个节日都会买礼物 每个季节都带她去买一两件衣服，她只会在过生给我买。今年送了双 1k 鞋，平时问她就说感觉你什么都不缺，不知道买啥。虽然我平时让她节约点，我本质都很节约，钱基本不花在自己身上除了一起吃，也就是工作 2 年左右存了 10w 原因\r\n\r\n很多三观都不相同 我以前也一直磨合 最近跟朋友同学些交流 发现她们对男朋友都很好 而且跟本地人看法更相似 导致我越来越在意了 朋友也说我这种在相亲市场也比较吃香 给了我些信心吧\r\n\r\n现在就在思考分不分 这么多年了 还是很有感情的 我很念旧 如果不分我该办呢", "content_rendered": "目前不知道是不是该继续，老哥们说说想法。<br />楼主情况：25 岁本科 某省会 IT 税前接近 20 名下有四室房 贷款还到了公积金能覆盖（欠 60 多）身高 185+ 长的也不差 父母离异 被父亲抛弃不考虑养父亲 母亲名省会下 2 套 30 年社保未退 再嫁公务员 不用担心养老 反而啃老<br />女朋友：24 在职硕 小学在编老师 长相比我略差一点 身高 160 父母在外打工 老家四线城市村里 有几块地 省会有套贷款房（三层首付后续说明）<br /><br />从大学开始 6 年 身边所有人都觉得我们不可能走到最后 可能是我以前天真 觉得爱情能够战胜一切 不顾家人所有的反对 目前已经开始谈婚论嫁了<br />突然觉得感觉兜不起他父母这个底 已经感觉有点压力了 后面会讲为什么<br />1.房子：<br />我之前一直不想太早结婚，一起规划的未来也是一人买一套，婚前首付少利率低，上半年正好开了个盘，我劝她买，之前承诺过她给他不低的彩礼，但必须给相等数额的嫁妆，给到两个小家。她手里存了 10 个左右（为啥能存下后续会说，我当时也不想计较那么多，就把彩礼给了近 16 个，然后他父母出了 10 个，买下了。结果同事们都说拿钱去给别人买成婚前财产，我当时也觉得还好，后面她告诉我她父母说那 10 个就是嫁妆的一部分，这下彩礼和大半嫁妆都变成她婚前的了。我当时也不想太多<br />2.办婚礼：<br />之前跟她说好的不办，旅游结婚，结果去给她父母洗脑被反洗了。她们家亲戚四十多个，来省会办肯定血赔，当时有点生气就说了分手，把她父母吓到了，让她第二天回来挽留我。后面我还是退让了，说不办婚礼拿 6-8 个出来旅游结婚，她说把父母带上，一辈子没出去耍过，让我把我母和继父带上，我说他们不去，我当时虽然觉得应该只我们两去，但也退让了说好<br />3.父母回家：<br />之前父母在沿海打工，社保还差一半，说再干几年回来，我当时想还可以给她减轻压力，沿海收入也不错。结果这段时间经常给我说她父母今年春节要回来了，就不去打工了，有点害怕，说在省会找工作，他们又嫌工资低，估计是直接回老家退休，剩下一半社保谁缴，无论是父母缴还是她出些钱（之前想的明年结婚），可能就是我们出钱了，就算他父母出，那几个积蓄出了没钱了以后也是我们兜着，真的感觉压力倍增。<br />4.对我有点抠抠搜搜的<br />我一年基本每个节日都会买礼物 每个季节都带她去买一两件衣服，她只会在过生给我买。今年送了双 1k 鞋，平时问她就说感觉你什么都不缺，不知道买啥。虽然我平时让她节约点，我本质都很节约，钱基本不花在自己身上除了一起吃，也就是工作 2 年左右存了 10w 原因<br /><br />很多三观都不相同 我以前也一直磨合 最近跟朋友同学些交流 发现她们对男朋友都很好 而且跟本地人看法更相似 导致我越来越在意了 朋友也说我这种在相亲市场也比较吃香 给了我些信心吧<br /><br />现在就在思考分不分 这么多年了 还是很有感情的 我很念旧 如果不分我该办呢", "last_modified": 1668433069, "replies": 249, "id": 895243}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_large.png?m=1630643913", "name": "apple", "avatar_normal": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_normal.png?m=1630643913", "title": "Apple", "url": "https://www.v2ex.com/go/apple", "topics": 20618, "footer": "", "header": "设计了 <a href=\"/go/watch\">Apple Watch</a>，<a href=\"/go/ipad\">iPad</a>，<a href=\"/go/iphone\">iPhone</a>，<a href=\"/go/imac\">iMac</a> 及 <a href=\"/go/mbp\">MacBook Pro</a> 等电子产品的美国公司。", "title_alternative": "Apple", "avatar_mini": "https://cdn.v2ex.com/navatar/6cdd/60ea/184_mini.png?m=1630643913", "stars": 2401, "aliases": [], "root": false, "id": 184, "parent_node_name": "hardware"}, "member": {"id": 185923, "username": "argc", "url": "https://www.v2ex.com/u/argc", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/c9634a45a9c5779bc55ba156175ca116?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/c9634a45a9c5779bc55ba156175ca116?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/c9634a45a9c5779bc55ba156175ca116?s=73&d=retro", "created": 1470621727, "last_modified": 1470621727}, "last_reply_by": "ndxxx", "last_touched": 1668514677, "title": "PDD 上买到了后封机，假一赔十完全笑话", "url": "https://www.v2ex.com/t/895370", "created": 1668487425, "deleted": 0, "content": "翻车了，以前光听说拼多多有后封机了，但是之前买 iPhone 也都是拼多多买的，这次双十一买了个 iPhone14 Pro ，发过来的时候就用破泡泡纸缠了点胶带，我寻思好歹 8000 多块钱这包装也太糊弄事了，后来拆封一看，一屏幕的指纹。。。\n\n找客服要说法，客服也很礼貌，\"请提供开箱视频\"，好在我看包装太破留了个心眼，视频发过去，她说这是苹果手机上的膜留的胶。。。。\n\n后来我找 pdd 的客服要说法，我说你们可是写了假一赔十，这明显不是新机，客服也是频频道歉，\"您放心，您只要证实这是假的，我们会赔十个的\"。潜台词我觉得是，您这充其量是旧的，不是假的。\n\n真不是说笑啊，拼多多的假一赔十是笑话😂", "content_rendered": "翻车了，以前光听说拼多多有后封机了，但是之前买 iPhone 也都是拼多多买的，这次双十一买了个 iPhone14 Pro ，发过来的时候就用破泡泡纸缠了点胶带，我寻思好歹 8000 多块钱这包装也太糊弄事了，后来拆封一看，一屏幕的指纹。。。<br /><br />找客服要说法，客服也很礼貌，\"请提供开箱视频\"，好在我看包装太破留了个心眼，视频发过去，她说这是苹果手机上的膜留的胶。。。。<br /><br />后来我找 pdd 的客服要说法，我说你们可是写了假一赔十，这明显不是新机，客服也是频频道歉，\"您放心，您只要证实这是假的，我们会赔十个的\"。潜台词我觉得是，您这充其量是旧的，不是假的。<br /><br />真不是说笑啊，拼多多的假一赔十是笑话😂", "last_modified": 1668487425, "replies": 131, "id": 895370}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/3c59/dc04/21_large.png?m=1650127623", "name": "shenzhen", "avatar_normal": "https://cdn.v2ex.com/navatar/3c59/dc04/21_normal.png?m=1650127623", "title": "深圳", "url": "https://www.v2ex.com/go/shenzhen", "topics": 2572, "footer": "", "header": "", "title_alternative": "Shenzhen", "avatar_mini": "https://cdn.v2ex.com/navatar/3c59/dc04/21_mini.png?m=1650127623", "stars": 1729, "aliases": [], "root": false, "id": 21, "parent_node_name": "cn"}, "member": {"id": 321768, "username": "korio", "url": "https://www.v2ex.com/u/korio", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/54768304857772f63559a15d48b583ad?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/54768304857772f63559a15d48b583ad?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/54768304857772f63559a15d48b583ad?s=73&d=retro", "created": 1528637532, "last_modified": 1639841587}, "last_reply_by": "uni", "last_touched": 1668514379, "title": "深圳温柔小姐姐相亲", "url": "https://www.v2ex.com/t/895263", "created": 1668440566, "deleted": 0, "content": "听说 V 站深圳优质青年很多，来发个相亲帖~\r\n\r\n基本信息:96 年底，裸高 158 体重 46 ，本科。电商，0 出差。\r\n\r\n家庭情况:父母健康，家里做点小生意。家庭和睦单纯。\r\n\r\n性格方面: 温和文静，隐藏的社牛。比较愿意照顾别人情绪，喜欢接受安排，但是有自己的想法。喜欢撒娇。\r\n\r\n关于对婚姻的看法: 相处的时候互相扶持，做一个好的队友，做一个好爱人。\r\n\r\n关于我：可以做一个好的后方，可以提供让人安心的情绪价值。一半的社牛，相处让人舒服。\r\n\r\n期待的另一半能提供安心的感觉，生活中看得到生活。喜欢与对方沟通，求同存异观点碰撞。有上进心，会知道天冷存粮在外面也知道好好打仗。互相包容，换位思考，有孝心，照顾他人的情绪。\r\n\r\n微信：YILU1996YYL\r\n\r\n附上生活照两张：\r\nhttps://imgse.com/i/zAo1Yj\r\nhttps://imgse.com/i/zAoJlq", "content_rendered": "<p>听说 V 站深圳优质青年很多，来发个相亲帖~</p>\n<p>基本信息:96 年底，裸高 158 体重 46 ，本科。电商，0 出差。</p>\n<p>家庭情况:父母健康，家里做点小生意。家庭和睦单纯。</p>\n<p>性格方面: 温和文静，隐藏的社牛。比较愿意照顾别人情绪，喜欢接受安排，但是有自己的想法。喜欢撒娇。</p>\n<p>关于对婚姻的看法: 相处的时候互相扶持，做一个好的队友，做一个好爱人。</p>\n<p>关于我：可以做一个好的后方，可以提供让人安心的情绪价值。一半的社牛，相处让人舒服。</p>\n<p>期待的另一半能提供安心的感觉，生活中看得到生活。喜欢与对方沟通，求同存异观点碰撞。有上进心，会知道天冷存粮在外面也知道好好打仗。互相包容，换位思考，有孝心，照顾他人的情绪。</p>\n<p>微信：YILU1996YYL</p>\n<p>附上生活照两张：\n<a href=\"https://imgse.com/i/zAo1Yj\" rel=\"nofollow\">https://imgse.com/i/zAo1Yj</a>\n<a href=\"https://imgse.com/i/zAoJlq\" rel=\"nofollow\">https://imgse.com/i/zAoJlq</a></p>\n", "last_modified": 1668440566, "replies": 97, "id": 895263}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1659331259", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1659331259", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 51943, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1659331259", "stars": 8075, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 378367, "username": "diandian666", "url": "https://www.v2ex.com/u/diandian666", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/c578313992e2ad2ca34c07c0fc4cbe08?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/c578313992e2ad2ca34c07c0fc4cbe08?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/c578313992e2ad2ca34c07c0fc4cbe08?s=73&d=retro", "created": 1547784237, "last_modified": 1668503899}, "last_reply_by": "PeterD", "last_touched": 1668514573, "title": "十年程序员难倒了一个算法上面，真的老了", "url": "https://www.v2ex.com/t/895464", "created": 1668505220, "deleted": 0, "content": "如题，各位大佬摸鱼的时间看看怎么解决！！感谢！ 感恩！思密达！\r\n\r\n公司业务需要，把我难倒了。各位大佬看看能不能摸鱼的时间来看看这个需求。代码递归跑的内存都溢出了，万分感谢。\r\n\r\n题目：\r\n\r\n有两组数字数组数据，数组 1 的数据的总和 = 数组 2 数据的总和。数组 1 的数量 <= 数组 2 的数量。且数组 1 中每一个数字都可以对应数组 2 中 N 个数字的和。找出数组 1 中的数字对应数组 2 中的数据。不能重复使用。\r\n注：不用担心匹配不上的情况，这两组数据都是有根据出来的，绝对能匹配成功，之前都是人工匹配的，现在想用代码直接取代人工。\r\n\r\n题目说的有点不清楚，举例：\r\n\r\n数组 1：\r\n[62.13,26.67,17.76]\r\n\r\n数组 2：[24.92,5.88,5.04,3.64,3.45,3.36,2.8,2.8,2.52,2.24,2.24,2.24,1.96,1.96,1.8,1.68,1.4,1.4,1.4,1.2,1.2,1.15,1.12,1.12,1.12,1.12,1.12,0.84,0.84,0.84,0.84,0.84,0.84,0.84,0.84,0.84,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.4,0.4,0.4,0.4,0.4,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28]\r\n\r\n最终需要匹配出来结果\r\n\r\n62.13=>[24.92,5.88,5.04,3.64,3.45,2.8,2.8,2.52,2.24,2.24,2.24,1.96,1.2,1.2],\r\n\r\n26.67=>[1.96,1.68,1.4,1.15,1.12,1.12,0.84,0.84,0.84,0.84,0.84,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.4,0.4,0.4,0.4,0.4,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28]\r\n\r\n17.76=>[3.36,1.8,1.4,1.4,1.12,1.12,1.12,0.84,0.84,0.84,0.84,0.56,0.56,0.56,0.56,0.56,0.28]\r\n\r\n上面就是匹配的结果。\r\n\r\n\r\n我这边多提供两组数据供测试,下面的两组测试成功的话，再尝试上面提到的那组数据，毕竟上面那组数据多，影响测试\r\n\r\n第一组：\r\n\r\n数组 1\r\n[52.7,8.96]\r\n\r\n数组 2\r\n[21.44,6.72,5.44,5.12,4.48,3.20,2.24,1.92,1.92,1.92,1.28,1.28,1.00,0.96,0.50,0.32,0.32,0.32,0.32,0.32,0.32,0.32]\r\n\r\n第二组：\r\n\r\n数组 1\r\n[23.17,3.2,1.22,0.32]\r\n\r\n数组 2\r\n[7.36,4.16,3.20,1.69,1.28,1.28,0.96,0.96,0.90,0.64,0.64,0.64,0.50,0.50,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32\r\n\r\n\r\n]", "content_rendered": "<p>如题，各位大佬摸鱼的时间看看怎么解决！！感谢！ 感恩！思密达！</p>\n<p>公司业务需要，把我难倒了。各位大佬看看能不能摸鱼的时间来看看这个需求。代码递归跑的内存都溢出了，万分感谢。</p>\n<p>题目：</p>\n<p>有两组数字数组数据，数组 1 的数据的总和 = 数组 2 数据的总和。数组 1 的数量 &lt;= 数组 2 的数量。且数组 1 中每一个数字都可以对应数组 2 中 N 个数字的和。找出数组 1 中的数字对应数组 2 中的数据。不能重复使用。\n注：不用担心匹配不上的情况，这两组数据都是有根据出来的，绝对能匹配成功，之前都是人工匹配的，现在想用代码直接取代人工。</p>\n<p>题目说的有点不清楚，举例：</p>\n<p>数组 1：\n[62.13,26.67,17.76]</p>\n<p>数组 2：[24.92,5.88,5.04,3.64,3.45,3.36,2.8,2.8,2.52,2.24,2.24,2.24,1.96,1.96,1.8,1.68,1.4,1.4,1.4,1.2,1.2,1.15,1.12,1.12,1.12,1.12,1.12,0.84,0.84,0.84,0.84,0.84,0.84,0.84,0.84,0.84,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.4,0.4,0.4,0.4,0.4,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28]</p>\n<p>最终需要匹配出来结果</p>\n<p>62.13=&gt;[24.92,5.88,5.04,3.64,3.45,2.8,2.8,2.52,2.24,2.24,2.24,1.96,1.2,1.2],</p>\n<p>26.67=&gt;[1.96,1.68,1.4,1.15,1.12,1.12,0.84,0.84,0.84,0.84,0.84,0.56,0.56,0.56,0.56,0.56,0.56,0.56,0.4,0.4,0.4,0.4,0.4,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28,0.28]</p>\n<p>17.76=&gt;[3.36,1.8,1.4,1.4,1.12,1.12,1.12,0.84,0.84,0.84,0.84,0.56,0.56,0.56,0.56,0.56,0.28]</p>\n<p>上面就是匹配的结果。</p>\n<p>我这边多提供两组数据供测试,下面的两组测试成功的话，再尝试上面提到的那组数据，毕竟上面那组数据多，影响测试</p>\n<p>第一组：</p>\n<p>数组 1\n[52.7,8.96]</p>\n<p>数组 2\n[21.44,6.72,5.44,5.12,4.48,3.20,2.24,1.92,1.92,1.92,1.28,1.28,1.00,0.96,0.50,0.32,0.32,0.32,0.32,0.32,0.32,0.32]</p>\n<p>第二组：</p>\n<p>数组 1\n[23.17,3.2,1.22,0.32]</p>\n<p>数组 2\n[7.36,4.16,3.20,1.69,1.28,1.28,0.96,0.96,0.90,0.64,0.64,0.64,0.50,0.50,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32,0.32</p>\n<p>]</p>\n", "last_modified": 1668505220, "replies": 96, "id": 895464}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/70ef/df2e/17_large.png?m=1660301119", "name": "create", "avatar_normal": "https://cdn.v2ex.com/navatar/70ef/df2e/17_normal.png?m=1660301119", "title": "分享创造", "url": "https://www.v2ex.com/go/create", "topics": 18782, "footer": "", "header": "欢迎你在这里发布自己的最新作品！", "title_alternative": "Create", "avatar_mini": "https://cdn.v2ex.com/navatar/70ef/df2e/17_mini.png?m=1660301119", "stars": 4611, "aliases": [], "root": false, "id": 17, "parent_node_name": "geek"}, "member": {"id": 204076, "username": "supermao", "url": "https://www.v2ex.com/u/supermao", "website": "https://fengxiaomao.com", "twitter": "", "psn": "", "github": "hongmaoxiao", "btc": "", "location": "", "tagline": "三十立不了，四十解不了惑，五十活到那时再说吧", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/db33/f16f/204076_mini.png?m=1654076396", "avatar_normal": "https://cdn.v2ex.com/avatar/db33/f16f/204076_normal.png?m=1654076396", "avatar_large": "https://cdn.v2ex.com/avatar/db33/f16f/204076_large.png?m=1654076396", "created": 1480656130, "last_modified": 1654076396}, "last_reply_by": "MojiDOc", "last_touched": 1668513286, "title": "来看看你今年一共做了多少次核酸了？", "url": "https://www.v2ex.com/t/895422", "created": 1668498489, "deleted": 0, "content": "<h3 align=center>核日历</h3>\r\n\r\n标题就是小程序的名字了，这个是好几个月之前开发的，现在刚改了一版，觉得把一年的核酸次数统计一下还是挺有意义。\r\n\r\n#### 以下是使用方法\r\n\r\n- **进入小程序**\r\n**打开微信小程序，搜索核日历，或者使用二维码:**\r\n\r\n<img src=\"https://file.fengxiaomao.com/omicron/root.png\">\r\n\r\n**打开后长这样:**\r\n\r\n<img src=\"https://file.fengxiaomao.com/omicron/guide/%E8%BF%9B%E5%85%A5%E5%B0%8F%E7%A8%8B%E5%BA%8F.PNG\" width='50%' height='50%' >\r\n\r\n- **查看帮助，可以上传 txt 文件**\r\n\r\n<img src=\"https://file.fengxiaomao.com/omicron/guide/%E6%9F%A5%E7%9C%8B%E5%B8%AE%E5%8A%A9.PNG\" width='50%' height='50%'  align=center>\r\n\r\n- **去自己做核酸的 app 统计日期**\r\n\r\n**制作核酸日期 txt 如下:**\r\n\r\n<img src=\"https://file.fengxiaomao.com/omicron/guide/txt.png\" width='50%' height='50%'  align=center>\r\n\r\n- **把 txt 下载到微信文件传输助手，然后选择 txt 上传**\r\n\r\n<img src=\"https://file.fengxiaomao.com/omicron/guide/%E4%B8%8A%E4%BC%A0txt.PNG\"\r\nwidth='50%' height='50%'  align=center>\r\n\r\n- **加载成功后点预览**\r\n\r\n<img src=\"https://file.fengxiaomao.com/omicron/guide/%E9%A2%84%E8%A7%88%E9%80%89%E6%8B%A9%E5%A4%B4%E5%83%8F.PNG\"\r\nwidth='50%' height='50%'  align=center>\r\n\r\n- **选择结果展示微信头像**\r\n\r\n<img src=\"https://file.fengxiaomao.com/omicron/guide/%E9%80%89%E6%8B%A9%E5%A4%B4%E5%83%8F.PNG\"\r\nwidth='50%' height='50%'  align=center>\r\n\r\n- **很快预览结果出现**\r\n\r\n<img src=\"https://file.fengxiaomao.com/omicron/guide/%E9%A2%84%E8%A7%88%E7%BB%93%E6%9E%9C.PNG\"\r\nwidth='50%' height='50%'  align=center>\r\n\r\n- **长按保存到相册**\r\n\r\n<img src=\"https://file.fengxiaomao.com/omicron/guide/%E9%95%BF%E6%8C%89%E4%BF%9D%E5%AD%98.PNG\" width='50%' height='50%'  align=center>\r\n\r\n- **最终结果**\r\n\r\n<img src=\"https://file.fengxiaomao.com/omicron/guide/%E7%BB%93%E6%9E%9C%E5%9B%BE%E7%89%87.JPG\"\r\nwidth='50%' height='50%'  align=center>", "content_rendered": "<h3>核日历</h3>\n<p>标题就是小程序的名字了，这个是好几个月之前开发的，现在刚改了一版，觉得把一年的核酸次数统计一下还是挺有意义。</p>\n<h4>以下是使用方法</h4>\n<ul>\n<li><strong>进入小程序</strong>\n<strong>打开微信小程序，搜索核日历，或者使用二维码:</strong></li>\n</ul>\n<img class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://file.fengxiaomao.com/omicron/root.png\"/>\n<p><strong>打开后长这样:</strong></p>\n<img class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://file.fengxiaomao.com/omicron/guide/%E8%BF%9B%E5%85%A5%E5%B0%8F%E7%A8%8B%E5%BA%8F.PNG\"/>\n<ul>\n<li><strong>查看帮助，可以上传 txt 文件</strong></li>\n</ul>\n<img class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://file.fengxiaomao.com/omicron/guide/%E6%9F%A5%E7%9C%8B%E5%B8%AE%E5%8A%A9.PNG\"/>\n<ul>\n<li><strong>去自己做核酸的 app 统计日期</strong></li>\n</ul>\n<p><strong>制作核酸日期 txt 如下:</strong></p>\n<img class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://file.fengxiaomao.com/omicron/guide/txt.png\"/>\n<ul>\n<li><strong>把 txt 下载到微信文件传输助手，然后选择 txt 上传</strong></li>\n</ul>\n<p><img class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://file.fengxiaomao.com/omicron/guide/%E4%B8%8A%E4%BC%A0txt.PNG\"/></p>\n<ul>\n<li><strong>加载成功后点预览</strong></li>\n</ul>\n<p><img class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://file.fengxiaomao.com/omicron/guide/%E9%A2%84%E8%A7%88%E9%80%89%E6%8B%A9%E5%A4%B4%E5%83%8F.PNG\"/></p>\n<ul>\n<li><strong>选择结果展示微信头像</strong></li>\n</ul>\n<p><img class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://file.fengxiaomao.com/omicron/guide/%E9%80%89%E6%8B%A9%E5%A4%B4%E5%83%8F.PNG\"/></p>\n<ul>\n<li><strong>很快预览结果出现</strong></li>\n</ul>\n<p><img class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://file.fengxiaomao.com/omicron/guide/%E9%A2%84%E8%A7%88%E7%BB%93%E6%9E%9C.PNG\"/></p>\n<ul>\n<li><strong>长按保存到相册</strong></li>\n</ul>\n<img class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://file.fengxiaomao.com/omicron/guide/%E9%95%BF%E6%8C%89%E4%BF%9D%E5%AD%98.PNG\"/>\n<ul>\n<li><strong>最终结果</strong></li>\n</ul>\n<p><img class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://file.fengxiaomao.com/omicron/guide/%E7%BB%93%E6%9E%9C%E5%9B%BE%E7%89%87.JPG\"/></p>\n", "last_modified": 1668498640, "replies": 94, "id": 895422}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/a5e0/0132/146_large.png?m=1650095218", "name": "js", "avatar_normal": "https://cdn.v2ex.com/navatar/a5e0/0132/146_normal.png?m=1650095218", "title": "JavaScript", "url": "https://www.v2ex.com/go/js", "topics": 2854, "footer": "", "header": "JavaScript (sometimes abbreviated JS) is a prototype-based scripting language that is dynamic, weakly typed and has first-class functions.", "title_alternative": "JavaScript", "avatar_mini": "https://cdn.v2ex.com/navatar/a5e0/0132/146_mini.png?m=1650095218", "stars": 2881, "aliases": [], "root": false, "id": 146, "parent_node_name": "programming"}, "member": {"id": 80947, "username": "DreamDreamer", "url": "https://www.v2ex.com/u/DreamDreamer", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/4ad9/f5ad/80947_mini.png?m=1668436384", "avatar_normal": "https://cdn.v2ex.com/avatar/4ad9/f5ad/80947_normal.png?m=1668436384", "avatar_large": "https://cdn.v2ex.com/avatar/4ad9/f5ad/80947_large.png?m=1668436384", "avatar_xlarge": "https://cdn.v2ex.com/avatar/4ad9/f5ad/80947_xlarge.png?m=1668436384", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/4ad9/f5ad/80947_xlarge.png?m=1668436384", "created": 1415601235, "last_modified": 1668436384}, "last_reply_by": "opengps", "last_touched": 1668513291, "title": "刷课网站，禁止了进度条拖动等功能，求编写油猴脚本覆盖思路", "url": "https://www.v2ex.com/t/895249", "created": 1668435726, "deleted": 0, "content": "## 需求说明\r\n帮朋友刷课，网页版视频课，不能拖动进度条，要刷 90 个学时，太尼玛变态了，所以想到刷课。\r\n\r\n## 几个思路\r\n- ~~BurpSuite 抓包直接改 POST 数据体~~\r\n\r\n以前类似的需求我都是通过抓包工具 BurpSuite 改观看时长变量，然后放包实现的，也屡试不爽。但这次发现并不好使。。放包之后去课程页面看了，没有任何效果。看了源码也并没有研究清楚是哪里限制了，我都是按照 POST 数据的合法性放包的。\r\n\r\n- ~~加速网页视频播放速度~~\r\n\r\n用扩展加速视频，发现也不好使，应该也是 js 禁止了视频加速\r\n\r\n- 编写 js 脚本 /油猴脚本覆盖原 js\r\n\r\n看了下网页源码发现是 js 控制禁用了许多功能，看来只有自己写 js 脚本 override 原有脚本了，可惜我 js 并不熟。前端大佬们帮忙看下，提供个思路。谢谢啦，我把源码贴出来，关键的地方应该也就是那几个。辛苦辛苦师傅们\r\n\r\n```js\r\n $(function(){\r\n                        var time         = 0;\r\n                        var is_hls       = \"1\";\r\n                        var storage      = window.localStorage;\r\n                        var learntime    = 0,player_seek_time = 0,setLearntime = null;\r\n                        var is_drag      = parseInt(\"0\"); // 控制拖动进度条 [ 1：可拖动，0：不可拖动] \r\n                        var content      = \"成都 XX 科技有限公司所有权   \";\r\n                        var learn_record = parseInt(\"40\");\r\n\r\n                        if(is_hls == 1){\r\n                        \r\n                        \tvar myPlayer   = videojs('my-video',{\r\n                                 loop:false,\r\n                                 controlBar: {\r\n                                     LiveDisplay: false,\r\n                                     playbackRateMenuButton:{\r\n                                       //  playbackRates:[0.5,1.0,1.5,2.0,2.5]\r\n                                     }\r\n                                 }\r\n                             },function(){\r\n                                 $(\"#marquee_content\").text(content);\r\n                             });\r\n                             //添加视频准备完成后的回调函数\r\n                             myPlayer.on('loadedmetadata', function() {\r\n                                \r\n                          \r\n                            \t //自动播放\r\n                             if(learn_record){\r\n                                     myPlayer.currentTime(learn_record);    //续播\r\n                                     myPlayer.play();\r\n                                     storage.setItem(\"play_time_155_1722_5091\", learn_record);\r\n                                 }\r\n                                 // 初始化完成未播放时拖动进度\r\n                              if(!is_drag){\r\n                                     var play_time = parseInt(storage.getItem(\"play_time_155_1722_5091\"));\r\n                                     currentTime   = parseInt(myPlayer.currentTime());\r\n                                     if( currentTime-play_time>1 ){\r\n                                         myPlayer.currentTime(play_time);\r\n                                     }\r\n                                 }\r\n\r\n                             });\r\n                             //监听进度条时间\r\n                             time = myPlayer.duration();\r\n                             myPlayer.on('timeupdate',videojstimeupdate);\r\n                            \r\n                            \r\n                            \r\n                        }else{\r\n                        \t\r\n                        \t\r\n                        \t\r\n                            var myPlayer = document.getElementById('my-video');\r\n                            //添加视频准备完成后的回调函数\r\n                            myPlayer.addEventListener('loadedmetadata', function() {\r\n                                                          // 自动播放\r\n                                $(\"#marquee_content\").text(content);     // 跑马灯\r\n               \r\n                            if(learn_record){\r\n                                    myPlayer.currentTime=learn_record;  // 续播\r\n                                    myPlayer.play();\r\n                                    storage.setItem(\"play_time_155_1722_5091\", learn_record);\r\n                                    \r\n                                } \r\n                                // 初始化完成未播放时拖动进度\r\n                            /*     if(!is_drag){\r\n                                    var play_time = parseInt(storage.getItem(\"play_time_155_1722_5091\"));\r\n                                    currentTime   = parseInt(myPlayer.currentTime);\r\n                                    if( currentTime-play_time>1 ){\r\n                                        myPlayer.currentTime = play_time ;\r\n                                    }\r\n                                } */\r\n\r\n                            });\r\n                            \r\n                            \r\n                            \r\n                            \r\n                            //监听进度条时间\r\n                            time = myPlayer.duration;\r\n                            myPlayer.addEventListener('timeupdate',videotimeupdate);\r\n                        }\r\n\r\n                        //监听播放时间\r\n                        function setTime(){\r\n                            learntime = learntime+1;\r\n                           }\r\n\r\n                        //播放\r\n                        function videojsplay() {\r\n                        \t\r\n                        \t  if(learn_record){\r\n                                  myPlayer.currentTime(learn_record);    //续播\r\n                                  myPlayer.play();\r\n                                  storage.setItem(\"play_time_155_1722_5091\", learn_record);\r\n                              }else{\r\n                            \t  \r\n                            \t  setLearntime = setInterval(setTime, 1000);\r\n                              }\r\n                        \t\r\n                        \t \r\n                          }\r\n\r\n                         if(is_hls == 1){\r\n                            myPlayer.on('play', videojsplay);\r\n                            myPlayer.on('pause',videojspause);\r\n                            myPlayer.on('ended', videojsended);\r\n                            //暂停\r\n                         function videojspause() {\r\n                                clearInterval(setLearntime);\r\n                                var times      = parseInt(myPlayer.currentTime());\r\n                                var total_time = parseInt(myPlayer.duration());\r\n                                if(times > 2){\r\n                                    addLearnLog(times , total_time,1);\r\n                                }\r\n                            }\r\n                            //结束\r\n                            function videojsended() {\r\n                                clearInterval(setLearntime);\r\n                                var times      = parseInt(myPlayer.currentTime());\r\n                                var total_time = parseInt(myPlayer.duration());\r\n                                if(times > 2){\r\n                                    addLearnLog(times , total_time,1);\r\n                                }\r\n                                if( total_time != 0 && times >= total_time ){\r\n                                    // 获取下一解锁课时并跳转\r\n                                    $.ajax({\r\n                                        type: \"POST\",\r\n                                        url:\"http://xbzj.masterol.cn/index.php?app=course&mod=Video&act=getNextSection\",\r\n                                        data:{vid:\"155\",sid:\"1722\"},\r\n                                        dataType:\"json\",\r\n                                        success:function(data){\r\n                                            if(data){\r\n                                                var height = $('#vplayer').height();\r\n                                                var width = $('#vplayer').width();\r\n                                                var index = ui.open({\r\n                                                    type:3,\r\n                                                    icon:2,\r\n                                                    shade: [0.7, '#fff'], //0.1 透明度的白色背景\r\n                                                    offset: [height / 2+'px', width / 2+'px'],\r\n                                                });\r\n                                                setTimeout(function(){\r\n                                                    window.location.href = data;\r\n                                                }, 800);\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                }\r\n                            }\r\n                        }else{\r\n                            myPlayer.addEventListener('play',videojsplay);\r\n                            myPlayer.addEventListener('pause',videojspause);\r\n                            myPlayer.addEventListener('ended', videojsended);\r\n                            //暂停\r\n                            function videojspause() {\r\n                                clearInterval(setLearntime);\r\n                                var times      = parseInt(myPlayer.currentTime);\r\n                                var total_time = parseInt(myPlayer.duration);\r\n                                if(times > 2){\r\n                                    addLearnLog(times , total_time,1);\r\n                                }\r\n                            }\r\n                            //结束\r\n                            function videojsended() {\r\n                                clearInterval(setLearntime);\r\n                                var times      = parseInt(myPlayer.currentTime);\r\n                                var total_time = parseInt(myPlayer.duration);\r\n                                if(times > 2){\r\n                                    addLearnLog(times , total_time,1);\r\n                                }\r\n                                if( total_time != 0 && times >= total_time ){\r\n                                    // 获取下一解锁课时并跳转\r\n                                    $.ajax({\r\n                                        type: \"POST\",\r\n                                        url:\"http://xbzj.masterol.cn/index.php?app=course&mod=Video&act=getNextSection\",\r\n                                        data:{vid:\"155\",sid:\"1722\"},\r\n                                        dataType:\"json\",\r\n                                        success:function(data){\r\n                                            if(data){\r\n                                                var height = $('#vplayer').height();\r\n                                                var width = $('#vplayer').width();\r\n                                                var index = ui.open({\r\n                                                    type:3,\r\n                                                    icon:2,\r\n                                                    shade: [0.7, '#fff'], //0.1 透明度的白色背景\r\n                                                    offset: [height / 2+'px', width / 2+'px'],\r\n                                                });\r\n                                                setTimeout(function(){\r\n                                                    window.location.href = data;\r\n                                                }, 800);\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                     \r\n                  \r\n                            \r\n                         if(!is_drag){\r\n                            var play_time = parseInt(storage.getItem(\"play_time_155_1722_5091\"));\r\n\r\n                             if(curr_times-times>1){\r\n                        \t    console.log('1307'+curr_times+'-'+play_time+'--'+times);\r\n                        \t    myPlayer.currentTime(play_time);\r\n                        \t    storage.setItem(\"play_time_155_1722_5091\", play_time);\r\n                               }   \r\n        \r\n                            }\r\n                            \r\n       \r\n                            if( total_time != 0 && curr_times >= total_time ){\r\n                                // 获取下一解锁课时并跳转\r\n                                $.ajax({\r\n                                    type: \"POST\",\r\n                                    url:\"http://xbzj.masterol.cn/index.php?app=course&mod=Video&act=getNextSection\",\r\n                                    data:{vid:\"155\",sid:\"1722\"},\r\n                                    dataType:\"json\",\r\n                                    success:function(data){\r\n                                        if(data){\r\n                                            var height = $('#vplayer').height();\r\n                                            var width = $('#vplayer').width();\r\n                                            var index = ui.open({\r\n                                                type:3,\r\n                                                icon:2,\r\n                                                shade: [0.7, '#fff'], //0.1 透明度的白色背景\r\n                                                offset: [height / 2+'px', width / 2+'px'],\r\n                                            });\r\n                                            setTimeout(function(){\r\n                                                window.location.href = data;\r\n                                            }, 800);\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }\r\n\r\n                            if( times     != parseInt(myPlayer.currentTime()) ){\r\n                                times      = parseInt(myPlayer.currentTime());\r\n                                if(times > 0 && times % 4 == 0 ){\r\n                                    addLearnLog(times , total_time , 0);  //0 表示不及时更新学习记录，即 4 秒一次\r\n                                }\r\n                                storage.setItem( 'learn_curr_time', times);\r\n                            }\r\n\r\n                            if(is_free == 0 && free == 0){\r\n                                if (times > test_time){\r\n                                    myPlayer.pause();\r\n                                    $(\"#vplayer\").html('');\r\n                                    $(\".vedioPlay-msg\").css(\"display\",\"block\");\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        //video 时间更新\r\n                        function videotimeupdate() {\r\n                            var test_time  = 5;\r\n                            var is_free    = 1;//课程是否免费\r\n                         var free       = 0;//课时是否免费\r\n\r\n                         var total_time = parseInt(myPlayer.duration);\r\n                            var times      = storage.getItem('learn_curr_time');\r\n                            var curr_times = parseInt(myPlayer.currentTime);\r\n\r\n                            // 拖动进度\r\n                            if(!is_drag){\r\n                                var play_time = parseInt(storage.getItem(\"play_time_155_1722_5091\"));\r\n\r\n                                 if(curr_times-times>1){\r\n                            \t    console.log('1307'+curr_times+'-'+play_time+'--'+times);\r\n                            \t    myPlayer.currentTime = play_time;\r\n                            \t    storage.setItem(\"play_time_155_1722_5091\", play_time);\r\n                                   }   \r\n            \r\n                                }\r\n\r\n                            if( total_time != 0 && curr_times >= total_time ){\r\n                                // 获取下一解锁课时并跳转\r\n                                $.ajax({\r\n                                    type: \"POST\",\r\n                                    url:\"http://xbzj.masterol.cn/index.php?app=course&mod=Video&act=getNextSection\",\r\n                                    data:{vid:\"155\",sid:\"1722\"},\r\n                                    dataType:\"json\",\r\n                                    success:function(data){\r\n                                        if(data){\r\n                                            var height = $('#vplayer').height();\r\n                                            var width = $('#vplayer').width();\r\n                                            var index = ui.open({\r\n                                                type:3,\r\n                                                icon:2,\r\n                                                shade: [0.7, '#fff'], //0.1 透明度的白色背景\r\n                                                offset: [height / 2+'px', width / 2+'px'],\r\n                                            });\r\n                                            setTimeout(function(){\r\n                                                window.location.href = data;\r\n                                            }, 800);\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }\r\n\r\n                            if( times     != parseInt(myPlayer.currentTime) ){\r\n                                times      = parseInt(myPlayer.currentTime);\r\n                                if(times > 0 && times % 4 == 0 ){\r\n                                    addLearnLog(times , total_time , 0);  //0 表示不及时更新学习记录，即 4 秒一次\r\n                                }\r\n                                storage.setItem( 'learn_curr_time', times);\r\n                            }\r\n\r\n                            if(is_free == 0 && free == 0){\r\n                                if (times > test_time){\r\n                                    myPlayer.pause();\r\n                                    $(\"#vplayer\").html('');\r\n                                    $(\".vedioPlay-msg\").css(\"display\",\"block\");\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        //添加观看记录\r\n                        function addLearnLog(timespan , total_time , is_true){\r\n                            var t          = parseInt(timespan);\r\n                            var total_time = parseInt(total_time);\r\n                            var video_type = \"5\";\r\n\r\n                            if((t && (t % 4 == 0)) || is_true == 1){\r\n\r\n                                $.ajax({\r\n                                    type: \"POST\",\r\n                                    url:\"http://xbzj.masterol.cn/index.php?app=course&mod=Video&act=updateLearn\",\r\n                                    data:{time:t,player_seek_time:learntime,vid:\"155\",sid:\"1722\",totaltime:total_time,is_true:is_true,type:video_type},\r\n                                    dataType:\"json\",\r\n                                    success:function(data){\r\n                                    \t\r\n                                      if(data.status=='0'){\r\n                                       \t    console.log('修正--'+t+'-'+data.time);\r\n                                       \t    \r\n                                       \t   if(is_hls == 1){\r\n                                       \t\t  myPlayer.currentTime(data.time);\t\r\n                                       \t    }else{\r\n                                       \t      myPlayer.currentTime = data.time;\r\n                                       \t    }\r\n                                       \t    storage.setItem(\"play_time_155_1722_5091\", data.time);\r\n                                            ui.error('禁止多次拖动快进！');\r\n                                            return;\r\n                                       }else if(data.status=='-1'){\r\n                                       \t\r\n                                       \t    ui.error('您的登录已过期，请重新登录');\r\n                                       \t    var callbacklogin = \"location.href ='/login.html'\";\r\n                                            setTimeout(callbacklogin,3000);\r\n                                            return false;\r\n                                       }else{\r\n                                       \t\r\n                                       \t\r\n                                       }\r\n                                    }\r\n                                });\r\n\r\n                            }\r\n                        }\r\n                    });\r\n```", "content_rendered": "<h2>需求说明</h2>\n<p>帮朋友刷课，网页版视频课，不能拖动进度条，要刷 90 个学时，太尼玛变态了，所以想到刷课。</p>\n<h2>几个思路</h2>\n<ul>\n<li><del>BurpSuite 抓包直接改 POST 数据体</del></li>\n</ul>\n<p>以前类似的需求我都是通过抓包工具 BurpSuite 改观看时长变量，然后放包实现的，也屡试不爽。但这次发现并不好使。。放包之后去课程页面看了，没有任何效果。看了源码也并没有研究清楚是哪里限制了，我都是按照 POST 数据的合法性放包的。</p>\n<ul>\n<li><del>加速网页视频播放速度</del></li>\n</ul>\n<p>用扩展加速视频，发现也不好使，应该也是 js 禁止了视频加速</p>\n<ul>\n<li>编写 js 脚本 /油猴脚本覆盖原 js</li>\n</ul>\n<p>看了下网页源码发现是 js 控制禁用了许多功能，看来只有自己写 js 脚本 override 原有脚本了，可惜我 js 并不熟。前端大佬们帮忙看下，提供个思路。谢谢啦，我把源码贴出来，关键的地方应该也就是那几个。辛苦辛苦师傅们</p>\n<pre><code class=\"language-js\"> $(function(){\n                        var time         = 0;\n                        var is_hls       = \"1\";\n                        var storage      = window.localStorage;\n                        var learntime    = 0,player_seek_time = 0,setLearntime = null;\n                        var is_drag      = parseInt(\"0\"); // 控制拖动进度条 [ 1：可拖动，0：不可拖动] \n                        var content      = \"成都 XX 科技有限公司所有权   \";\n                        var learn_record = parseInt(\"40\");\n\n                        if(is_hls == 1){\n                        \n                        \tvar myPlayer   = videojs('my-video',{\n                                 loop:false,\n                                 controlBar: {\n                                     LiveDisplay: false,\n                                     playbackRateMenuButton:{\n                                       //  playbackRates:[0.5,1.0,1.5,2.0,2.5]\n                                     }\n                                 }\n                             },function(){\n                                 $(\"#marquee_content\").text(content);\n                             });\n                             //添加视频准备完成后的回调函数\n                             myPlayer.on('loadedmetadata', function() {\n                                \n                          \n                            \t //自动播放\n                             if(learn_record){\n                                     myPlayer.currentTime(learn_record);    //续播\n                                     myPlayer.play();\n                                     storage.setItem(\"play_time_155_1722_5091\", learn_record);\n                                 }\n                                 // 初始化完成未播放时拖动进度\n                              if(!is_drag){\n                                     var play_time = parseInt(storage.getItem(\"play_time_155_1722_5091\"));\n                                     currentTime   = parseInt(myPlayer.currentTime());\n                                     if( currentTime-play_time&gt;1 ){\n                                         myPlayer.currentTime(play_time);\n                                     }\n                                 }\n\n                             });\n                             //监听进度条时间\n                             time = myPlayer.duration();\n                             myPlayer.on('timeupdate',videojstimeupdate);\n                            \n                            \n                            \n                        }else{\n                        \t\n                        \t\n                        \t\n                            var myPlayer = document.getElementById('my-video');\n                            //添加视频准备完成后的回调函数\n                            myPlayer.addEventListener('loadedmetadata', function() {\n                                                          // 自动播放\n                                $(\"#marquee_content\").text(content);     // 跑马灯\n               \n                            if(learn_record){\n                                    myPlayer.currentTime=learn_record;  // 续播\n                                    myPlayer.play();\n                                    storage.setItem(\"play_time_155_1722_5091\", learn_record);\n                                    \n                                } \n                                // 初始化完成未播放时拖动进度\n                            /*     if(!is_drag){\n                                    var play_time = parseInt(storage.getItem(\"play_time_155_1722_5091\"));\n                                    currentTime   = parseInt(myPlayer.currentTime);\n                                    if( currentTime-play_time&gt;1 ){\n                                        myPlayer.currentTime = play_time ;\n                                    }\n                                } */\n\n                            });\n                            \n                            \n                            \n                            \n                            //监听进度条时间\n                            time = myPlayer.duration;\n                            myPlayer.addEventListener('timeupdate',videotimeupdate);\n                        }\n\n                        //监听播放时间\n                        function setTime(){\n                            learntime = learntime+1;\n                           }\n\n                        //播放\n                        function videojsplay() {\n                        \t\n                        \t  if(learn_record){\n                                  myPlayer.currentTime(learn_record);    //续播\n                                  myPlayer.play();\n                                  storage.setItem(\"play_time_155_1722_5091\", learn_record);\n                              }else{\n                            \t  \n                            \t  setLearntime = setInterval(setTime, 1000);\n                              }\n                        \t\n                        \t \n                          }\n\n                         if(is_hls == 1){\n                            myPlayer.on('play', videojsplay);\n                            myPlayer.on('pause',videojspause);\n                            myPlayer.on('ended', videojsended);\n                            //暂停\n                         function videojspause() {\n                                clearInterval(setLearntime);\n                                var times      = parseInt(myPlayer.currentTime());\n                                var total_time = parseInt(myPlayer.duration());\n                                if(times &gt; 2){\n                                    addLearnLog(times , total_time,1);\n                                }\n                            }\n                            //结束\n                            function videojsended() {\n                                clearInterval(setLearntime);\n                                var times      = parseInt(myPlayer.currentTime());\n                                var total_time = parseInt(myPlayer.duration());\n                                if(times &gt; 2){\n                                    addLearnLog(times , total_time,1);\n                                }\n                                if( total_time != 0 &amp;&amp; times &gt;= total_time ){\n                                    // 获取下一解锁课时并跳转\n                                    $.ajax({\n                                        type: \"POST\",\n                                        url:\"http://xbzj.masterol.cn/index.php?app=course&amp;mod=Video&amp;act=getNextSection\",\n                                        data:{vid:\"155\",sid:\"1722\"},\n                                        dataType:\"json\",\n                                        success:function(data){\n                                            if(data){\n                                                var height = $('#vplayer').height();\n                                                var width = $('#vplayer').width();\n                                                var index = ui.open({\n                                                    type:3,\n                                                    icon:2,\n                                                    shade: [0.7, '#fff'], //0.1 透明度的白色背景\n                                                    offset: [height / 2+'px', width / 2+'px'],\n                                                });\n                                                setTimeout(function(){\n                                                    window.location.href = data;\n                                                }, 800);\n                                            }\n                                        }\n                                    });\n                                }\n                            }\n                        }else{\n                            myPlayer.addEventListener('play',videojsplay);\n                            myPlayer.addEventListener('pause',videojspause);\n                            myPlayer.addEventListener('ended', videojsended);\n                            //暂停\n                            function videojspause() {\n                                clearInterval(setLearntime);\n                                var times      = parseInt(myPlayer.currentTime);\n                                var total_time = parseInt(myPlayer.duration);\n                                if(times &gt; 2){\n                                    addLearnLog(times , total_time,1);\n                                }\n                            }\n                            //结束\n                            function videojsended() {\n                                clearInterval(setLearntime);\n                                var times      = parseInt(myPlayer.currentTime);\n                                var total_time = parseInt(myPlayer.duration);\n                                if(times &gt; 2){\n                                    addLearnLog(times , total_time,1);\n                                }\n                                if( total_time != 0 &amp;&amp; times &gt;= total_time ){\n                                    // 获取下一解锁课时并跳转\n                                    $.ajax({\n                                        type: \"POST\",\n                                        url:\"http://xbzj.masterol.cn/index.php?app=course&amp;mod=Video&amp;act=getNextSection\",\n                                        data:{vid:\"155\",sid:\"1722\"},\n                                        dataType:\"json\",\n                                        success:function(data){\n                                            if(data){\n                                                var height = $('#vplayer').height();\n                                                var width = $('#vplayer').width();\n                                                var index = ui.open({\n                                                    type:3,\n                                                    icon:2,\n                                                    shade: [0.7, '#fff'], //0.1 透明度的白色背景\n                                                    offset: [height / 2+'px', width / 2+'px'],\n                                                });\n                                                setTimeout(function(){\n                                                    window.location.href = data;\n                                                }, 800);\n                                            }\n                                        }\n                                    });\n                                }\n                            }\n                        }\n\n                     \n                  \n                            \n                         if(!is_drag){\n                            var play_time = parseInt(storage.getItem(\"play_time_155_1722_5091\"));\n\n                             if(curr_times-times&gt;1){\n                        \t    console.log('1307'+curr_times+'-'+play_time+'--'+times);\n                        \t    myPlayer.currentTime(play_time);\n                        \t    storage.setItem(\"play_time_155_1722_5091\", play_time);\n                               }   \n        \n                            }\n                            \n       \n                            if( total_time != 0 &amp;&amp; curr_times &gt;= total_time ){\n                                // 获取下一解锁课时并跳转\n                                $.ajax({\n                                    type: \"POST\",\n                                    url:\"http://xbzj.masterol.cn/index.php?app=course&amp;mod=Video&amp;act=getNextSection\",\n                                    data:{vid:\"155\",sid:\"1722\"},\n                                    dataType:\"json\",\n                                    success:function(data){\n                                        if(data){\n                                            var height = $('#vplayer').height();\n                                            var width = $('#vplayer').width();\n                                            var index = ui.open({\n                                                type:3,\n                                                icon:2,\n                                                shade: [0.7, '#fff'], //0.1 透明度的白色背景\n                                                offset: [height / 2+'px', width / 2+'px'],\n                                            });\n                                            setTimeout(function(){\n                                                window.location.href = data;\n                                            }, 800);\n                                        }\n                                    }\n                                });\n                            }\n\n                            if( times     != parseInt(myPlayer.currentTime()) ){\n                                times      = parseInt(myPlayer.currentTime());\n                                if(times &gt; 0 &amp;&amp; times % 4 == 0 ){\n                                    addLearnLog(times , total_time , 0);  //0 表示不及时更新学习记录，即 4 秒一次\n                                }\n                                storage.setItem( 'learn_curr_time', times);\n                            }\n\n                            if(is_free == 0 &amp;&amp; free == 0){\n                                if (times &gt; test_time){\n                                    myPlayer.pause();\n                                    $(\"#vplayer\").html('');\n                                    $(\".vedioPlay-msg\").css(\"display\",\"block\");\n                                }\n                            }\n                        }\n\n                        //video 时间更新\n                        function videotimeupdate() {\n                            var test_time  = 5;\n                            var is_free    = 1;//课程是否免费\n                         var free       = 0;//课时是否免费\n\n                         var total_time = parseInt(myPlayer.duration);\n                            var times      = storage.getItem('learn_curr_time');\n                            var curr_times = parseInt(myPlayer.currentTime);\n\n                            // 拖动进度\n                            if(!is_drag){\n                                var play_time = parseInt(storage.getItem(\"play_time_155_1722_5091\"));\n\n                                 if(curr_times-times&gt;1){\n                            \t    console.log('1307'+curr_times+'-'+play_time+'--'+times);\n                            \t    myPlayer.currentTime = play_time;\n                            \t    storage.setItem(\"play_time_155_1722_5091\", play_time);\n                                   }   \n            \n                                }\n\n                            if( total_time != 0 &amp;&amp; curr_times &gt;= total_time ){\n                                // 获取下一解锁课时并跳转\n                                $.ajax({\n                                    type: \"POST\",\n                                    url:\"http://xbzj.masterol.cn/index.php?app=course&amp;mod=Video&amp;act=getNextSection\",\n                                    data:{vid:\"155\",sid:\"1722\"},\n                                    dataType:\"json\",\n                                    success:function(data){\n                                        if(data){\n                                            var height = $('#vplayer').height();\n                                            var width = $('#vplayer').width();\n                                            var index = ui.open({\n                                                type:3,\n                                                icon:2,\n                                                shade: [0.7, '#fff'], //0.1 透明度的白色背景\n                                                offset: [height / 2+'px', width / 2+'px'],\n                                            });\n                                            setTimeout(function(){\n                                                window.location.href = data;\n                                            }, 800);\n                                        }\n                                    }\n                                });\n                            }\n\n                            if( times     != parseInt(myPlayer.currentTime) ){\n                                times      = parseInt(myPlayer.currentTime);\n                                if(times &gt; 0 &amp;&amp; times % 4 == 0 ){\n                                    addLearnLog(times , total_time , 0);  //0 表示不及时更新学习记录，即 4 秒一次\n                                }\n                                storage.setItem( 'learn_curr_time', times);\n                            }\n\n                            if(is_free == 0 &amp;&amp; free == 0){\n                                if (times &gt; test_time){\n                                    myPlayer.pause();\n                                    $(\"#vplayer\").html('');\n                                    $(\".vedioPlay-msg\").css(\"display\",\"block\");\n                                }\n                            }\n                        }\n\n                        //添加观看记录\n                        function addLearnLog(timespan , total_time , is_true){\n                            var t          = parseInt(timespan);\n                            var total_time = parseInt(total_time);\n                            var video_type = \"5\";\n\n                            if((t &amp;&amp; (t % 4 == 0)) || is_true == 1){\n\n                                $.ajax({\n                                    type: \"POST\",\n                                    url:\"http://xbzj.masterol.cn/index.php?app=course&amp;mod=Video&amp;act=updateLearn\",\n                                    data:{time:t,player_seek_time:learntime,vid:\"155\",sid:\"1722\",totaltime:total_time,is_true:is_true,type:video_type},\n                                    dataType:\"json\",\n                                    success:function(data){\n                                    \t\n                                      if(data.status=='0'){\n                                       \t    console.log('修正--'+t+'-'+data.time);\n                                       \t    \n                                       \t   if(is_hls == 1){\n                                       \t\t  myPlayer.currentTime(data.time);\t\n                                       \t    }else{\n                                       \t      myPlayer.currentTime = data.time;\n                                       \t    }\n                                       \t    storage.setItem(\"play_time_155_1722_5091\", data.time);\n                                            ui.error('禁止多次拖动快进！');\n                                            return;\n                                       }else if(data.status=='-1'){\n                                       \t\n                                       \t    ui.error('您的登录已过期，请重新登录');\n                                       \t    var callbacklogin = \"location.href ='/login.html'\";\n                                            setTimeout(callbacklogin,3000);\n                                            return false;\n                                       }else{\n                                       \t\n                                       \t\n                                       }\n                                    }\n                                });\n\n                            }\n                        }\n                    });\n</code></pre>\n", "last_modified": 1668435726, "replies": 77, "id": 895249}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 192993, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 3619, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 592807, "username": "NoraProgrmming", "url": "https://www.v2ex.com/u/NoraProgrmming", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/c70c2dbed84dcae4fc94e5bd6917a7c2?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/c70c2dbed84dcae4fc94e5bd6917a7c2?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/c70c2dbed84dcae4fc94e5bd6917a7c2?s=73&d=retro", "created": 1661829929, "last_modified": 1668479879}, "last_reply_by": "Zeonjl", "last_touched": 1668511797, "title": "Shadowrocket 机场小白求赐教", "url": "https://www.v2ex.com/t/895324", "created": 1668480274, "deleted": 0, "content": "本人从事外贸行业，对网络技术一知半解。\r\n使用 shadowrocket 已经有几年了，一直在同一家公司续费，最近发现自己的节点供应商有几个问题。\r\n第一、该公司所有节点已经被 YouTube 拉黑。无法评论、上传视频。\r\n第一、每次使用 google 都说检测到该 ip 异常，让我选红绿灯验证，这是正常的吗，每天验证好烦。\r\n第三、白嫖过一些机场但是不太稳定需要经常更换，本人运营海外 tiktok 频道。需要稳定的 ip 和网络环境。\r\n所以现在求一个能正常使用 YouTube 、Google 不用天天验证、稳定的机场，可以付费。\r\n求求各位好心网友", "content_rendered": "本人从事外贸行业，对网络技术一知半解。<br />使用 shadowrocket 已经有几年了，一直在同一家公司续费，最近发现自己的节点供应商有几个问题。<br />第一、该公司所有节点已经被 YouTube 拉黑。无法评论、上传视频。<br />第一、每次使用 google 都说检测到该 ip 异常，让我选红绿灯验证，这是正常的吗，每天验证好烦。<br />第三、白嫖过一些机场但是不太稳定需要经常更换，本人运营海外 tiktok 频道。需要稳定的 ip 和网络环境。<br />所以现在求一个能正常使用 YouTube 、Google 不用天天验证、稳定的机场，可以付费。<br />求求各位好心网友", "last_modified": 1668480274, "replies": 72, "id": 895324}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1668093348", "name": "career", "avatar_normal": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1668093348", "title": "职场话题", "url": "https://www.v2ex.com/go/career", "topics": 13657, "footer": "", "header": "这里，我们聊聊那些工作中遇到的开心和不开心的事。", "title_alternative": "Career", "avatar_mini": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1668093348", "stars": 2508, "aliases": [], "root": false, "id": 770, "parent_node_name": "work"}, "member": {"id": 445355, "username": "smallyu", "url": "https://www.v2ex.com/u/smallyu", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/4d56/8606/445355_mini.png?m=1645178387", "avatar_normal": "https://cdn.v2ex.com/avatar/4d56/8606/445355_normal.png?m=1645178387", "avatar_large": "https://cdn.v2ex.com/avatar/4d56/8606/445355_large.png?m=1645178387", "avatar_xlarge": "https://cdn.v2ex.com/avatar/4d56/8606/445355_xlarge.png?m=1645178387", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/4d56/8606/445355_xlarge.png?m=1645178387", "created": 1570595023, "last_modified": 1645178387}, "last_reply_by": "ko20", "last_touched": 1668514235, "title": "领导结婚纪念日，要送礼物吗？", "url": "https://www.v2ex.com/t/895378", "created": 1668489160, "deleted": 0, "content": "一直在软件公司工作，没经历过这些事。\r\n\r\n朋友说她们领导结婚纪念日，同事们都送了口红啥的，她也要去买礼物。\r\n\r\n我说她们公司有点江湖气，她有点不高兴，说人家都送你不能不送吧。\r\n\r\n她们不是事业单位，就是商业公司。\r\n\r\n我对职场的理解太片面了吗？", "content_rendered": "一直在软件公司工作，没经历过这些事。<br /><br />朋友说她们领导结婚纪念日，同事们都送了口红啥的，她也要去买礼物。<br /><br />我说她们公司有点江湖气，她有点不高兴，说人家都送你不能不送吧。<br /><br />她们不是事业单位，就是商业公司。<br /><br />我对职场的理解太片面了吗？", "last_modified": 1668489429, "replies": 56, "id": 895378}]